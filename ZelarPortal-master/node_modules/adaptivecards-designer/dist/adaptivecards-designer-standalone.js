(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("adaptivecards"), require("adaptivecards-templating"));
	else if(typeof define === 'function' && define.amd)
		define([, ], factory);
	else if(typeof exports === 'object')
		exports["ACDesigner"] = factory(require("adaptivecards"), require("adaptivecards-templating"));
	else
		root["ACDesigner"] = factory(root["AdaptiveCards"], root["ACData"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_adaptivecards__, __WEBPACK_EXTERNAL_MODULE_adaptivecards_templating__) {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../adaptivecards-controls/lib/adaptivecards-controls.js":
/*!***************************************************************!*\
  !*** ../adaptivecards-controls/lib/adaptivecards-controls.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
__exportStar(__webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js"), exports);
__exportStar(__webpack_require__(/*! ./enums */ "../adaptivecards-controls/lib/enums.js"), exports);
__exportStar(__webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js"), exports);
__exportStar(__webpack_require__(/*! ./collection */ "../adaptivecards-controls/lib/collection.js"), exports);
__exportStar(__webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js"), exports);
__exportStar(__webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js"), exports);
__exportStar(__webpack_require__(/*! ./calendar */ "../adaptivecards-controls/lib/calendar.js"), exports);
__exportStar(__webpack_require__(/*! ./dropdown */ "../adaptivecards-controls/lib/dropdown.js"), exports);
__exportStar(__webpack_require__(/*! ./datepicker */ "../adaptivecards-controls/lib/datepicker.js"), exports);
__exportStar(__webpack_require__(/*! ./checkbox */ "../adaptivecards-controls/lib/checkbox.js"), exports);
__exportStar(__webpack_require__(/*! ./radiobutton */ "../adaptivecards-controls/lib/radiobutton.js"), exports);
__exportStar(__webpack_require__(/*! ./textbox */ "../adaptivecards-controls/lib/textbox.js"), exports);
__exportStar(__webpack_require__(/*! ./popupmenu */ "../adaptivecards-controls/lib/popupmenu.js"), exports);
//# sourceMappingURL=adaptivecards-controls.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/calendar.js":
/*!*************************************************!*\
  !*** ../adaptivecards-controls/lib/calendar.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Calendar = exports.DayCell = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Utils = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var DayCell = /** @class */ (function () {
    function DayCell(date) {
        this._isSubdued = false;
        this._isSelected = false;
        this.date = date;
    }
    DayCell.prototype.selected = function () {
        if (this.onSelected) {
            this.onSelected(this);
        }
    };
    DayCell.prototype.render = function () {
        var _this = this;
        this._element = document.createElement("div");
        this._element.className = "ms-ctrl ms-ctrl-calendarDay";
        this._element.innerText = this.date.getDate().toString();
        this._element.tabIndex = 0;
        this._element.onclick = function (e) { _this.selected(); };
        this._element.onkeydown = function (e) {
            if (e.key == constants_1.Constants.keys.enter) {
                _this.selected();
                return false;
            }
        };
        return this._element;
    };
    DayCell.prototype.focus = function () {
        this._element.focus();
    };
    Object.defineProperty(DayCell.prototype, "isSubdued", {
        get: function () {
            return this._isSubdued;
        },
        set: function (value) {
            this._isSubdued = value;
            if (this._isSubdued) {
                this._element.classList.add("subdued");
            }
            else {
                this._element.classList.remove("subdued");
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DayCell.prototype, "isSelected", {
        get: function () {
            return this._isSelected;
        },
        set: function (value) {
            this._isSelected = value;
            if (this._isSelected) {
                this._element.classList.add("selected");
            }
            else {
                this._element.classList.remove("selected");
            }
        },
        enumerable: false,
        configurable: true
    });
    return DayCell;
}());
exports.DayCell = DayCell;
var Calendar = /** @class */ (function (_super) {
    __extends(Calendar, _super);
    function Calendar() {
        var _this = _super.call(this) || this;
        _this._selectedDay = null;
        _this._miniCalendarElement = document.createElement("table");
        _this._miniCalendarElement.className = "ms-ctrl ms-ctrl-slide";
        _this._miniCalendarElement.cellPadding = "0px";
        _this._miniCalendarElement.cellSpacing = "0px";
        var miniCalendarHeader = document.createElement("div");
        miniCalendarHeader.className = "ms-ctrl ms-ctrl-calendarHeader";
        miniCalendarHeader.style.display = "flex";
        _this._monthYearLabelElement = document.createElement("div");
        _this._monthYearLabelElement.style.flex = "1 1 100%";
        miniCalendarHeader.appendChild(_this._monthYearLabelElement);
        var navButtons = document.createElement("div");
        navButtons.style.flex = "0 0 auto";
        var button = document.createElement("i");
        button.className = "ms-icon ms-ctrl-calendarNavButton ms-icon-chevronLeft";
        button.tabIndex = 0;
        button.onclick = function (e) {
            _this.date = Utils.addMonths(_this.date, -1);
        };
        button.onkeydown = function (e) {
            if (e.key == constants_1.Constants.keys.enter) {
                _this.date = Utils.addMonths(_this.date, -1);
                return false;
            }
        };
        navButtons.appendChild(button);
        button = document.createElement("i");
        button.className = "ms-icon ms-ctrl-calendarNavButton ms-icon-chevronRight";
        button.tabIndex = 0;
        button.onclick = function (e) {
            _this.date = Utils.addMonths(_this.date, 1);
        };
        button.onkeydown = function (e) {
            if (e.key == constants_1.Constants.keys.enter) {
                _this.date = Utils.addMonths(_this.date, 1);
                return false;
            }
        };
        navButtons.appendChild(button);
        miniCalendarHeader.appendChild(navButtons);
        _this._rootContainerElement = document.createElement("div");
        _this._rootContainerElement.className = "ms-ctrl ms-ctrl-calendar";
        _this._rootContainerElement.appendChild(miniCalendarHeader);
        _this._rootContainerElement.appendChild(_this._miniCalendarElement);
        _this.date = new Date();
        return _this;
    }
    Calendar.prototype.generateDayCells = function (baseDate) {
        var _this = this;
        this._days = [];
        var inputMonth = baseDate.getMonth();
        var inputYear = baseDate.getFullYear();
        var start = new Date(inputYear, inputMonth, 1);
        var end = new Date(inputYear, inputMonth, Utils.daysInMonth(inputYear, inputMonth));
        var startDateDayOfWeek = start.getDay();
        if ((startDateDayOfWeek - Utils.CalendarSettings.firstDayOfWeek) > 0) {
            start = Utils.addDays(start, Utils.CalendarSettings.firstDayOfWeek - startDateDayOfWeek);
        }
        var endDateDayOfWeek = end.getDay();
        var lastDayOfWeek = Utils.CalendarSettings.firstDayOfWeek + 6;
        if ((lastDayOfWeek - endDateDayOfWeek) > 0) {
            end = Utils.addDays(end, lastDayOfWeek - endDateDayOfWeek);
        }
        var endDate = end.getDate();
        var endMonth = end.getMonth();
        var endYear = end.getFullYear();
        do {
            var dayCell = new DayCell(start);
            dayCell.onSelected = function (clickedCell) {
                _this.selectedDayCell = clickedCell;
                if (_this.onDateChanged) {
                    _this.onDateChanged(_this);
                }
            };
            this._days.push(dayCell);
            var done = start.getDate() == endDate && start.getMonth() == endMonth && start.getFullYear() == endYear;
            start = Utils.addDays(start, 1);
        } while (!done);
    };
    Object.defineProperty(Calendar.prototype, "selectedDayCell", {
        get: function () {
            return this._selectedDay;
        },
        set: function (value) {
            if (this._selectedDay) {
                this._selectedDay.isSelected = false;
            }
            this._selectedDay = value;
            if (this._selectedDay) {
                this._selectedDay.isSelected = true;
                this._date = this._selectedDay.date;
            }
        },
        enumerable: false,
        configurable: true
    });
    Calendar.prototype.initializeSelection = function () {
        if (this._date) {
            for (var i = 0; i < this._days.length; i++) {
                if (Utils.areDatesEqual(this._days[i].date, this.date)) {
                    this.selectedDayCell = this._days[i];
                    break;
                }
            }
        }
    };
    Calendar.prototype.rebuildMiniCalendar = function (newDate, oldDate) {
        this.generateDayCells(newDate);
        var month = newDate.getMonth();
        this._miniCalendarElement.innerHTML = "";
        this._miniCalendarElement.classList.remove("ms-ctrl-slide", "ms-ctrl-slideLeftToRight", "ms-ctrl-slideRightToLeft");
        var row = document.createElement("tr");
        var dayIndex = Utils.CalendarSettings.firstDayOfWeek;
        for (var i = 0; i < Utils.CalendarSettings.daysInWeek; i++) {
            var cell = document.createElement("td");
            cell.className = "ms-ctrl ms-ctrl-calendarDayHeader";
            cell.innerText = Utils.CalendarSettings.getInitialDayName(dayIndex);
            row.appendChild(cell);
            dayIndex++;
            if (dayIndex >= Utils.CalendarSettings.daysInWeek) {
                dayIndex = 0;
            }
        }
        this._miniCalendarElement.appendChild(row);
        for (var i = 0; i < this._days.length; i++) {
            if (i % 7 == 0) {
                row = document.createElement("tr");
                this._miniCalendarElement.appendChild(row);
            }
            var tableCell = document.createElement("td");
            tableCell.appendChild(this._days[i].render());
            if (this._days[i].date.getMonth() != month) {
                this._days[i].isSubdued = true;
            }
            row.appendChild(tableCell);
        }
        if (oldDate) {
            var timeDelta = newDate.getTime() - oldDate.getTime();
            if (timeDelta > 0) {
                this._miniCalendarElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideRightToLeft");
            }
            else if (timeDelta < 0) {
                this._miniCalendarElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideLeftToRight");
            }
        }
    };
    Calendar.prototype.attach = function (rootElement) {
        _super.prototype.attach.call(this, rootElement);
        rootElement.innerHTML = "";
        rootElement.appendChild(this._rootContainerElement);
    };
    Calendar.prototype.focus = function () {
        if (this._selectedDay) {
            this._selectedDay.focus();
        }
    };
    Object.defineProperty(Calendar.prototype, "date", {
        get: function () {
            return this._date;
        },
        set: function (value) {
            var rebuildNeeded = true;
            var timeDelta = 0;
            var newDate = value ? value : new Date();
            if (this._date) {
                rebuildNeeded = !this._days || newDate.getFullYear() != this._date.getFullYear() || newDate.getMonth() != this._date.getMonth();
            }
            if (rebuildNeeded) {
                this.rebuildMiniCalendar(newDate, this._date);
            }
            this._date = newDate;
            this.initializeSelection();
            this._monthYearLabelElement.innerText = Utils.CalendarSettings.getLongMonthName(this._date.getMonth()) + " " + this._date.getFullYear();
        },
        enumerable: false,
        configurable: true
    });
    return Calendar;
}(inputcontrol_1.InputControl));
exports.Calendar = Calendar;
//# sourceMappingURL=calendar.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/checkbox.js":
/*!*************************************************!*\
  !*** ../adaptivecards-controls/lib/checkbox.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CheckBox = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var CheckBox = /** @class */ (function (_super) {
    __extends(CheckBox, _super);
    function CheckBox() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._label = "";
        _this._checkboxElement = null;
        _this._spanElement = null;
        return _this;
    }
    CheckBox.createId = function () {
        var result = CheckBox.creationIndex;
        CheckBox.creationIndex++;
        return result;
    };
    CheckBox.prototype.changed = function () {
        if (this.onChange) {
            this.onChange(this);
        }
    };
    CheckBox.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.enter:
                this.isChecked = !this.isChecked;
                break;
        }
    };
    CheckBox.prototype.attach = function (rootElement) {
        var _this = this;
        _super.prototype.attach.call(this, rootElement);
        rootElement.className = "ms-ctrl ms-ctrl-checkbox";
        rootElement.tabIndex = 0;
        var labelAttribute = rootElement.attributes["label"];
        if (labelAttribute) {
            this._label = labelAttribute.value;
        }
        var isCheckedAttribute = rootElement.attributes["ischecked"];
        if (isCheckedAttribute) {
            this._isChecked = isCheckedAttribute.value === "true";
        }
        this._checkboxElement = document.createElement("input");
        this._checkboxElement.id = "ms-ctrl-checkbox-" + CheckBox.createId();
        this._checkboxElement.type = "checkbox";
        this._checkboxElement.style.position = "absolute";
        this._checkboxElement.checked = this.isChecked;
        this._checkboxElement.onchange = function (e) { _this.changed(); };
        var labelElement = document.createElement("label");
        labelElement.htmlFor = this._checkboxElement.id;
        this._spanElement = document.createElement("span");
        this._spanElement.innerText = this._label;
        labelElement.appendChild(this._spanElement);
        rootElement.innerHTML = "";
        rootElement.appendChild(this._checkboxElement);
        rootElement.appendChild(labelElement);
    };
    Object.defineProperty(CheckBox.prototype, "label", {
        get: function () {
            return this._label;
        },
        set: function (value) {
            this._label = value;
            if (this._spanElement) {
                this._spanElement.innerText = this._label;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CheckBox.prototype, "isChecked", {
        get: function () {
            return this._isChecked;
        },
        set: function (value) {
            if (this._isChecked != value) {
                this._isChecked = value;
                if (this._checkboxElement) {
                    this._checkboxElement.checked = this._isChecked;
                }
                this.changed();
            }
        },
        enumerable: false,
        configurable: true
    });
    // Used to generate unique Ids
    CheckBox.creationIndex = 0;
    return CheckBox;
}(inputcontrol_1.InputControl));
exports.CheckBox = CheckBox;
//# sourceMappingURL=checkbox.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/collection.js":
/*!***************************************************!*\
  !*** ../adaptivecards-controls/lib/collection.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Collection = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Collection = /** @class */ (function () {
    function Collection() {
        this._items = [];
        this.onItemAdded = null;
        this.onItemRemoved = null;
    }
    Collection.prototype.get = function (index) {
        return this._items[index];
    };
    Collection.prototype.add = function (item) {
        this._items.push(item);
        if (this.onItemAdded) {
            this.onItemAdded(item);
        }
    };
    Collection.prototype.remove = function (item) {
        var i = this._items.indexOf(item);
        if (i >= 0) {
            this._items = this._items.splice(i, 1);
            if (this.onItemRemoved) {
                this.onItemRemoved(item);
            }
        }
    };
    Collection.prototype.indexOf = function (item) {
        return this._items.indexOf(item);
    };
    Object.defineProperty(Collection.prototype, "length", {
        get: function () {
            return this._items.length;
        },
        enumerable: false,
        configurable: true
    });
    return Collection;
}());
exports.Collection = Collection;
//# sourceMappingURL=collection.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/constants.js":
/*!**************************************************!*\
  !*** ../adaptivecards-controls/lib/constants.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Constants = exports.KEY_DELETE = exports.KEY_DOWN = exports.KEY_UP = exports.KEY_SPACE = exports.KEY_ESCAPE = exports.KEY_ENTER = exports.KEY_TAB = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
/**
 * @deprecated Use Constants.keys.tab instead.
 */
exports.KEY_TAB = 9;
/**
 * @deprecated Use Constants.keys.enter instead.
 */
exports.KEY_ENTER = 13;
/**
 * @deprecated Use Constants.keys.escape instead.
 */
exports.KEY_ESCAPE = 27;
/**
 * @deprecated Use Constants.keys.space instead.
 */
exports.KEY_SPACE = 32;
/**
 * @deprecated Use Constants.keys.up instead.
 */
exports.KEY_UP = 38;
/**
 * @deprecated Use Constants.keys.down instead.
 */
exports.KEY_DOWN = 40;
/**
 * @deprecated Use Constants.keys.delete instead.
 */
exports.KEY_DELETE = 46;
var Constants = /** @class */ (function () {
    function Constants() {
    }
    Constants.keys = {
        tab: "Tab",
        enter: "Enter",
        escape: "Escape",
        space: " ",
        up: "ArrowUp",
        down: "ArrowDown",
        delete: "Delete"
    };
    return Constants;
}());
exports.Constants = Constants;
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/datepicker.js":
/*!***************************************************!*\
  !*** ../adaptivecards-controls/lib/datepicker.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DatePicker = exports.CalendarPopupControl = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var inputwithpopup_1 = __webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js");
var calendar_1 = __webpack_require__(/*! ./calendar */ "../adaptivecards-controls/lib/calendar.js");
var CalendarPopupControl = /** @class */ (function (_super) {
    __extends(CalendarPopupControl, _super);
    function CalendarPopupControl(owner) {
        var _this = _super.call(this) || this;
        _this._owner = owner;
        return _this;
    }
    CalendarPopupControl.prototype.renderContent = function () {
        var _this = this;
        var element = document.createElement("div");
        element.className = "ms-ctrl ms-calendarPopup";
        this._calendar = new calendar_1.Calendar();
        this._calendar.date = this._owner.value;
        this._calendar.onDateChanged = function (c) {
            _this._owner.value = c.date;
            _this.closePopup(false);
        };
        this._calendar.attach(element);
        return element;
    };
    CalendarPopupControl.prototype.focus = function () {
        if (this._calendar) {
            this._calendar.focus();
        }
    };
    return CalendarPopupControl;
}(inputwithpopup_1.PopupControl));
exports.CalendarPopupControl = CalendarPopupControl;
var DatePicker = /** @class */ (function (_super) {
    __extends(DatePicker, _super);
    function DatePicker() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DatePicker.prototype.validateRootElement = function (rootElement) {
        if (!(rootElement instanceof HTMLDivElement)) {
            throw new Error("DatePicker requires a DIV element as its root.");
        }
    };
    DatePicker.prototype.createPopupControl = function () {
        return new CalendarPopupControl(this);
    };
    DatePicker.prototype.getValueAsString = function () {
        return this.value.toLocaleDateString();
    };
    DatePicker.prototype.getCssClassName = function () {
        return "ms-ctrl ms-ctrl-datePicker";
    };
    DatePicker.prototype.getButtonIconCssClassName = function () {
        return "ms-icon-calendar";
    };
    DatePicker.prototype.popup = function () {
        _super.prototype.popup.call(this);
        if (this.isOpen) {
            this.popupControl.focus();
        }
    };
    return DatePicker;
}(inputwithpopup_1.InputWithPopup));
exports.DatePicker = DatePicker;
//# sourceMappingURL=datepicker.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/dropdown.js":
/*!*************************************************!*\
  !*** ../adaptivecards-controls/lib/dropdown.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DropDown = exports.DropDownPopupControl = exports.DropDownItem = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var collection_1 = __webpack_require__(/*! ./collection */ "../adaptivecards-controls/lib/collection.js");
var inputwithpopup_1 = __webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js");
var DropDownItem = /** @class */ (function () {
    function DropDownItem(key, value) {
        this.key = key;
        this._value = value;
    }
    DropDownItem.prototype.click = function () {
        if (this.onClick) {
            this.onClick(this);
        }
    };
    DropDownItem.prototype.toString = function () {
        return this.value;
    };
    DropDownItem.prototype.render = function () {
        var _this = this;
        if (!this._element) {
            this._element = document.createElement("span");
            this._element.className = "ms-ctrl ms-ctrl-dropdown-item";
            this._element.innerText = this.value;
            this._element.setAttribute("role", "menuitem");
            this._element.setAttribute("aria-selected", "false");
            this._element.onmouseup = function (e) { _this.click(); };
            this._element.onkeydown = function (e) {
                if (e.key === constants_1.Constants.keys.enter) {
                    _this.click();
                    e.cancelBubble = true;
                }
            };
        }
        return this._element;
    };
    Object.defineProperty(DropDownItem.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (newValue) {
            this._value = newValue;
            if (this._element) {
                this._element.innerText = newValue;
            }
        },
        enumerable: false,
        configurable: true
    });
    return DropDownItem;
}());
exports.DropDownItem = DropDownItem;
var DropDownPopupControl = /** @class */ (function (_super) {
    __extends(DropDownPopupControl, _super);
    function DropDownPopupControl(owner) {
        var _this = _super.call(this) || this;
        _this._renderedItems = [];
        _this._selectedIndex = -1;
        _this._owner = owner;
        return _this;
    }
    DropDownPopupControl.prototype.renderContent = function () {
        var element = document.createElement("div");
        element.className = "ms-ctrl ms-popup";
        element.setAttribute("role", "menu");
        var selectedIndex = this._owner.selectedIndex;
        for (var i = 0; i < this._owner.items.length; i++) {
            var renderedItem = this._owner.items.get(i).render();
            renderedItem.tabIndex = 0;
            element.appendChild(renderedItem);
            if (i == selectedIndex) {
                renderedItem.focus();
            }
            this._renderedItems.push(renderedItem);
        }
        return element;
    };
    DropDownPopupControl.prototype.keyDown = function (e) {
        _super.prototype.keyDown.call(this, e); // handles ESC
        var selectedItemIndex = this._selectedIndex;
        switch (e.key) {
            case constants_1.Constants.keys.tab:
                this.closePopup(true);
                break;
            case constants_1.Constants.keys.enter:
                if (this.selectedIndex >= 0) {
                    this._owner.selectedIndex = this.selectedIndex;
                    this.closePopup(false);
                }
                break;
            case constants_1.Constants.keys.up:
                if (selectedItemIndex <= 0) {
                    selectedItemIndex = this._renderedItems.length - 1;
                }
                else {
                    selectedItemIndex--;
                    if (selectedItemIndex < 0) {
                        selectedItemIndex = this._renderedItems.length - 1;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
            case constants_1.Constants.keys.down:
                if (selectedItemIndex < 0) {
                    selectedItemIndex = 0;
                }
                else {
                    selectedItemIndex++;
                    if (selectedItemIndex >= this._renderedItems.length) {
                        selectedItemIndex = 0;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
        }
    };
    DropDownPopupControl.prototype.render = function (rootElementBounds) {
        var renderedElement = _super.prototype.render.call(this, rootElementBounds);
        renderedElement.style.minWidth = (rootElementBounds.width / 2) + "px";
        return renderedElement;
    };
    Object.defineProperty(DropDownPopupControl.prototype, "selectedIndex", {
        get: function () {
            return this._selectedIndex;
        },
        set: function (index) {
            if (index >= 0 && index < this._renderedItems.length) {
                // deselect previous item (if one was selected)
                if (this._selectedIndex >= 0 && this._selectedIndex < this._renderedItems.length) {
                    this._renderedItems[this._selectedIndex].setAttribute("aria-selected", "false");
                }
                // select new item
                this._renderedItems[index].focus();
                this._renderedItems[index].setAttribute("aria-selected", "true");
                this._selectedIndex = index;
            }
        },
        enumerable: false,
        configurable: true
    });
    return DropDownPopupControl;
}(inputwithpopup_1.PopupControl));
exports.DropDownPopupControl = DropDownPopupControl;
var DropDown = /** @class */ (function (_super) {
    __extends(DropDown, _super);
    function DropDown() {
        var _this = _super.call(this) || this;
        _this._items = new collection_1.Collection();
        _this._items.onItemAdded = function (item) { item.onClick = function (clickedItem) { _this.itemClicked(clickedItem); }; };
        _this._items.onItemRemoved = function (item) { item.onClick = null; };
        return _this;
    }
    DropDown.prototype.itemClicked = function (item) {
        this.selectedItem = item;
        this.closePopup(false);
        this.rootElement.focus();
    };
    DropDown.prototype.validateRootElement = function (rootElement) {
        if (!(rootElement instanceof HTMLDivElement)) {
            throw new Error("DropDown requires a DIV element as its root.");
        }
    };
    DropDown.prototype.createPopupControl = function () {
        return new DropDownPopupControl(this);
    };
    DropDown.prototype.getCssClassName = function () {
        return "ms-ctrl ms-ctrl-dropdown";
    };
    DropDown.prototype.attach = function (rootElement) {
        _super.prototype.attach.call(this, rootElement);
        for (var i = 0; i < this.rootElement.children.length; i++) {
            var childElement = this.rootElement.children[i];
            if (childElement.tagName.toLowerCase() == "ms-dropdown-item") {
                var item = new DropDownItem(childElement.attributes.getNamedItem("key").value, childElement.attributes.getNamedItem("value").value);
                this._items.add(item);
            }
        }
        // add aria-labelledby tag with all pertinent label ids
        var ariaLabelledByIds = [];
        if (this.parentLabelId) {
            ariaLabelledByIds.push(this.parentLabelId);
        }
        if (this.labelId) {
            ariaLabelledByIds.push(this.labelId);
        }
        if (ariaLabelledByIds.length > 0) {
            this.rootElement.setAttribute("aria-labelledby", ariaLabelledByIds.join(" "));
        }
        this.rootElement.setAttribute("role", "button");
        this.rootElement.setAttribute("aria-haspopup", "menu");
    };
    DropDown.prototype.popup = function () {
        _super.prototype.popup.call(this);
        this.popupControl.selectedIndex = this.selectedIndex;
    };
    Object.defineProperty(DropDown.prototype, "items", {
        get: function () {
            return this._items;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DropDown.prototype, "selectedItem", {
        get: function () {
            return this.value;
        },
        set: function (newValue) {
            this.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DropDown.prototype, "selectedIndex", {
        get: function () {
            return this.items.indexOf(this.value);
        },
        set: function (index) {
            if (index >= 0 && this.items.length > index) {
                this.selectedItem = this.items.get(index);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DropDown.prototype, "parentLabelId", {
        get: function () {
            return this._parentLabelId;
        },
        set: function (value) {
            this._parentLabelId = value;
        },
        enumerable: false,
        configurable: true
    });
    return DropDown;
}(inputwithpopup_1.InputWithPopup));
exports.DropDown = DropDown;
//# sourceMappingURL=dropdown.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/enums.js":
/*!**********************************************!*\
  !*** ../adaptivecards-controls/lib/enums.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DayOfWeek = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var DayOfWeek;
(function (DayOfWeek) {
    DayOfWeek[DayOfWeek["Sunday"] = 0] = "Sunday";
    DayOfWeek[DayOfWeek["Monday"] = 1] = "Monday";
    DayOfWeek[DayOfWeek["Tuesday"] = 2] = "Tuesday";
    DayOfWeek[DayOfWeek["Wednesday"] = 3] = "Wednesday";
    DayOfWeek[DayOfWeek["Thursday"] = 4] = "Thursday";
    DayOfWeek[DayOfWeek["Friday"] = 5] = "Friday";
    DayOfWeek[DayOfWeek["Saturday"] = 6] = "Saturday";
})(DayOfWeek = exports.DayOfWeek || (exports.DayOfWeek = {}));
//# sourceMappingURL=enums.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/inputcontrol.js":
/*!*****************************************************!*\
  !*** ../adaptivecards-controls/lib/inputcontrol.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputControl = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var InputControl = /** @class */ (function () {
    function InputControl() {
    }
    InputControl.prototype.validateRootElement = function (rootElement) {
        // Do nothing - all root element types are valid.
    };
    InputControl.prototype.keyDown = function (e) {
        // Do nothing in base implementation
    };
    Object.defineProperty(InputControl.prototype, "rootElement", {
        get: function () {
            return this._rootElement;
        },
        enumerable: false,
        configurable: true
    });
    InputControl.prototype.attach = function (rootElement) {
        var _this = this;
        this.validateRootElement(rootElement);
        this._rootElement = rootElement;
        this._rootElement.onkeydown = function (e) { _this.keyDown(e); };
    };
    return InputControl;
}());
exports.InputControl = InputControl;
//# sourceMappingURL=inputcontrol.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/inputwithpopup.js":
/*!*******************************************************!*\
  !*** ../adaptivecards-controls/lib/inputwithpopup.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InputWithPopup = exports.PopupControl = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var Utils = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var uuid_1 = __webpack_require__(/*! uuid */ "../adaptivecards-controls/node_modules/uuid/index.js");
var PopupControl = /** @class */ (function () {
    function PopupControl() {
        this._isOpen = false;
    }
    PopupControl.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.escape:
                this.closePopup(true);
                break;
        }
    };
    PopupControl.prototype.render = function (rootElementBounds) {
        var _this = this;
        var element = document.createElement("div");
        element.tabIndex = 0;
        element.className = "ms-ctrl ms-ctrl-popup-container";
        element.setAttribute("role", "dialog");
        element.setAttribute("aria-modal", "true");
        element.onkeydown = function (e) {
            _this.keyDown(e);
            return !e.cancelBubble;
        };
        element.appendChild(this.renderContent());
        return element;
    };
    PopupControl.prototype.focus = function () {
        if (this._popupElement) {
            this._popupElement.firstElementChild.focus();
        }
    };
    PopupControl.prototype.popup = function (rootElement) {
        var _this = this;
        if (!this._isOpen) {
            this._overlayElement = document.createElement("div");
            this._overlayElement.className = "ms-ctrl-overlay";
            this._overlayElement.tabIndex = 0;
            this._overlayElement.style.width = document.documentElement.scrollWidth + "px";
            this._overlayElement.style.height = document.documentElement.scrollHeight + "px";
            this._overlayElement.onfocus = function (e) { _this.closePopup(true); };
            document.body.appendChild(this._overlayElement);
            var rootElementBounds = rootElement.getBoundingClientRect();
            this._popupElement = this.render(rootElementBounds);
            this._popupElement.classList.remove("ms-ctrl-slide", "ms-ctrl-slideLeftToRight", "ms-ctrl-slideRightToLeft", "ms-ctrl-slideTopToBottom", "ms-ctrl-slideRightToLeft");
            window.addEventListener("resize", function (e) { _this.closePopup(true); });
            var rootElementLabel = rootElement.getAttribute("aria-label");
            if (rootElementLabel) {
                this._popupElement.setAttribute("aria-label", rootElementLabel);
            }
            this._overlayElement.appendChild(this._popupElement);
            var popupElementBounds = this._popupElement.getBoundingClientRect();
            var availableSpaceBelow = window.innerHeight - rootElementBounds.bottom;
            var availableSpaceAbove = rootElementBounds.top;
            var availableSpaceRight = window.innerWidth - rootElementBounds.left;
            var availableSpaceRight = window.innerWidth - rootElementBounds.right;
            var availableSpaceLeft = rootElementBounds.left;
            var left = rootElementBounds.left + Utils.getScrollX();
            var top;
            if (availableSpaceAbove < popupElementBounds.height && availableSpaceBelow < popupElementBounds.height) {
                // Not enough space above or below root element
                var actualPopupHeight = Math.min(popupElementBounds.height, window.innerHeight);
                this._popupElement.style.maxHeight = actualPopupHeight + "px";
                if (actualPopupHeight < popupElementBounds.height) {
                    top = Utils.getScrollY();
                }
                else {
                    top = Utils.getScrollY() + rootElementBounds.top + (rootElementBounds.height - actualPopupHeight) / 2;
                }
                if (availableSpaceLeft < popupElementBounds.width && availableSpaceRight < popupElementBounds.width) {
                    // Not enough space left or right of root element
                    var actualPopupWidth = Math.min(popupElementBounds.width, window.innerWidth);
                    this._popupElement.style.maxWidth = actualPopupWidth + "px";
                    if (actualPopupWidth < popupElementBounds.width) {
                        left = Utils.getScrollX();
                    }
                    else {
                        left = Utils.getScrollX() + rootElementBounds.left + (rootElementBounds.width - actualPopupWidth) / 2;
                    }
                }
                else {
                    // Enough space on the left or right of the root element
                    if (availableSpaceRight >= popupElementBounds.width) {
                        left = Utils.getScrollX() + rootElementBounds.right;
                        this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideLeftToRight");
                    }
                    else {
                        left = Utils.getScrollX() + rootElementBounds.left - popupElementBounds.width;
                        this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideRightToLeft");
                    }
                }
            }
            else {
                // Enough space above or below root element
                if (availableSpaceBelow >= popupElementBounds.height) {
                    top = Utils.getScrollY() + rootElementBounds.bottom;
                    this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideTopToBottom");
                }
                else {
                    top = Utils.getScrollY() + rootElementBounds.top - popupElementBounds.height;
                    this._popupElement.classList.add("ms-ctrl-slide", "ms-ctrl-slideBottomToTop");
                }
                if (availableSpaceRight < popupElementBounds.width) {
                    left = Utils.getScrollX() + rootElementBounds.right - popupElementBounds.width;
                }
            }
            this._popupElement.style.left = left + "px";
            this._popupElement.style.top = top + "px";
            this.focus();
            this._isOpen = true;
        }
    };
    PopupControl.prototype.closePopup = function (wasCancelled) {
        if (this._isOpen) {
            document.body.removeChild(this._overlayElement);
            this._isOpen = false;
            if (this.onClose) {
                this.onClose(this, wasCancelled);
            }
        }
    };
    Object.defineProperty(PopupControl.prototype, "isOpen", {
        get: function () {
            return this._isOpen;
        },
        enumerable: false,
        configurable: true
    });
    return PopupControl;
}());
exports.PopupControl = PopupControl;
var InputWithPopup = /** @class */ (function (_super) {
    __extends(InputWithPopup, _super);
    function InputWithPopup() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InputWithPopup.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.enter:
                this.popup();
                break;
        }
    };
    InputWithPopup.prototype.updateLabel = function () {
        if (this._labelElement) {
            if (this._value) {
                this._labelElement.innerHTML = this.getValueAsString();
                this._labelElement.classList.remove("placeholder");
            }
            else {
                this._labelElement.innerText = this._placeholderText ? this._placeholderText : "";
                this._labelElement.classList.add("placeholder");
            }
        }
    };
    Object.defineProperty(InputWithPopup.prototype, "popupControl", {
        get: function () {
            return this._popupControl;
        },
        enumerable: false,
        configurable: true
    });
    InputWithPopup.prototype.getButtonIconCssClassName = function () {
        return "ms-icon-chevronDown";
    };
    InputWithPopup.prototype.getValueAsString = function () {
        return this._value.toString();
    };
    InputWithPopup.prototype.valueChanged = function () {
        if (this.onValueChanged) {
            this.onValueChanged(this);
        }
    };
    InputWithPopup.prototype.attach = function (rootElement) {
        var _this = this;
        _super.prototype.attach.call(this, rootElement);
        rootElement.tabIndex = 0;
        rootElement.className = this.getCssClassName();
        window.addEventListener("resize", function (e) { _this.closePopup(true); });
        this.rootElement.onclick = function (e) {
            if (_this.isOpen) {
                _this.closePopup(true);
            }
            else {
                _this.popup();
            }
        };
        var placeHolderDomItem = this.rootElement.attributes.getNamedItem("placeholder");
        if (placeHolderDomItem) {
            this._placeholderText = placeHolderDomItem.value;
        }
        this._labelElement = document.createElement("span");
        this._labelElement.className = "ms-ctrl ms-dropdown-label";
        this._labelElement.id = uuid_1.v4(); // generate unique id for our label element
        this._dropDownButtonElement = document.createElement("i");
        this._dropDownButtonElement.className = "ms-icon ms-ctrl-dropdown-button " + this.getButtonIconCssClassName();
        this.rootElement.appendChild(this._labelElement);
        this.rootElement.appendChild(this._dropDownButtonElement);
        this.updateLabel();
    };
    InputWithPopup.prototype.popup = function () {
        var _this = this;
        this._popupControl = this.createPopupControl();
        this._popupControl.onClose = function (sender, wasCancelled) {
            _this.closePopup(wasCancelled);
            _this.rootElement.focus();
        };
        this._popupControl.popup(this.rootElement);
    };
    InputWithPopup.prototype.closePopup = function (wasCancelled) {
        if (this.popupControl) {
            this.popupControl.closePopup(wasCancelled);
        }
    };
    Object.defineProperty(InputWithPopup.prototype, "labelId", {
        get: function () {
            if (this._labelElement) {
                return this._labelElement.id;
            }
            return undefined;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "isOpen", {
        get: function () {
            return this._popupControl ? this._popupControl.isOpen : false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "placeholderText", {
        get: function () {
            return this._placeholderText;
        },
        set: function (value) {
            this._placeholderText = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputWithPopup.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (newValue) {
            if (this._value != newValue) {
                this._value = newValue;
                this.updateLabel();
                this.valueChanged();
            }
        },
        enumerable: false,
        configurable: true
    });
    return InputWithPopup;
}(inputcontrol_1.InputControl));
exports.InputWithPopup = InputWithPopup;
//# sourceMappingURL=inputwithpopup.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/popupmenu.js":
/*!**************************************************!*\
  !*** ../adaptivecards-controls/lib/popupmenu.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PopupMenu = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var collection_1 = __webpack_require__(/*! ./collection */ "../adaptivecards-controls/lib/collection.js");
var inputwithpopup_1 = __webpack_require__(/*! ./inputwithpopup */ "../adaptivecards-controls/lib/inputwithpopup.js");
var PopupMenu = /** @class */ (function (_super) {
    __extends(PopupMenu, _super);
    function PopupMenu() {
        var _this = _super.call(this) || this;
        _this._items = new collection_1.Collection();
        _this._renderedItems = [];
        _this._selectedIndex = -1;
        return _this;
    }
    PopupMenu.prototype.renderContent = function () {
        var element = document.createElement("div");
        element.className = "ms-ctrl ms-popup";
        element.setAttribute("role", "listbox");
        for (var i = 0; i < this._items.length; i++) {
            var renderedItem = this._items.get(i).render();
            renderedItem.tabIndex = 0;
            element.appendChild(renderedItem);
            if (i == this.selectedIndex) {
                renderedItem.focus();
            }
            this._renderedItems.push(renderedItem);
        }
        return element;
    };
    PopupMenu.prototype.keyDown = function (e) {
        _super.prototype.keyDown.call(this, e);
        var selectedItemIndex = this._selectedIndex;
        switch (e.key) {
            case constants_1.Constants.keys.tab:
                this.closePopup(true);
                break;
            /*
            case Constants.keys.enter:
                if (this.selectedIndex >= 0) {
                    this.selectedIndex = this.selectedIndex;

                    this.close();
                }

                break;
            */
            case constants_1.Constants.keys.up:
                if (selectedItemIndex <= 0) {
                    selectedItemIndex = this._renderedItems.length - 1;
                }
                else {
                    selectedItemIndex--;
                    if (selectedItemIndex < 0) {
                        selectedItemIndex = this._renderedItems.length - 1;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
            case constants_1.Constants.keys.down:
                if (selectedItemIndex < 0) {
                    selectedItemIndex = 0;
                }
                else {
                    selectedItemIndex++;
                    if (selectedItemIndex >= this._renderedItems.length) {
                        selectedItemIndex = 0;
                    }
                }
                this.selectedIndex = selectedItemIndex;
                e.cancelBubble = true;
                break;
        }
    };
    Object.defineProperty(PopupMenu.prototype, "items", {
        get: function () {
            return this._items;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(PopupMenu.prototype, "selectedIndex", {
        get: function () {
            return this._selectedIndex;
        },
        set: function (index) {
            if (index >= 0 && index < this._renderedItems.length) {
                this._renderedItems[index].focus();
                this._selectedIndex = index;
            }
        },
        enumerable: false,
        configurable: true
    });
    return PopupMenu;
}(inputwithpopup_1.PopupControl));
exports.PopupMenu = PopupMenu;
//# sourceMappingURL=popupmenu.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/radiobutton.js":
/*!****************************************************!*\
  !*** ../adaptivecards-controls/lib/radiobutton.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RadioButton = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var constants_1 = __webpack_require__(/*! ./constants */ "../adaptivecards-controls/lib/constants.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var RadioButton = /** @class */ (function (_super) {
    __extends(RadioButton, _super);
    function RadioButton() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._label = "";
        _this._checkboxElement = null;
        _this._spanElement = null;
        return _this;
    }
    RadioButton.createId = function () {
        var result = RadioButton.creationIndex;
        RadioButton.creationIndex++;
        return result;
    };
    RadioButton.prototype.changed = function () {
        if (this.onChange) {
            this.onChange(this);
        }
    };
    RadioButton.prototype.keyDown = function (e) {
        switch (e.key) {
            case constants_1.Constants.keys.enter:
                this.isChecked = !this.isChecked;
                break;
        }
    };
    RadioButton.prototype.attach = function (rootElement) {
        var _this = this;
        _super.prototype.attach.call(this, rootElement);
        rootElement.className = "ms-ctrl ms-ctrl-radiobutton";
        rootElement.tabIndex = 0;
        var labelAttribute = rootElement.attributes["label"];
        if (labelAttribute) {
            this._label = labelAttribute.value;
        }
        var isCheckedAttribute = rootElement.attributes["ischecked"];
        if (isCheckedAttribute) {
            this._isChecked = isCheckedAttribute.value === "true";
        }
        this._checkboxElement = document.createElement("input");
        this._checkboxElement.id = "ms-ctrl-radio-" + RadioButton.createId();
        this._checkboxElement.type = "radio";
        this._checkboxElement.style.position = "absolute";
        this._checkboxElement.checked = this.isChecked;
        this._checkboxElement.onchange = function (e) { _this.changed(); };
        var groupNameAttribute = rootElement.attributes["groupname"];
        if (groupNameAttribute) {
            this._checkboxElement.name = groupNameAttribute.value;
        }
        var labelElement = document.createElement("label");
        labelElement.htmlFor = this._checkboxElement.id;
        this._spanElement = document.createElement("span");
        this._spanElement.innerText = this._label;
        labelElement.appendChild(this._spanElement);
        rootElement.innerHTML = "";
        rootElement.appendChild(this._checkboxElement);
        rootElement.appendChild(labelElement);
    };
    Object.defineProperty(RadioButton.prototype, "label", {
        get: function () {
            return this._label;
        },
        set: function (value) {
            this._label = value;
            if (this._spanElement) {
                this._spanElement.innerText = this._label;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(RadioButton.prototype, "isChecked", {
        get: function () {
            return this._isChecked;
        },
        set: function (value) {
            if (this._isChecked != value) {
                this._isChecked = value;
                if (this._checkboxElement) {
                    this._checkboxElement.checked = this._isChecked;
                }
                this.changed();
            }
        },
        enumerable: false,
        configurable: true
    });
    // Used to generate unique Ids
    RadioButton.creationIndex = 0;
    return RadioButton;
}(inputcontrol_1.InputControl));
exports.RadioButton = RadioButton;
//# sourceMappingURL=radiobutton.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/textbox.js":
/*!************************************************!*\
  !*** ../adaptivecards-controls/lib/textbox.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextBox = void 0;
var Utils = __webpack_require__(/*! ./utils */ "../adaptivecards-controls/lib/utils.js");
var inputcontrol_1 = __webpack_require__(/*! ./inputcontrol */ "../adaptivecards-controls/lib/inputcontrol.js");
var EditBox = /** @class */ (function () {
    function EditBox() {
    }
    EditBox.prototype.changed = function () {
        if (this.onChange) {
            this.onChange();
        }
    };
    return EditBox;
}());
var SingleLineEditBox = /** @class */ (function (_super) {
    __extends(SingleLineEditBox, _super);
    function SingleLineEditBox() {
        var _this = _super.call(this) || this;
        _this._inputElement = document.createElement("input");
        _this._inputElement.className = "ms-ctrl ms-ctrl-textbox";
        _this._inputElement.type = "text";
        _this._inputElement.oninput = function (e) {
            _this.changed();
        };
        return _this;
    }
    Object.defineProperty(SingleLineEditBox.prototype, "element", {
        get: function () {
            return this._inputElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "placeholder", {
        set: function (value) {
            this._inputElement.placeholder = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "lineCount", {
        set: function (value) {
            // lineCount can't be set on a SingleLineEditBox
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "maxLength", {
        set: function (value) {
            if (this._inputElement.maxLength != value) {
                this._inputElement.maxLength = value;
                this.value = this.value.substr(0, value);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SingleLineEditBox.prototype, "value", {
        get: function () {
            return this._inputElement.value;
        },
        set: function (newValue) {
            this._inputElement.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    return SingleLineEditBox;
}(EditBox));
var MultilineEditBox = /** @class */ (function (_super) {
    __extends(MultilineEditBox, _super);
    function MultilineEditBox() {
        var _this = _super.call(this) || this;
        _this._textareaElement = document.createElement("textarea");
        _this._textareaElement.className = "ms-ctrl ms-ctrl-textbox ms-ctrl-textbox-multiline";
        _this._textareaElement.oninput = function (e) {
            _this.changed();
        };
        return _this;
    }
    Object.defineProperty(MultilineEditBox.prototype, "element", {
        get: function () {
            return this._textareaElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "placeholder", {
        set: function (value) {
            this._textareaElement.placeholder = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "lineCount", {
        set: function (value) {
            this._textareaElement.rows = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "maxLength", {
        set: function (value) {
            if (this._textareaElement.maxLength != value) {
                this._textareaElement.maxLength = value;
                this.value = this.value.substr(0, value);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(MultilineEditBox.prototype, "value", {
        get: function () {
            return this._textareaElement.value;
        },
        set: function (newValue) {
            this._textareaElement.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    return MultilineEditBox;
}(EditBox));
var TextBox = /** @class */ (function (_super) {
    __extends(TextBox, _super);
    function TextBox() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isMultiline = false;
        _this._lineCount = 3;
        return _this;
    }
    TextBox.prototype.editBoxChanged = function () {
        if (this.onChange) {
            this.onChange(this);
        }
    };
    TextBox.prototype.recreateEditBox = function () {
        var _this = this;
        var currentValue = null;
        if (this._editBox) {
            currentValue = this._editBox.value;
        }
        else {
            currentValue = this.rootElement.innerText;
        }
        if (this._isMultiline) {
            this._editBox = new MultilineEditBox();
        }
        else {
            this._editBox = new SingleLineEditBox();
        }
        if (currentValue) {
            this._editBox.value = currentValue;
        }
        this._editBox.lineCount = this._lineCount;
        this._editBox.maxLength = this._maxLength;
        this._editBox.placeholder = this._placeholder;
        this._editBox.onChange = function () { _this.editBoxChanged(); };
        this.rootElement.innerHTML = "";
        this.rootElement.appendChild(this._editBox.element);
    };
    Object.defineProperty(TextBox.prototype, "editBox", {
        get: function () {
            if (!this._editBox) {
                this.recreateEditBox();
            }
            return this._editBox;
        },
        enumerable: false,
        configurable: true
    });
    TextBox.prototype.attach = function (rootElement) {
        _super.prototype.attach.call(this, rootElement);
        this._isMultiline = Utils.getAttributeValueAsBool(rootElement, "ismultiline", false);
        this._lineCount = Utils.getAttributeValueAsInt(rootElement, "lines", 3);
        this._maxLength = Utils.getAttributeValueAsInt(rootElement, "maxlength", 50000);
        this._placeholder = Utils.getAttributeValueAsString(rootElement, "placeholder", null);
        this.recreateEditBox();
    };
    Object.defineProperty(TextBox.prototype, "value", {
        get: function () {
            return this.editBox.value;
        },
        set: function (newValue) {
            this.editBox.value = newValue;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "placeholder", {
        get: function () {
            return this._placeholder;
        },
        set: function (value) {
            this._placeholder = value;
            this.editBox.placeholder = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "isMultiline", {
        get: function () {
            return this._isMultiline;
        },
        set: function (value) {
            if (this._isMultiline != value) {
                this._isMultiline = value;
                this.recreateEditBox();
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "lineCount", {
        get: function () {
            return this._lineCount;
        },
        set: function (value) {
            if (value > 0) {
                this._lineCount = value;
                this.editBox.lineCount = value;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(TextBox.prototype, "maxLength", {
        get: function () {
            return this._maxLength;
        },
        set: function (value) {
            if (value > 0) {
                this._maxLength = value;
                this.editBox.maxLength = value;
            }
        },
        enumerable: false,
        configurable: true
    });
    return TextBox;
}(inputcontrol_1.InputControl));
exports.TextBox = TextBox;
//# sourceMappingURL=textbox.js.map

/***/ }),

/***/ "../adaptivecards-controls/lib/utils.js":
/*!**********************************************!*\
  !*** ../adaptivecards-controls/lib/utils.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getAttributeValueAsInt = exports.getAttributeValueAsString = exports.getAttributeValueAsBool = exports.getScrollY = exports.getScrollX = exports.areDatesEqual = exports.addMonths = exports.addDays = exports.daysInMonth = exports.CalendarSettings = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Enums = __webpack_require__(/*! ./enums */ "../adaptivecards-controls/lib/enums.js");
var CalendarSettings = /** @class */ (function () {
    function CalendarSettings() {
    }
    CalendarSettings.getLongDayName = function (dayIndex) {
        if (dayIndex >= 0 && dayIndex < CalendarSettings.longDayNames.length) {
            return CalendarSettings.longDayNames[dayIndex];
        }
        throw new Error("Day index out of range: " + dayIndex);
    };
    CalendarSettings.getShortDayName = function (dayIndex) {
        if (dayIndex >= 0 && dayIndex < CalendarSettings.shortDayNames.length) {
            return CalendarSettings.shortDayNames[dayIndex];
        }
        throw new Error("Day index out of range: " + dayIndex);
    };
    CalendarSettings.getInitialDayName = function (dayIndex) {
        if (dayIndex >= 0 && dayIndex < CalendarSettings.minimalDayNames.length) {
            return CalendarSettings.minimalDayNames[dayIndex];
        }
        throw new Error("Day index out of range: " + dayIndex);
    };
    CalendarSettings.getLongMonthName = function (monthIndex) {
        if (monthIndex >= 0 && monthIndex < CalendarSettings.longMonthNames.length) {
            return CalendarSettings.longMonthNames[monthIndex];
        }
        throw new Error("Month index out of range: " + monthIndex);
    };
    CalendarSettings.getShortMonthName = function (monthIndex) {
        if (monthIndex >= 0 && monthIndex < CalendarSettings.shortMonthNames.length) {
            return CalendarSettings.shortMonthNames[monthIndex];
        }
        throw new Error("Month index out of range: " + monthIndex);
    };
    CalendarSettings.monthsInYear = 12;
    CalendarSettings.daysInWeek = 7;
    CalendarSettings.firstDayOfWeek = Enums.DayOfWeek.Sunday;
    CalendarSettings.longDayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    CalendarSettings.shortDayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    CalendarSettings.minimalDayNames = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
    CalendarSettings.longMonthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    CalendarSettings.shortMonthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    return CalendarSettings;
}());
exports.CalendarSettings = CalendarSettings;
function daysInMonth(year, month) {
    switch (month) {
        case 1:
            return (year % 4 == 0 && year % 100) || year % 400 == 0 ? 29 : 28;
        case 3:
        case 5:
        case 8:
        case 10:
            return 30;
        default:
            return 31;
    }
}
exports.daysInMonth = daysInMonth;
function addDays(date, days) {
    var result = new Date(date.getTime());
    result.setDate(result.getDate() + days);
    return result;
}
exports.addDays = addDays;
function addMonths(date, months) {
    var result = new Date(date.getTime());
    var newMonth = result.getMonth() + months;
    result.setMonth(newMonth);
    // We want to maintain the same day-of-month, but that may not be possible if the new month doesn't have enough days.
    // Loop until we back up to a day the new month has.
    // (Weird modulo math is due to Javascript's treatment of negative numbers in modulo)
    if (result.getMonth() !== ((newMonth % CalendarSettings.monthsInYear) + CalendarSettings.monthsInYear) % CalendarSettings.monthsInYear) {
        result = addDays(result, -result.getDate());
    }
    return result;
}
exports.addMonths = addMonths;
function areDatesEqual(date1, date2) {
    return date1.getFullYear() == date2.getFullYear() &&
        date1.getMonth() == date2.getMonth() &&
        date1.getDate() == date2.getDate();
}
exports.areDatesEqual = areDatesEqual;
function getScrollX() {
    return window.pageXOffset;
}
exports.getScrollX = getScrollX;
function getScrollY() {
    return window.pageYOffset;
}
exports.getScrollY = getScrollY;
function getAttributeValueAsBool(element, attributeName, defaultValue) {
    var attribute = element.attributes[attributeName];
    if (attribute) {
        return attribute.value === "true";
    }
    return defaultValue;
}
exports.getAttributeValueAsBool = getAttributeValueAsBool;
function getAttributeValueAsString(element, attributeName, defaultValue) {
    var attribute = element.attributes[attributeName];
    if (attribute) {
        return attribute.value;
    }
    return defaultValue;
}
exports.getAttributeValueAsString = getAttributeValueAsString;
function getAttributeValueAsInt(element, attributeName, defaultValue) {
    var attribute = element.attributes[attributeName];
    if (attribute) {
        var n = parseInt(attribute.value);
        if (!isNaN(n)) {
            return n;
        }
    }
    return defaultValue;
}
exports.getAttributeValueAsInt = getAttributeValueAsInt;
//# sourceMappingURL=utils.js.map

/***/ }),

/***/ "../adaptivecards-controls/node_modules/uuid/index.js":
/*!************************************************************!*\
  !*** ../adaptivecards-controls/node_modules/uuid/index.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var v1 = __webpack_require__(/*! ./v1 */ "../adaptivecards-controls/node_modules/uuid/v1.js");
var v4 = __webpack_require__(/*! ./v4 */ "../adaptivecards-controls/node_modules/uuid/v4.js");

var uuid = v4;
uuid.v1 = v1;
uuid.v4 = v4;

module.exports = uuid;


/***/ }),

/***/ "../adaptivecards-controls/node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************************************!*\
  !*** ../adaptivecards-controls/node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************************************/
/***/ ((module) => {

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */
var byteToHex = [];
for (var i = 0; i < 256; ++i) {
  byteToHex[i] = (i + 0x100).toString(16).substr(1);
}

function bytesToUuid(buf, offset) {
  var i = offset || 0;
  var bth = byteToHex;
  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4
  return ([
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]], '-',
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]],
    bth[buf[i++]], bth[buf[i++]]
  ]).join('');
}

module.exports = bytesToUuid;


/***/ }),

/***/ "../adaptivecards-controls/node_modules/uuid/lib/rng-browser.js":
/*!**********************************************************************!*\
  !*** ../adaptivecards-controls/node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************************************/
/***/ ((module) => {

// Unique ID creation requires a high quality random # generator.  In the
// browser this is a little complicated due to unknown quality of Math.random()
// and inconsistent support for the `crypto` API.  We do the best we can via
// feature-detection

// getRandomValues needs to be invoked in a context where "this" is a Crypto
// implementation. Also, find the complete implementation of crypto on IE11.
var getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||
                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));

if (getRandomValues) {
  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto
  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef

  module.exports = function whatwgRNG() {
    getRandomValues(rnds8);
    return rnds8;
  };
} else {
  // Math.random()-based (RNG)
  //
  // If all else fails, use Math.random().  It's fast, but is of unspecified
  // quality.
  var rnds = new Array(16);

  module.exports = function mathRNG() {
    for (var i = 0, r; i < 16; i++) {
      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
    }

    return rnds;
  };
}


/***/ }),

/***/ "../adaptivecards-controls/node_modules/uuid/v1.js":
/*!*********************************************************!*\
  !*** ../adaptivecards-controls/node_modules/uuid/v1.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var rng = __webpack_require__(/*! ./lib/rng */ "../adaptivecards-controls/node_modules/uuid/lib/rng-browser.js");
var bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ "../adaptivecards-controls/node_modules/uuid/lib/bytesToUuid.js");

// **`v1()` - Generate time-based UUID**
//
// Inspired by https://github.com/LiosK/UUID.js
// and http://docs.python.org/library/uuid.html

var _nodeId;
var _clockseq;

// Previous uuid creation time
var _lastMSecs = 0;
var _lastNSecs = 0;

// See https://github.com/uuidjs/uuid for API details
function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || [];

  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;

  // node and clockseq need to be initialized to random values if they're not
  // specified.  We do this lazily to minimize issues related to insufficient
  // system entropy.  See #189
  if (node == null || clockseq == null) {
    var seedBytes = rng();
    if (node == null) {
      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
      node = _nodeId = [
        seedBytes[0] | 0x01,
        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]
      ];
    }
    if (clockseq == null) {
      // Per 4.2.2, randomize (14 bit) clockseq
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;
    }
  }

  // UUID timestamps are 100 nano-second units since the Gregorian epoch,
  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.
  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();

  // Per 4.2.1.2, use count of uuid's generated during the current clock
  // cycle to simulate higher resolution clock
  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;

  // Time since last uuid creation (in msecs)
  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;

  // Per 4.2.1.2, Bump clockseq on clock regression
  if (dt < 0 && options.clockseq === undefined) {
    clockseq = clockseq + 1 & 0x3fff;
  }

  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
  // time interval
  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
    nsecs = 0;
  }

  // Per 4.2.1.2 Throw error if too many uuids are requested
  if (nsecs >= 10000) {
    throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');
  }

  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq;

  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch
  msecs += 12219292800000;

  // `time_low`
  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
  b[i++] = tl >>> 24 & 0xff;
  b[i++] = tl >>> 16 & 0xff;
  b[i++] = tl >>> 8 & 0xff;
  b[i++] = tl & 0xff;

  // `time_mid`
  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;
  b[i++] = tmh >>> 8 & 0xff;
  b[i++] = tmh & 0xff;

  // `time_high_and_version`
  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version
  b[i++] = tmh >>> 16 & 0xff;

  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)
  b[i++] = clockseq >>> 8 | 0x80;

  // `clock_seq_low`
  b[i++] = clockseq & 0xff;

  // `node`
  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }

  return buf ? buf : bytesToUuid(b);
}

module.exports = v1;


/***/ }),

/***/ "../adaptivecards-controls/node_modules/uuid/v4.js":
/*!*********************************************************!*\
  !*** ../adaptivecards-controls/node_modules/uuid/v4.js ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var rng = __webpack_require__(/*! ./lib/rng */ "../adaptivecards-controls/node_modules/uuid/lib/rng-browser.js");
var bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ "../adaptivecards-controls/node_modules/uuid/lib/bytesToUuid.js");

function v4(options, buf, offset) {
  var i = buf && offset || 0;

  if (typeof(options) == 'string') {
    buf = options === 'binary' ? new Array(16) : null;
    options = null;
  }
  options = options || {};

  var rnds = options.random || (options.rng || rng)();

  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
  rnds[6] = (rnds[6] & 0x0f) | 0x40;
  rnds[8] = (rnds[8] & 0x3f) | 0x80;

  // Copy bytes to buffer, if provided
  if (buf) {
    for (var ii = 0; ii < 16; ++ii) {
      buf[i + ii] = rnds[ii];
    }
  }

  return buf || bytesToUuid(rnds);
}

module.exports = v4;


/***/ }),

/***/ "./node_modules/clipboard/dist/clipboard.js":
/*!**************************************************!*\
  !*** ./node_modules/clipboard/dist/clipboard.js ***!
  \**************************************************/
/***/ (function(module) {

/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(this, function() {
return /******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 134:
/***/ (function(__unused_webpack_module, __webpack_exports__, __nested_webpack_require_622__) {

"use strict";

// EXPORTS
__nested_webpack_require_622__.d(__webpack_exports__, {
  "default": function() { return /* binding */ clipboard; }
});

// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js
var tiny_emitter = __nested_webpack_require_622__(279);
var tiny_emitter_default = /*#__PURE__*/__nested_webpack_require_622__.n(tiny_emitter);
// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js
var listen = __nested_webpack_require_622__(370);
var listen_default = /*#__PURE__*/__nested_webpack_require_622__.n(listen);
// EXTERNAL MODULE: ./node_modules/select/src/select.js
var src_select = __nested_webpack_require_622__(817);
var select_default = /*#__PURE__*/__nested_webpack_require_622__.n(src_select);
;// CONCATENATED MODULE: ./src/clipboard-action.js
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }


/**
 * Inner class which performs selection from either `text` or `target`
 * properties and then executes copy or cut operations.
 */

var ClipboardAction = /*#__PURE__*/function () {
  /**
   * @param {Object} options
   */
  function ClipboardAction(options) {
    _classCallCheck(this, ClipboardAction);

    this.resolveOptions(options);
    this.initSelection();
  }
  /**
   * Defines base properties passed from constructor.
   * @param {Object} options
   */


  _createClass(ClipboardAction, [{
    key: "resolveOptions",
    value: function resolveOptions() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.action = options.action;
      this.container = options.container;
      this.emitter = options.emitter;
      this.target = options.target;
      this.text = options.text;
      this.trigger = options.trigger;
      this.selectedText = '';
    }
    /**
     * Decides which selection strategy is going to be applied based
     * on the existence of `text` and `target` properties.
     */

  }, {
    key: "initSelection",
    value: function initSelection() {
      if (this.text) {
        this.selectFake();
      } else if (this.target) {
        this.selectTarget();
      }
    }
    /**
     * Creates a fake textarea element, sets its value from `text` property,
     */

  }, {
    key: "createFakeElement",
    value: function createFakeElement() {
      var isRTL = document.documentElement.getAttribute('dir') === 'rtl';
      this.fakeElem = document.createElement('textarea'); // Prevent zooming on iOS

      this.fakeElem.style.fontSize = '12pt'; // Reset box model

      this.fakeElem.style.border = '0';
      this.fakeElem.style.padding = '0';
      this.fakeElem.style.margin = '0'; // Move element out of screen horizontally

      this.fakeElem.style.position = 'absolute';
      this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically

      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      this.fakeElem.style.top = "".concat(yPosition, "px");
      this.fakeElem.setAttribute('readonly', '');
      this.fakeElem.value = this.text;
      return this.fakeElem;
    }
    /**
     * Get's the value of fakeElem,
     * and makes a selection on it.
     */

  }, {
    key: "selectFake",
    value: function selectFake() {
      var _this = this;

      var fakeElem = this.createFakeElement();

      this.fakeHandlerCallback = function () {
        return _this.removeFake();
      };

      this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;
      this.container.appendChild(fakeElem);
      this.selectedText = select_default()(fakeElem);
      this.copyText();
      this.removeFake();
    }
    /**
     * Only removes the fake element after another click event, that way
     * a user can hit `Ctrl+C` to copy because selection still exists.
     */

  }, {
    key: "removeFake",
    value: function removeFake() {
      if (this.fakeHandler) {
        this.container.removeEventListener('click', this.fakeHandlerCallback);
        this.fakeHandler = null;
        this.fakeHandlerCallback = null;
      }

      if (this.fakeElem) {
        this.container.removeChild(this.fakeElem);
        this.fakeElem = null;
      }
    }
    /**
     * Selects the content from element passed on `target` property.
     */

  }, {
    key: "selectTarget",
    value: function selectTarget() {
      this.selectedText = select_default()(this.target);
      this.copyText();
    }
    /**
     * Executes the copy operation based on the current selection.
     */

  }, {
    key: "copyText",
    value: function copyText() {
      var succeeded;

      try {
        succeeded = document.execCommand(this.action);
      } catch (err) {
        succeeded = false;
      }

      this.handleResult(succeeded);
    }
    /**
     * Fires an event based on the copy operation result.
     * @param {Boolean} succeeded
     */

  }, {
    key: "handleResult",
    value: function handleResult(succeeded) {
      this.emitter.emit(succeeded ? 'success' : 'error', {
        action: this.action,
        text: this.selectedText,
        trigger: this.trigger,
        clearSelection: this.clearSelection.bind(this)
      });
    }
    /**
     * Moves focus away from `target` and back to the trigger, removes current selection.
     */

  }, {
    key: "clearSelection",
    value: function clearSelection() {
      if (this.trigger) {
        this.trigger.focus();
      }

      document.activeElement.blur();
      window.getSelection().removeAllRanges();
    }
    /**
     * Sets the `action` to be performed which can be either 'copy' or 'cut'.
     * @param {String} action
     */

  }, {
    key: "destroy",

    /**
     * Destroy lifecycle.
     */
    value: function destroy() {
      this.removeFake();
    }
  }, {
    key: "action",
    set: function set() {
      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';
      this._action = action;

      if (this._action !== 'copy' && this._action !== 'cut') {
        throw new Error('Invalid "action" value, use either "copy" or "cut"');
      }
    }
    /**
     * Gets the `action` property.
     * @return {String}
     */
    ,
    get: function get() {
      return this._action;
    }
    /**
     * Sets the `target` property using an element
     * that will be have its content copied.
     * @param {Element} target
     */

  }, {
    key: "target",
    set: function set(target) {
      if (target !== undefined) {
        if (target && _typeof(target) === 'object' && target.nodeType === 1) {
          if (this.action === 'copy' && target.hasAttribute('disabled')) {
            throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
          }

          if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {
            throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');
          }

          this._target = target;
        } else {
          throw new Error('Invalid "target" value, use a valid Element');
        }
      }
    }
    /**
     * Gets the `target` property.
     * @return {String|HTMLElement}
     */
    ,
    get: function get() {
      return this._target;
    }
  }]);

  return ClipboardAction;
}();

/* harmony default export */ var clipboard_action = (ClipboardAction);
;// CONCATENATED MODULE: ./src/clipboard.js
function clipboard_typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return clipboard_typeof(obj); }

function clipboard_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function clipboard_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function clipboard_createClass(Constructor, protoProps, staticProps) { if (protoProps) clipboard_defineProperties(Constructor.prototype, protoProps); if (staticProps) clipboard_defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }




/**
 * Helper function to retrieve attribute value.
 * @param {String} suffix
 * @param {Element} element
 */

function getAttributeValue(suffix, element) {
  var attribute = "data-clipboard-".concat(suffix);

  if (!element.hasAttribute(attribute)) {
    return;
  }

  return element.getAttribute(attribute);
}
/**
 * Base class which takes one or more elements, adds event listeners to them,
 * and instantiates a new `ClipboardAction` on each click.
 */


var Clipboard = /*#__PURE__*/function (_Emitter) {
  _inherits(Clipboard, _Emitter);

  var _super = _createSuper(Clipboard);

  /**
   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
   * @param {Object} options
   */
  function Clipboard(trigger, options) {
    var _this;

    clipboard_classCallCheck(this, Clipboard);

    _this = _super.call(this);

    _this.resolveOptions(options);

    _this.listenClick(trigger);

    return _this;
  }
  /**
   * Defines if attributes would be resolved using internal setter functions
   * or custom functions that were passed in the constructor.
   * @param {Object} options
   */


  clipboard_createClass(Clipboard, [{
    key: "resolveOptions",
    value: function resolveOptions() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;
      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;
      this.text = typeof options.text === 'function' ? options.text : this.defaultText;
      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;
    }
    /**
     * Adds a click event listener to the passed trigger.
     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger
     */

  }, {
    key: "listenClick",
    value: function listenClick(trigger) {
      var _this2 = this;

      this.listener = listen_default()(trigger, 'click', function (e) {
        return _this2.onClick(e);
      });
    }
    /**
     * Defines a new `ClipboardAction` on each click event.
     * @param {Event} e
     */

  }, {
    key: "onClick",
    value: function onClick(e) {
      var trigger = e.delegateTarget || e.currentTarget;

      if (this.clipboardAction) {
        this.clipboardAction = null;
      }

      this.clipboardAction = new clipboard_action({
        action: this.action(trigger),
        target: this.target(trigger),
        text: this.text(trigger),
        container: this.container,
        trigger: trigger,
        emitter: this
      });
    }
    /**
     * Default `action` lookup function.
     * @param {Element} trigger
     */

  }, {
    key: "defaultAction",
    value: function defaultAction(trigger) {
      return getAttributeValue('action', trigger);
    }
    /**
     * Default `target` lookup function.
     * @param {Element} trigger
     */

  }, {
    key: "defaultTarget",
    value: function defaultTarget(trigger) {
      var selector = getAttributeValue('target', trigger);

      if (selector) {
        return document.querySelector(selector);
      }
    }
    /**
     * Returns the support of the given action, or all actions if no action is
     * given.
     * @param {String} [action]
     */

  }, {
    key: "defaultText",

    /**
     * Default `text` lookup function.
     * @param {Element} trigger
     */
    value: function defaultText(trigger) {
      return getAttributeValue('text', trigger);
    }
    /**
     * Destroy lifecycle.
     */

  }, {
    key: "destroy",
    value: function destroy() {
      this.listener.destroy();

      if (this.clipboardAction) {
        this.clipboardAction.destroy();
        this.clipboardAction = null;
      }
    }
  }], [{
    key: "isSupported",
    value: function isSupported() {
      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];
      var actions = typeof action === 'string' ? [action] : action;
      var support = !!document.queryCommandSupported;
      actions.forEach(function (action) {
        support = support && !!document.queryCommandSupported(action);
      });
      return support;
    }
  }]);

  return Clipboard;
}((tiny_emitter_default()));

/* harmony default export */ var clipboard = (Clipboard);

/***/ }),

/***/ 828:
/***/ (function(module) {

var DOCUMENT_NODE_TYPE = 9;

/**
 * A polyfill for Element.matches()
 */
if (typeof Element !== 'undefined' && !Element.prototype.matches) {
    var proto = Element.prototype;

    proto.matches = proto.matchesSelector ||
                    proto.mozMatchesSelector ||
                    proto.msMatchesSelector ||
                    proto.oMatchesSelector ||
                    proto.webkitMatchesSelector;
}

/**
 * Finds the closest parent that matches a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @return {Function}
 */
function closest (element, selector) {
    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {
        if (typeof element.matches === 'function' &&
            element.matches(selector)) {
          return element;
        }
        element = element.parentNode;
    }
}

module.exports = closest;


/***/ }),

/***/ 438:
/***/ (function(module, __unused_webpack_exports, __nested_webpack_require_17417__) {

var closest = __nested_webpack_require_17417__(828);

/**
 * Delegates event to a selector.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function _delegate(element, selector, type, callback, useCapture) {
    var listenerFn = listener.apply(this, arguments);

    element.addEventListener(type, listenerFn, useCapture);

    return {
        destroy: function() {
            element.removeEventListener(type, listenerFn, useCapture);
        }
    }
}

/**
 * Delegates event to a selector.
 *
 * @param {Element|String|Array} [elements]
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @param {Boolean} useCapture
 * @return {Object}
 */
function delegate(elements, selector, type, callback, useCapture) {
    // Handle the regular Element usage
    if (typeof elements.addEventListener === 'function') {
        return _delegate.apply(null, arguments);
    }

    // Handle Element-less usage, it defaults to global delegation
    if (typeof type === 'function') {
        // Use `document` as the first parameter, then apply arguments
        // This is a short way to .unshift `arguments` without running into deoptimizations
        return _delegate.bind(null, document).apply(null, arguments);
    }

    // Handle Selector-based usage
    if (typeof elements === 'string') {
        elements = document.querySelectorAll(elements);
    }

    // Handle Array-like based usage
    return Array.prototype.map.call(elements, function (element) {
        return _delegate(element, selector, type, callback, useCapture);
    });
}

/**
 * Finds closest match and invokes callback.
 *
 * @param {Element} element
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Function}
 */
function listener(element, selector, type, callback) {
    return function(e) {
        e.delegateTarget = closest(e.target, selector);

        if (e.delegateTarget) {
            callback.call(element, e);
        }
    }
}

module.exports = delegate;


/***/ }),

/***/ 879:
/***/ (function(__unused_webpack_module, exports) {

/**
 * Check if argument is a HTML element.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.node = function(value) {
    return value !== undefined
        && value instanceof HTMLElement
        && value.nodeType === 1;
};

/**
 * Check if argument is a list of HTML elements.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.nodeList = function(value) {
    var type = Object.prototype.toString.call(value);

    return value !== undefined
        && (type === '[object NodeList]' || type === '[object HTMLCollection]')
        && ('length' in value)
        && (value.length === 0 || exports.node(value[0]));
};

/**
 * Check if argument is a string.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.string = function(value) {
    return typeof value === 'string'
        || value instanceof String;
};

/**
 * Check if argument is a function.
 *
 * @param {Object} value
 * @return {Boolean}
 */
exports.fn = function(value) {
    var type = Object.prototype.toString.call(value);

    return type === '[object Function]';
};


/***/ }),

/***/ 370:
/***/ (function(module, __unused_webpack_exports, __nested_webpack_require_20781__) {

var is = __nested_webpack_require_20781__(879);
var delegate = __nested_webpack_require_20781__(438);

/**
 * Validates all params and calls the right
 * listener function based on its target type.
 *
 * @param {String|HTMLElement|HTMLCollection|NodeList} target
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listen(target, type, callback) {
    if (!target && !type && !callback) {
        throw new Error('Missing required arguments');
    }

    if (!is.string(type)) {
        throw new TypeError('Second argument must be a String');
    }

    if (!is.fn(callback)) {
        throw new TypeError('Third argument must be a Function');
    }

    if (is.node(target)) {
        return listenNode(target, type, callback);
    }
    else if (is.nodeList(target)) {
        return listenNodeList(target, type, callback);
    }
    else if (is.string(target)) {
        return listenSelector(target, type, callback);
    }
    else {
        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');
    }
}

/**
 * Adds an event listener to a HTML element
 * and returns a remove listener function.
 *
 * @param {HTMLElement} node
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenNode(node, type, callback) {
    node.addEventListener(type, callback);

    return {
        destroy: function() {
            node.removeEventListener(type, callback);
        }
    }
}

/**
 * Add an event listener to a list of HTML elements
 * and returns a remove listener function.
 *
 * @param {NodeList|HTMLCollection} nodeList
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenNodeList(nodeList, type, callback) {
    Array.prototype.forEach.call(nodeList, function(node) {
        node.addEventListener(type, callback);
    });

    return {
        destroy: function() {
            Array.prototype.forEach.call(nodeList, function(node) {
                node.removeEventListener(type, callback);
            });
        }
    }
}

/**
 * Add an event listener to a selector
 * and returns a remove listener function.
 *
 * @param {String} selector
 * @param {String} type
 * @param {Function} callback
 * @return {Object}
 */
function listenSelector(selector, type, callback) {
    return delegate(document.body, selector, type, callback);
}

module.exports = listen;


/***/ }),

/***/ 817:
/***/ (function(module) {

function select(element) {
    var selectedText;

    if (element.nodeName === 'SELECT') {
        element.focus();

        selectedText = element.value;
    }
    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {
        var isReadOnly = element.hasAttribute('readonly');

        if (!isReadOnly) {
            element.setAttribute('readonly', '');
        }

        element.select();
        element.setSelectionRange(0, element.value.length);

        if (!isReadOnly) {
            element.removeAttribute('readonly');
        }

        selectedText = element.value;
    }
    else {
        if (element.hasAttribute('contenteditable')) {
            element.focus();
        }

        var selection = window.getSelection();
        var range = document.createRange();

        range.selectNodeContents(element);
        selection.removeAllRanges();
        selection.addRange(range);

        selectedText = selection.toString();
    }

    return selectedText;
}

module.exports = select;


/***/ }),

/***/ 279:
/***/ (function(module) {

function E () {
  // Keep this empty so it's easier to inherit from
  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)
}

E.prototype = {
  on: function (name, callback, ctx) {
    var e = this.e || (this.e = {});

    (e[name] || (e[name] = [])).push({
      fn: callback,
      ctx: ctx
    });

    return this;
  },

  once: function (name, callback, ctx) {
    var self = this;
    function listener () {
      self.off(name, listener);
      callback.apply(ctx, arguments);
    };

    listener._ = callback
    return this.on(name, listener, ctx);
  },

  emit: function (name) {
    var data = [].slice.call(arguments, 1);
    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();
    var i = 0;
    var len = evtArr.length;

    for (i; i < len; i++) {
      evtArr[i].fn.apply(evtArr[i].ctx, data);
    }

    return this;
  },

  off: function (name, callback) {
    var e = this.e || (this.e = {});
    var evts = e[name];
    var liveEvents = [];

    if (evts && callback) {
      for (var i = 0, len = evts.length; i < len; i++) {
        if (evts[i].fn !== callback && evts[i].fn._ !== callback)
          liveEvents.push(evts[i]);
      }
    }

    // Remove event from queue to prevent memory leak
    // Suggested by https://github.com/lazd
    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910

    (liveEvents.length)
      ? e[name] = liveEvents
      : delete e[name];

    return this;
  }
};

module.exports = E;
module.exports.TinyEmitter = E;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __nested_webpack_require_26163__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __nested_webpack_require_26163__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	!function() {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__nested_webpack_require_26163__.n = function(module) {
/******/ 			var getter = module && module.__esModule ?
/******/ 				function() { return module['default']; } :
/******/ 				function() { return module; };
/******/ 			__nested_webpack_require_26163__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__nested_webpack_require_26163__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__nested_webpack_require_26163__.o(definition, key) && !__nested_webpack_require_26163__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__nested_webpack_require_26163__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	// module exports must be returned from runtime so entry inlining is disabled
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	return __nested_webpack_require_26163__(134);
/******/ })()
.default;
});

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "v1": () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "v3": () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "v4": () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "v5": () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_3__.default),
/* harmony export */   "NIL": () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_4__.default),
/* harmony export */   "version": () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_5__.default),
/* harmony export */   "validate": () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_6__.default),
/* harmony export */   "stringify": () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_7__.default),
/* harmony export */   "parse": () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_8__.default)
/* harmony export */ });
/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ "./node_modules/uuid/dist/esm-browser/v1.js");
/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ "./node_modules/uuid/dist/esm-browser/v3.js");
/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ "./node_modules/uuid/dist/esm-browser/v4.js");
/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ "./node_modules/uuid/dist/esm-browser/v5.js");
/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ "./node_modules/uuid/dist/esm-browser/nil.js");
/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ "./node_modules/uuid/dist/esm-browser/version.js");
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");
/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ "./node_modules/uuid/dist/esm-browser/parse.js");










/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/md5.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/md5.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/*
 * Browser-compatible JavaScript MD5
 *
 * Modification of JavaScript MD5
 * https://github.com/blueimp/JavaScript-MD5
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * https://opensource.org/licenses/MIT
 *
 * Based on
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */
function md5(bytes) {
  if (typeof bytes === 'string') {
    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape

    bytes = new Uint8Array(msg.length);

    for (var i = 0; i < msg.length; ++i) {
      bytes[i] = msg.charCodeAt(i);
    }
  }

  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));
}
/*
 * Convert an array of little-endian words to an array of bytes
 */


function md5ToHexEncodedArray(input) {
  var output = [];
  var length32 = input.length * 32;
  var hexTab = '0123456789abcdef';

  for (var i = 0; i < length32; i += 8) {
    var x = input[i >> 5] >>> i % 32 & 0xff;
    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);
    output.push(hex);
  }

  return output;
}
/**
 * Calculate output length with padding and bit length
 */


function getOutputLength(inputLength8) {
  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;
}
/*
 * Calculate the MD5 of an array of little-endian words, and a bit length.
 */


function wordsToMd5(x, len) {
  /* append padding */
  x[len >> 5] |= 0x80 << len % 32;
  x[getOutputLength(len) - 1] = len;
  var a = 1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d = 271733878;

  for (var i = 0; i < x.length; i += 16) {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;
    a = md5ff(a, b, c, d, x[i], 7, -680876936);
    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);
    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);
    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);
    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);
    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);
    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);
    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);
    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);
    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);
    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);
    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);
    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);
    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);
    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);
    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);
    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);
    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);
    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);
    b = md5gg(b, c, d, a, x[i], 20, -373897302);
    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);
    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);
    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);
    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);
    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);
    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);
    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);
    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);
    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);
    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);
    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);
    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);
    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);
    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);
    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);
    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);
    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);
    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);
    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);
    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);
    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);
    d = md5hh(d, a, b, c, x[i], 11, -358537222);
    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);
    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);
    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);
    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);
    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);
    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);
    a = md5ii(a, b, c, d, x[i], 6, -198630844);
    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);
    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);
    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);
    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);
    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);
    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);
    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);
    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);
    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);
    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);
    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);
    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);
    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);
    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);
    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);
    a = safeAdd(a, olda);
    b = safeAdd(b, oldb);
    c = safeAdd(c, oldc);
    d = safeAdd(d, oldd);
  }

  return [a, b, c, d];
}
/*
 * Convert an array bytes to an array of little-endian words
 * Characters >255 have their high-byte silently ignored.
 */


function bytesToWords(input) {
  if (input.length === 0) {
    return [];
  }

  var length8 = input.length * 8;
  var output = new Uint32Array(getOutputLength(length8));

  for (var i = 0; i < length8; i += 8) {
    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;
  }

  return output;
}
/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */


function safeAdd(x, y) {
  var lsw = (x & 0xffff) + (y & 0xffff);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return msw << 16 | lsw & 0xffff;
}
/*
 * Bitwise rotate a 32-bit number to the left.
 */


function bitRotateLeft(num, cnt) {
  return num << cnt | num >>> 32 - cnt;
}
/*
 * These functions implement the four basic operations the algorithm uses.
 */


function md5cmn(q, a, b, x, s, t) {
  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);
}

function md5ff(a, b, c, d, x, s, t) {
  return md5cmn(b & c | ~b & d, a, b, x, s, t);
}

function md5gg(a, b, c, d, x, s, t) {
  return md5cmn(b & d | c & ~d, a, b, x, s, t);
}

function md5hh(a, b, c, d, x, s, t) {
  return md5cmn(b ^ c ^ d, a, b, x, s, t);
}

function md5ii(a, b, c, d, x, s, t) {
  return md5cmn(c ^ (b | ~d), a, b, x, s, t);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/nil.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/nil.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/parse.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/parse.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");


function parse(uuid) {
  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__.default)(uuid)) {
    throw TypeError('Invalid UUID');
  }

  var v;
  var arr = new Uint8Array(16); // Parse ########-....-....-....-............

  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;
  arr[1] = v >>> 16 & 0xff;
  arr[2] = v >>> 8 & 0xff;
  arr[3] = v & 0xff; // Parse ........-####-....-....-............

  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;
  arr[5] = v & 0xff; // Parse ........-....-####-....-............

  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;
  arr[7] = v & 0xff; // Parse ........-....-....-####-............

  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;
  arr[9] = v & 0xff; // Parse ........-....-....-....-############
  // (Use "/" to avoid 32-bit truncation when bit-shifting high-order bytes)

  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;
  arr[11] = v / 0x100000000 & 0xff;
  arr[12] = v >>> 24 & 0xff;
  arr[13] = v >>> 16 & 0xff;
  arr[14] = v >>> 8 & 0xff;
  arr[15] = v & 0xff;
  return arr;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ rng)
/* harmony export */ });
// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var getRandomValues;
var rnds8 = new Uint8Array(16);
function rng() {
  // lazy load so that environments that need to polyfill have a chance to do so
  if (!getRandomValues) {
    // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation. Also,
    // find the complete implementation of crypto (msCrypto) on IE11.
    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);

    if (!getRandomValues) {
      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
    }
  }

  return getRandomValues(rnds8);
}

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/sha1.js":
/*!****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/sha1.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// Adapted from Chris Veness' SHA1 code at
// http://www.movable-type.co.uk/scripts/sha1.html
function f(s, x, y, z) {
  switch (s) {
    case 0:
      return x & y ^ ~x & z;

    case 1:
      return x ^ y ^ z;

    case 2:
      return x & y ^ x & z ^ y & z;

    case 3:
      return x ^ y ^ z;
  }
}

function ROTL(x, n) {
  return x << n | x >>> 32 - n;
}

function sha1(bytes) {
  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];
  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];

  if (typeof bytes === 'string') {
    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape

    bytes = [];

    for (var i = 0; i < msg.length; ++i) {
      bytes.push(msg.charCodeAt(i));
    }
  } else if (!Array.isArray(bytes)) {
    // Convert Array-like to Array
    bytes = Array.prototype.slice.call(bytes);
  }

  bytes.push(0x80);
  var l = bytes.length / 4 + 2;
  var N = Math.ceil(l / 16);
  var M = new Array(N);

  for (var _i = 0; _i < N; ++_i) {
    var arr = new Uint32Array(16);

    for (var j = 0; j < 16; ++j) {
      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];
    }

    M[_i] = arr;
  }

  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);
  M[N - 1][14] = Math.floor(M[N - 1][14]);
  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;

  for (var _i2 = 0; _i2 < N; ++_i2) {
    var W = new Uint32Array(80);

    for (var t = 0; t < 16; ++t) {
      W[t] = M[_i2][t];
    }

    for (var _t = 16; _t < 80; ++_t) {
      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);
    }

    var a = H[0];
    var b = H[1];
    var c = H[2];
    var d = H[3];
    var e = H[4];

    for (var _t2 = 0; _t2 < 80; ++_t2) {
      var s = Math.floor(_t2 / 20);
      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;
      e = d;
      d = c;
      c = ROTL(b, 30) >>> 0;
      b = a;
      a = T;
    }

    H[0] = H[0] + a >>> 0;
    H[1] = H[1] + b >>> 0;
    H[2] = H[2] + c >>> 0;
    H[3] = H[3] + d >>> 0;
    H[4] = H[4] + e >>> 0;
  }

  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */

var byteToHex = [];

for (var i = 0; i < 256; ++i) {
  byteToHex.push((i + 0x100).toString(16).substr(1));
}

function stringify(arr) {
  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  // Note: Be careful editing this code!  It's been tuned for performance
  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one
  // of the following:
  // - One or more input array values don't map to a hex octet (leading to
  // "undefined" in the uuid)
  // - Invalid input values for the RFC `version` or `variant` fields

  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__.default)(uuid)) {
    throw TypeError('Stringified UUID is invalid');
  }

  return uuid;
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v1.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v1.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");

 // **`v1()` - Generate time-based UUID**
//
// Inspired by https://github.com/LiosK/UUID.js
// and http://docs.python.org/library/uuid.html

var _nodeId;

var _clockseq; // Previous uuid creation time


var _lastMSecs = 0;
var _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details

function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || new Array(16);
  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not
  // specified.  We do this lazily to minimize issues related to insufficient
  // system entropy.  See #189

  if (node == null || clockseq == null) {
    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__.default)();

    if (node == null) {
      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];
    }

    if (clockseq == null) {
      // Per 4.2.2, randomize (14 bit) clockseq
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;
    }
  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,
  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.


  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock
  // cycle to simulate higher resolution clock

  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)

  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression

  if (dt < 0 && options.clockseq === undefined) {
    clockseq = clockseq + 1 & 0x3fff;
  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
  // time interval


  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
    nsecs = 0;
  } // Per 4.2.1.2 Throw error if too many uuids are requested


  if (nsecs >= 10000) {
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  }

  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch

  msecs += 12219292800000; // `time_low`

  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
  b[i++] = tl >>> 24 & 0xff;
  b[i++] = tl >>> 16 & 0xff;
  b[i++] = tl >>> 8 & 0xff;
  b[i++] = tl & 0xff; // `time_mid`

  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;
  b[i++] = tmh >>> 8 & 0xff;
  b[i++] = tmh & 0xff; // `time_high_and_version`

  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version

  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)

  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`

  b[i++] = clockseq & 0xff; // `node`

  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }

  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.default)(b);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v3.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v3.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ "./node_modules/uuid/dist/esm-browser/v35.js");
/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ "./node_modules/uuid/dist/esm-browser/md5.js");


var v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__.default)('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__.default);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v35.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v35.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DNS": () => (/* binding */ DNS),
/* harmony export */   "URL": () => (/* binding */ URL),
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");
/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ "./node_modules/uuid/dist/esm-browser/parse.js");



function stringToBytes(str) {
  str = unescape(encodeURIComponent(str)); // UTF8 escape

  var bytes = [];

  for (var i = 0; i < str.length; ++i) {
    bytes.push(str.charCodeAt(i));
  }

  return bytes;
}

var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';
var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(name, version, hashfunc) {
  function generateUUID(value, namespace, buf, offset) {
    if (typeof value === 'string') {
      value = stringToBytes(value);
    }

    if (typeof namespace === 'string') {
      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__.default)(namespace);
    }

    if (namespace.length !== 16) {
      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');
    } // Compute hash of namespace and value, Per 4.3
    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =
    // hashfunc([...namespace, ... value])`


    var bytes = new Uint8Array(16 + value.length);
    bytes.set(namespace);
    bytes.set(value, namespace.length);
    bytes = hashfunc(bytes);
    bytes[6] = bytes[6] & 0x0f | version;
    bytes[8] = bytes[8] & 0x3f | 0x80;

    if (buf) {
      offset = offset || 0;

      for (var i = 0; i < 16; ++i) {
        buf[offset + i] = bytes[i];
      }

      return buf;
    }

    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.default)(bytes);
  } // Function#name is not settable on some platforms (#270)


  try {
    generateUUID.name = name; // eslint-disable-next-line no-empty
  } catch (err) {} // For CommonJS default export support


  generateUUID.DNS = DNS;
  generateUUID.URL = URL;
  return generateUUID;
}

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ "./node_modules/uuid/dist/esm-browser/rng.js");
/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ "./node_modules/uuid/dist/esm-browser/stringify.js");



function v4(options, buf, offset) {
  options = options || {};
  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

  rnds[6] = rnds[6] & 0x0f | 0x40;
  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

  if (buf) {
    offset = offset || 0;

    for (var i = 0; i < 16; ++i) {
      buf[offset + i] = rnds[i];
    }

    return buf;
  }

  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.default)(rnds);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v5.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v5.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ "./node_modules/uuid/dist/esm-browser/v35.js");
/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ "./node_modules/uuid/dist/esm-browser/sha1.js");


var v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__.default)('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__.default);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ "./node_modules/uuid/dist/esm-browser/regex.js");


function validate(uuid) {
  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__.default.test(uuid);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/version.js":
/*!*******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/version.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ "./node_modules/uuid/dist/esm-browser/validate.js");


function version(uuid) {
  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__.default)(uuid)) {
    throw TypeError('Invalid UUID');
  }

  return parseInt(uuid.substr(14, 1), 16);
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);

/***/ }),

/***/ "./src/adaptive-card-schema.ts":
/*!*************************************!*\
  !*** ./src/adaptive-card-schema.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.adaptiveCardSchema = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
exports.adaptiveCardSchema = {
    "$schema": "http://json-schema.org/draft-06/schema#",
    "id": "http://adaptivecards.io/schemas/adaptive-card.json",
    "type": "object",
    "title": "Microsoft Adaptive Card Schema",
    "additionalProperties": true,
    "allOf": [
        {
            "$ref": "#/definitions/AdaptiveCard"
        }
    ],
    "properties": {
        "version": {
            "type": "string",
            "description": "version of schema that this card was authored "
        },
        "minVersion": {
            "type": "string",
            "description": "if a client doesn't support the minVersion the card should be rejected and return the fallbackText.  If it does, then the elements that are not supported are safe to ignore"
        },
        "fallbackText": {
            "type": "string",
            "description": "if a client is not able to show the card, show fallbackText to the user. This can be in markdown format. "
        },
        "speak": {
            "type": "string",
            "description": "Specifies what should be spoken for this entire Item. This is simple text or SSML fragment"
        }
    },
    "required": [
        "version"
    ],
    "definitions": {
        "Action": {
            "anyOf": [
                {
                    "$ref": "#/definitions/Action.Submit"
                },
                {
                    "$ref": "#/definitions/Action.ShowCard"
                },
                {
                    "$ref": "#/definitions/Action.OpenUrl"
                }
            ]
        },
        "Action.OpenUrl": {
            "additionalProperties": true,
            "description": "When Action.OpenUrl is invoked it will show the given url, either by launching it to an external web browser or showing in-situ with embedded web browser.",
            "properties": {
                "title": {
                    "type": "string",
                    "description": "Label for button or link that represents this action"
                },
                "type": {
                    "type": "string",
                    "description": "Must be Action.OpenUrl",
                    "enum": [
                        "Action.OpenUrl"
                    ]
                },
                "url": {
                    "type": "string",
                    "description": "The URL to open"
                }
            },
            "required": [
                "type",
                "url"
            ],
            "type": "object"
        },
        "Action.ShowCard": {
            "type": "object",
            "additionalProperties": true,
            "description": "Action.ShowCard defines an inline AdaptiveCard which is shown to the user when it is clicked.",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Must be Action.ShowCard",
                    "enum": [
                        "Action.ShowCard"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "Label for button or link that represents this action"
                },
                "card": {
                    "$ref": "#/definitions/AdaptiveCard"
                }
            },
            "required": [
                "type",
                "card"
            ]
        },
        "Action.Submit": {
            "type": "object",
            "additionalProperties": true,
            "description": "Submit action gathers up input fields, merges with optional data field and generates event to client asking for data to be submitted. It is up to the client to determine how that data is processed. For example: With BotFramework bots the client would send an activity through the messaging medium to the bot.",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Must be Action.Submit",
                    "enum": [
                        "Action.Submit"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "Label for button or link that represents this action"
                },
                "data": {
                    "type": ["string", "object"],
                    "description": "initial data that input fields will be combined with. This is essentially 'hidden' properties"
                }
            },
            "required": [
                "type"
            ]
        },
        "Actions": {
            "additionalItems": true,
            "items": {
                "$ref": "#/definitions/Action"
            },
            "type": "array"
        },
        "AdaptiveCard": {
            "additionalProperties": true,
            "type": "object",
            "description": "Card schema for an adaptive card",
            "properties": {
                "type": {
                    "type": "string",
                    "description": "Must be AdaptiveCard",
                    "enum": [
                        "AdaptiveCard"
                    ]
                },
                "actions": {
                    "description": "The Actions to show in the card's action bar",
                    "$ref": "#/definitions/Actions"
                },
                "body": {
                    "description": "The Card Elements to show in the primary card region",
                    "$ref": "#/definitions/CardElements"
                }
            },
            "required": [
                "type",
                "version"
            ]
        },
        "CardElement": {
            "additionalProperties": true,
            "properties": {
                "type": {
                    "type": "string"
                },
                "id": {
                    "type": "string",
                    "description": "A unique Id associated with the element"
                },
                "spacing": {
                    "$ref": "#/definitions/SpacingStyle"
                },
                "separator": {
                    "type": "boolean",
                    "description": "The Separator object type describes the look and feel of a separation line between two elements.",
                    "default": false
                }
            },
            "required": [
                "type"
            ]
        },
        "CardElements": {
            "type": "array",
            "additionalItems": true,
            "items": [
                {
                    "anyOf": [
                        {
                            "$ref": "#/definitions/TextBlock"
                        },
                        {
                            "$ref": "#/definitions/Image"
                        },
                        {
                            "$ref": "#/definitions/Container"
                        },
                        {
                            "$ref": "#/definitions/ColumnSet"
                        },
                        {
                            "$ref": "#/definitions/FactSet"
                        },
                        {
                            "$ref": "#/definitions/ImageSet"
                        },
                        {
                            "$ref": "#/definitions/Input.Text"
                        },
                        {
                            "$ref": "#/definitions/Input.Number"
                        },
                        {
                            "$ref": "#/definitions/Input.Date"
                        },
                        {
                            "$ref": "#/definitions/Input.Time"
                        },
                        {
                            "$ref": "#/definitions/Input.Toggle"
                        },
                        {
                            "$ref": "#/definitions/Input.ChoiceSet"
                        }
                    ]
                }
            ]
        },
        "Input.Choice": {
            "type": "object",
            "description": "Describes a Choice input. The value should be a simple string without a \",\"",
            "additionalProperties": true,
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Input.Choice"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "The text for a choice"
                },
                "value": {
                    "type": "string",
                    "description": "The raw value for the choice. NOTE: do not use a \",\" in the value, since MultiSelect ChoiceSet returns a comma-delimited string of choice values"
                }
            },
            "required": [
                "title",
                "value"
            ]
        },
        "ChoiceInputStyle": {
            "type": "string",
            "description": "Style hint for Input.ChoiceSet",
            "enum": [
                "compact",
                "expanded"
            ]
        },
        "Column": {
            "additionalProperties": true,
            "type": "object",
            "description": "Defines a container that is part of a ColumnSet",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "items": {
                    "description": "The Card Elements to include in the Column",
                    "$ref": "#/definitions/CardElements"
                },
                "selectAction": {
                    "description": "An Action that will be invoked when the Column is tapped or selected",
                    "$ref": "#/definitions/Action"
                },
                "width": {
                    "type": [
                        "string",
                        "number"
                    ],
                    "description": "\"auto\", \"stretch\", or a number representing relative width of the column in the column group"
                },
                "type": {
                    "type": "string",
                    "description": "Must be Column",
                    "enum": [
                        "Column"
                    ]
                }
            },
            "required": [
                "items"
            ]
        },
        "ColumnSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "ColumnSet divides a region into Column's allowing elements to sit side-by-side",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "columns": {
                    "type": "array",
                    "description": "The array of Columns to divide the region into",
                    "items": {
                        "$ref": "#/definitions/Column"
                    }
                },
                "selectAction": {
                    "$ref": "#/definitions/Action",
                    "description": "The Action that is executed when the ColumnSet is clicked/tapped"
                },
                "type": {
                    "type": "string",
                    "description": "Must be ColumnSet",
                    "enum": [
                        "ColumnSet"
                    ]
                }
            }
        },
        "Container": {
            "additionalProperties": true,
            "type": "object",
            "description": "Containers group items together",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "items": {
                    "description": "The Card Elements to render inside the Container",
                    "$ref": "#/definitions/CardElements"
                },
                "selectAction": {
                    "description": "An Action that will be invoked when the Image is tapped or selected",
                    "$ref": "#/definitions/Action"
                },
                "style": {
                    "type": "string",
                    "description": "Style hint for Container",
                    "enum": [
                        "default",
                        "emphasis"
                    ]
                },
                "type": {
                    "type": "string",
                    "description": "Must be Container",
                    "enum": [
                        "Container"
                    ]
                }
            },
            "required": [
                "items"
            ]
        },
        "Fact": {
            "additionalProperties": true,
            "type": "object",
            "description": "Describes a Fact in a FactSet as a key/value pair",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "Fact"
                    ]
                },
                "title": {
                    "type": "string",
                    "description": "The title of the fact"
                },
                "value": {
                    "type": "string",
                    "description": "The value of the fact"
                }
            },
            "required": [
                "title",
                "value"
            ]
        },
        "FactSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "The FactSet Item makes it simple to display a series of facts (e.g. name/value pairs) in a tabular form.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "facts": {
                    "type": "array",
                    "description": "The array of Facts",
                    "items": {
                        "$ref": "#/definitions/Fact"
                    }
                },
                "type": {
                    "type": "string",
                    "description": "Must be FactSet",
                    "enum": [
                        "FactSet"
                    ]
                }
            },
            "required": [
                "facts"
            ]
        },
        "HorizontalAlignment": {
            "type": "string",
            "description": "Controls how Items are horizontally positioned within their container.",
            "enum": [
                "left",
                "center",
                "right"
            ]
        },
        "Image": {
            "additionalProperties": true,
            "type": "object",
            "description": "The Image Item allows for the inclusion of images in an Adaptive Card.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "altText": {
                    "type": "string",
                    "description": "Alternate text for the image for accessibility"
                },
                "horizontalAlignment": {
                    "$ref": "#/definitions/HorizontalAlignment"
                },
                "selectAction": {
                    "description": "An Action that will be invoked when the Image is tapped or selected",
                    "$ref": "#/definitions/Action"
                },
                "size": {
                    "type": "object",
                    "$ref": "#/definitions/ImageSize"
                },
                "style": {
                    "$ref": "#/definitions/ImageStyle"
                },
                "type": {
                    "type": "string",
                    "description": "Must be Image",
                    "enum": [
                        "Image"
                    ]
                },
                "url": {
                    "type": "string",
                    "description": "The URL to the image."
                }
            },
            "required": [
                "url"
            ]
        },
        "ImageSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "The ImageSet allows for the inclusion of a collection images like a photogallery.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "images": {
                    "type": "array",
                    "description": "The array of Image elements to show",
                    "items": {
                        "$ref": "#/definitions/Image"
                    }
                },
                "imageSize": {
                    "$ref": "#/definitions/ImageSize"
                },
                "type": {
                    "type": "string",
                    "description": "Must be ImageSet",
                    "enum": [
                        "ImageSet"
                    ]
                }
            },
            "required": [
                "images"
            ]
        },
        "ImageSize": {
            "type": "string",
            "description": "Controls the approximate size of the image. The physical dimensions will vary per host. Specify \"auto\" for true image dimension or \"stretch\" to force it to fill the container",
            "default": "auto",
            "enum": [
                "auto",
                "stretch",
                "small",
                "medium",
                "large"
            ]
        },
        "ImageStyle": {
            "type": "string",
            "description": "Controls the way Images are displayed",
            "enum": [
                "default",
                "person"
            ]
        },
        "Input.ChoiceSet": {
            "additionalProperties": true,
            "type": "object",
            "description": "Shows an array of Choice objects",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "choices": {
                    "type": "array",
                    "description": "the choice options",
                    "items": {
                        "$ref": "#/definitions/Input.Choice"
                    }
                },
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "isMultiSelect": {
                    "type": "boolean",
                    "description": "allow multiple choices to be selected",
                    "default": false
                },
                "style": {
                    "$ref": "#/definitions/ChoiceInputStyle"
                },
                "type": {
                    "description": "Must be Input.ChoiceInput",
                    "enum": [
                        "Input.ChoiceSet"
                    ],
                    "type": "string"
                },
                "value": {
                    "type": "string",
                    "description": "The initial choice (or set of choices) that should be selected. For multi-select, specifcy a comma-separated string of values"
                }
            },
            "required": [
                "id",
                "choices"
            ]
        },
        "Input.Date": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Date collects Date from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "max": {
                    "type": "string",
                    "description": "hint of maximum value expressed in ISO-8601 format (may be ignored by some clients)"
                },
                "min": {
                    "type": "string",
                    "description": "hint of minimum value expressed in ISO-8601 format (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "type": {
                    "type": "string",
                    "description": "The type must be Input.Date",
                    "enum": [
                        "Input.Date"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The initial value for a field expressed in ISO-8601 format"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Number": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Number collects number from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "max": {
                    "type": "number",
                    "description": "hint of maximum value (may be ignored by some clients)"
                },
                "min": {
                    "type": "number",
                    "description": "hint of minimum value (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "type": {
                    "type": "string",
                    "description": "The type must be Input.Number",
                    "enum": [
                        "Input.Number"
                    ]
                },
                "value": {
                    "type": "number",
                    "description": "The initial value for a field"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Text": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Text collects text from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "isMultiline": {
                    "type": "boolean",
                    "description": "Do you want to allow multiple lines of input"
                },
                "maxLength": {
                    "type": "number",
                    "description": "hint of maximum length characters to collect (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "style": {
                    "$ref": "#/definitions/TextInputStyle"
                },
                "type": {
                    "type": "string",
                    "description": "Input.Text",
                    "enum": [
                        "Input.Text"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The initial value for a field"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Time": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Time collects Time from the user,",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "max": {
                    "type": "string",
                    "description": "hint of maximum value (may be ignored by some clients)"
                },
                "min": {
                    "type": "string",
                    "description": "hint of minimum value (may be ignored by some clients)"
                },
                "placeholder": {
                    "type": "string",
                    "description": "Title Description of the input desired"
                },
                "type": {
                    "type": "string",
                    "description": "The type must be Input.Time",
                    "enum": [
                        "Input.Time"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The initial value for a field expressed in ISO-8601 format"
                }
            },
            "required": [
                "id"
            ]
        },
        "Input.Toggle": {
            "additionalProperties": true,
            "type": "object",
            "description": "Input.Toggle collects a true/false response from the user",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "description": "Id for the value (will be used to identify collected input when SUBMIT is clicked)"
                },
                "title": {
                    "type": "string",
                    "description": "Title for the toggle"
                },
                "type": {
                    "type": "string",
                    "description": "Input.Toggle",
                    "enum": [
                        "Input.Toggle"
                    ]
                },
                "value": {
                    "type": "string",
                    "description": "The current selected value (default:false)"
                },
                "valueOff": {
                    "type": "string",
                    "description": "The value when toggle is off (default:false)"
                },
                "valueOn": {
                    "type": "string",
                    "description": "The value when toggle is on (default:true)"
                }
            },
            "required": [
                "id",
                "title"
            ]
        },
        "TextBlock": {
            "additionalProperties": true,
            "type": "object",
            "description": "The TextBlock Item allows for the inclusion of text, with various font sizes, weight and color, in Adaptive Cards.",
            "allOf": [
                {
                    "$ref": "#/definitions/CardElement"
                }
            ],
            "properties": {
                "color": {
                    "type": "string",
                    "description": "Controls the color of TextBlock Items.",
                    "enum": [
                        "default",
                        "dark",
                        "light",
                        "accent",
                        "good",
                        "warning",
                        "attention"
                    ]
                },
                "horizontalAlignment": {
                    "$ref": "#/definitions/HorizontalAlignment"
                },
                "isSubtle": {
                    "type": "boolean",
                    "description": "Indicates whether the color of the text should be slightly toned down to appear less prominent"
                },
                "maxLines": {
                    "type": "number",
                    "description": "When Wrap is true, you can specify the maximum number of lines to allow the textBlock to use."
                },
                "size": {
                    "type": "string",
                    "description": "controls size of the text.",
                    "enum": [
                        "small",
                        "default",
                        "medium",
                        "large",
                        "extraLarge"
                    ]
                },
                "text": {
                    "type": "string",
                    "description": "The actual text to display"
                },
                "type": {
                    "type": "string",
                    "description": "Must be TextBlock",
                    "enum": [
                        "TextBlock"
                    ]
                },
                "weight": {
                    "type": "string",
                    "description": "Controls the weight of TextBlock Items",
                    "enum": [
                        "lighter",
                        "default",
                        "bolder"
                    ]
                },
                "wrap": {
                    "type": "boolean",
                    "description": "True if be is allowed to wrap"
                }
            },
            "required": [
                "text"
            ]
        },
        "SeparatorStyle": {
            "type": "object",
            "description": "Indicates whether there should be a visible separator (e.g. a line) between the element and the one before it. If this property is not specified, no separator is displayed. If it is, a separator line is displayed. A separator will only appear if there was a preceding element.",
            "properties": {
                "thickness": {
                    "type": "string",
                    "description": "Specifies the thickness of the separation line.",
                    "enum": [
                        "default",
                        "thick"
                    ]
                },
                "color": {
                    "type": "string",
                    "description": "Specifies the color of the separation line.",
                    "enum": [
                        "default",
                        "accent"
                    ]
                }
            }
        },
        "SpacingStyle": {
            "type": "string",
            "description": "Controls the amount of spacing between this element and the previous element.",
            "enum": [
                "none",
                "small",
                "default",
                "medium",
                "large",
                "extraLarge",
                "padding"
            ]
        },
        "TextInputStyle": {
            "type": "string",
            "description": "Style hint for Input.Text.",
            "enum": [
                "text",
                "tel",
                "url",
                "email"
            ]
        }
    }
};


/***/ }),

/***/ "./src/adaptivecards-designer-standalone.ts":
/*!**************************************************!*\
  !*** ./src/adaptivecards-designer-standalone.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
__exportStar(__webpack_require__(/*! ./strings */ "./src/strings.ts"), exports);
__exportStar(__webpack_require__(/*! ./shared */ "./src/shared.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/host-container */ "./src/containers/host-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/default/default-container */ "./src/containers/default/default-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./field-picker */ "./src/field-picker.ts"), exports);
__exportStar(__webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts"), exports);
__exportStar(__webpack_require__(/*! ./card-designer */ "./src/card-designer.ts"), exports);
__exportStar(__webpack_require__(/*! ./constants */ "./src/constants.ts"), exports);
__exportStar(__webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts"), exports);
__exportStar(__webpack_require__(/*! ./designer-peers */ "./src/designer-peers.ts"), exports);
__exportStar(__webpack_require__(/*! ./peer-command */ "./src/peer-command.ts"), exports);
__exportStar(__webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts"), exports);
__exportStar(__webpack_require__(/*! ./settings-manager */ "./src/settings-manager.ts"), exports);
__exportStar(__webpack_require__(/*! ./side-panel */ "./src/side-panel.ts"), exports);
__exportStar(__webpack_require__(/*! ./tool-box */ "./src/tool-box.ts"), exports);
__exportStar(__webpack_require__(/*! ./toolbar */ "./src/toolbar.ts"), exports);
__exportStar(__webpack_require__(/*! ./tool-palette */ "./src/tool-palette.ts"), exports);
__exportStar(__webpack_require__(/*! ./splitter */ "./src/splitter.ts"), exports);
__exportStar(__webpack_require__(/*! ./tree-view */ "./src/tree-view.ts"), exports);
__exportStar(__webpack_require__(/*! ./base-tree-item */ "./src/base-tree-item.ts"), exports);
__exportStar(__webpack_require__(/*! ./designer-peer-treeitem */ "./src/designer-peer-treeitem.ts"), exports);
__exportStar(__webpack_require__(/*! ./data */ "./src/data.ts"), exports);
__exportStar(__webpack_require__(/*! ./catalogue */ "./src/catalogue.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/host-container */ "./src/containers/host-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./containers/default/default-container */ "./src/containers/default/default-container.ts"), exports);
__exportStar(__webpack_require__(/*! ./pic2card */ "./src/pic2card.ts"), exports);


/***/ }),

/***/ "./src/base-tree-item.ts":
/*!*******************************!*\
  !*** ./src/base-tree-item.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BaseTreeItem = void 0;
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var uuid_1 = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/index.js");
var BaseTreeItem = /** @class */ (function (_super) {
    __extends(BaseTreeItem, _super);
    function BaseTreeItem(isExpanded) {
        if (isExpanded === void 0) { isExpanded = true; }
        var _this = _super.call(this) || this;
        _this._isExpanded = true;
        _this._isSelected = false;
        _this._level = 0;
        _this._isExpanded = isExpanded;
        return _this;
    }
    BaseTreeItem.prototype.needsToBeScrolled = function () {
        // detect the case where the treeViewHost's parent isn't currently
        // overflowed. if it *is* overflowed (has scrollbar), then scrolling is
        // appropriate. otherwise, we might be in a small-screen situation
        // (single column rendering) where scrolling is undesireable
        var treeViewHostParent = this._rootElement.closest(".acd-treeView-host").parentElement;
        return (treeViewHostParent && treeViewHostParent.scrollHeight > treeViewHostParent.clientHeight);
    };
    BaseTreeItem.prototype.setIsSelected = function (value, scrollIntoView) {
        if (this._isSelected !== value) {
            this._isSelected = value;
            if (this._isSelected) {
                this._treeItemElement.classList.add("selected");
            }
            else {
                this._treeItemElement.classList.remove("selected");
            }
            this._rootElement.setAttribute("aria-selected", this._isSelected.toString());
            this.selectedChanged(scrollIntoView);
        }
    };
    BaseTreeItem.prototype.click = function (e) {
        _super.prototype.click.call(this, e);
        this.setIsSelected(true, false);
    };
    BaseTreeItem.prototype.getIconClass = function () {
        return null;
    };
    BaseTreeItem.prototype.getAdditionalText = function () {
        return null;
    };
    BaseTreeItem.prototype.getAdditionalTextClass = function () {
        return "acd-tree-item-additionalText";
    };
    BaseTreeItem.prototype.getIndentationLevelIncrement = function () {
        return 8;
    };
    BaseTreeItem.prototype.getDragSourceElement = function () {
        return this._treeItemElement;
    };
    BaseTreeItem.prototype.selectedChanged = function (scrollIntoView) {
        if (this.isSelected && scrollIntoView && this.needsToBeScrolled()) {
            this._rootElement.scrollIntoView();
        }
        if (this.onSelectedChange) {
            this.onSelectedChange(this);
        }
    };
    BaseTreeItem.prototype.getExpandCollapseAriaText = function () {
        return (this._isExpanded ? "collapse" : "expand") + " " + this.getLabelText() + " element";
    };
    BaseTreeItem.prototype.internalRender = function () {
        var _this = this;
        var hasChildren = (this.getChildCount() > 0);
        var labelId = (0, uuid_1.v4)();
        this._rootElement = document.createElement("li");
        this._rootElement.style.paddingLeft = "0";
        this._rootElement.style.listStyleType = "none";
        this._rootElement.setAttribute("aria-labelledby", labelId);
        this._rootElement.setAttribute("aria-level", this._level.toString());
        this._rootElement.setAttribute("aria-selected", this._isSelected.toString());
        this._rootElement.tabIndex = 0;
        if (hasChildren) {
            this._rootElement.setAttribute("aria-expanded", this._isExpanded.toString());
        }
        this._rootElement.setAttribute("role", "treeitem");
        this._rootElement.onclick = function () { _this.click; };
        this._rootElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                _this.setIsSelected(!_this.isSelected, !_this.isSelected);
                _this._rootElement.focus();
                e.preventDefault();
                e.cancelBubble = true;
            }
        };
        this._treeItemElement = document.createElement("div");
        this._treeItemElement.classList.add("acd-tree-item");
        this._treeItemElement.style.display = "flex";
        this._treeItemElement.style.alignItems = "center";
        this._treeItemElement.style.paddingLeft = this.getIndentationLevelIncrement() * (1 + this.level) + "px";
        if (hasChildren) {
            this._treeItemElement.setAttribute("role", "treeitem");
        }
        this._treeItemElement.setAttribute("aria-labelledby", labelId);
        this._expandCollapseElement = document.createElement("div");
        this._expandCollapseElement.classList.add("acd-tree-item-expandCollapseButton");
        this._expandCollapseElement.style.flex = "0 0 auto";
        this._expandCollapseElement.style.visibility = hasChildren ? "visible" : "hidden";
        this._expandCollapseElement.tabIndex = 0;
        this._expandCollapseElement.setAttribute("role", "button");
        this._expandCollapseElement.setAttribute("aria-label", this.getExpandCollapseAriaText());
        this._expandCollapseElement.onclick = function (e) {
            _this._isExpanded = !_this._isExpanded;
            _this.updateLayout();
            e.cancelBubble = true;
            e.preventDefault();
        };
        this._expandCollapseElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                _this._isExpanded = !_this._isExpanded;
                _this.updateLayout();
                _this._expandCollapseElement.focus();
                e.preventDefault();
                e.cancelBubble = true;
            }
        };
        this._treeItemElement.appendChild(this._expandCollapseElement);
        var textElement = document.createElement("div");
        textElement.classList.add("acd-tree-item-text");
        textElement.style.flex = "1 1 auto";
        textElement.style.display = "flex";
        textElement.style.alignItems = "center";
        textElement.style.whiteSpace = "nowrap";
        textElement.style.textOverflow = "ellipsis";
        textElement.style.overflow = "hidden";
        if (this.getIconClass()) {
            var iconElement = document.createElement("div");
            iconElement.classList.add("acd-icon", "acd-treeView-icon", this.getIconClass());
            textElement.appendChild(iconElement);
        }
        var labelSpan = document.createElement("span");
        labelSpan.classList.add("acd-tree-item-typeName");
        labelSpan.innerText = this.getLabelText();
        labelSpan.id = labelId;
        textElement.appendChild(labelSpan);
        var text = this.getAdditionalText();
        if (text && text != "") {
            var additionalTextSpan = document.createElement("span");
            additionalTextSpan.classList.add(this.getAdditionalTextClass());
            additionalTextSpan.innerText = " [" + text + "]";
            textElement.appendChild(additionalTextSpan);
        }
        this._treeItemElement.appendChild(textElement);
        this._rootElement.appendChild(this._treeItemElement);
        if (hasChildren) {
            this._childContainerElement = document.createElement("ul");
            this._childContainerElement.style.paddingLeft = "0";
            this._childContainerElement.style.listStyleType = "none";
            this._childContainerElement.setAttribute("role", "group");
            for (var i = 0; i < this.getChildCount(); i++) {
                var renderedChildItem = this.getChildAt(i).render();
                renderedChildItem.setAttribute("aria-posinset", (i + 1).toString());
                renderedChildItem.setAttribute("aria-setsize", this.getChildCount().toString());
                this._childContainerElement.appendChild(renderedChildItem);
            }
            this._rootElement.appendChild(this._childContainerElement);
        }
        this.updateLayout();
        return this._rootElement;
    };
    BaseTreeItem.prototype.updateLayout = function () {
        var _a, _b;
        if (this.getChildCount() > 0) {
            this._rootElement.setAttribute("aria-expanded", this._isExpanded.toString());
            this._expandCollapseElement.setAttribute("aria-label", this.getExpandCollapseAriaText());
            if (this._isExpanded) {
                (_a = this._childContainerElement) === null || _a === void 0 ? void 0 : _a.classList.remove("acd-hidden");
                this._expandCollapseElement.classList.remove(BaseTreeItem.collapsedIconClass);
                this._expandCollapseElement.classList.add(BaseTreeItem.expandedIconClass);
            }
            else {
                (_b = this._childContainerElement) === null || _b === void 0 ? void 0 : _b.classList.add("acd-hidden");
                this._expandCollapseElement.classList.add(BaseTreeItem.collapsedIconClass);
                this._expandCollapseElement.classList.remove(BaseTreeItem.expandedIconClass);
            }
        }
    };
    BaseTreeItem.prototype.expand = function () {
        if (!this._isExpanded) {
            this._isExpanded = true;
            this.updateLayout();
        }
    };
    BaseTreeItem.prototype.collpase = function () {
        if (this._isExpanded) {
            this._isExpanded = false;
            this.updateLayout();
        }
    };
    BaseTreeItem.prototype.isDraggable = function () {
        return false;
    };
    Object.defineProperty(BaseTreeItem.prototype, "level", {
        get: function () {
            return this._level;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(BaseTreeItem.prototype, "isSelected", {
        get: function () {
            return this._isSelected;
        },
        set: function (value) {
            this.setIsSelected(value, true);
        },
        enumerable: false,
        configurable: true
    });
    BaseTreeItem.collapsedIconClass = "acd-icon-chevronRight";
    BaseTreeItem.expandedIconClass = "acd-icon-chevronDown";
    return BaseTreeItem;
}(draggable_element_1.DraggableElement));
exports.BaseTreeItem = BaseTreeItem;


/***/ }),

/***/ "./src/card-designer-surface.ts":
/*!**************************************!*\
  !*** ./src/card-designer-surface.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CardDesignerSurface = exports.DesignContext = exports.ActionPeerRegistry = exports.CardElementPeerRegistry = exports.DesignerPeerRegistry = exports.BindingPreviewMode = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var miscellaneous_1 = __webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts");
var DesignerPeers = __webpack_require__(/*! ./designer-peers */ "./src/designer-peers.ts");
var ACData = __webpack_require__(/*! adaptivecards-templating */ "adaptivecards-templating");
var Shared = __webpack_require__(/*! ./shared */ "./src/shared.ts");
var BindingPreviewMode;
(function (BindingPreviewMode) {
    BindingPreviewMode[BindingPreviewMode["NoPreview"] = 0] = "NoPreview";
    BindingPreviewMode[BindingPreviewMode["GeneratedData"] = 1] = "GeneratedData";
    BindingPreviewMode[BindingPreviewMode["SampleData"] = 2] = "SampleData";
})(BindingPreviewMode = exports.BindingPreviewMode || (exports.BindingPreviewMode = {}));
var DesignerPeerCategory = /** @class */ (function () {
    function DesignerPeerCategory() {
    }
    DesignerPeerCategory.Unknown = "Unknown";
    DesignerPeerCategory.Containers = "Containers";
    DesignerPeerCategory.Elements = "Elements";
    DesignerPeerCategory.Inputs = "Inputs";
    DesignerPeerCategory.Actions = "Actions";
    return DesignerPeerCategory;
}());
var DesignerPeerRegistry = /** @class */ (function () {
    function DesignerPeerRegistry() {
        this._items = [];
        this.defaultRegistration = new DesignerPeers.DesignerPeerRegistrationBase(DesignerPeerCategory.Unknown, "acd-icon-unknownPeer");
        this.reset();
    }
    DesignerPeerRegistry.prototype.clear = function () {
        this._items = [];
    };
    DesignerPeerRegistry.prototype.findTypeRegistration = function (sourceType) {
        for (var i = 0; i < this._items.length; i++) {
            if (this._items[i].sourceType === sourceType) {
                return this._items[i];
            }
        }
        return null;
    };
    DesignerPeerRegistry.prototype.registerPeer = function (sourceType, peerType, category, iconClass) {
        if (iconClass === void 0) { iconClass = null; }
        var registrationInfo = this.findTypeRegistration(sourceType);
        if (registrationInfo != null) {
            registrationInfo.peerType = peerType;
        }
        else {
            registrationInfo = new DesignerPeers.DesignerPeerRegistration(sourceType, peerType, category, iconClass);
            this._items.push(registrationInfo);
        }
    };
    DesignerPeerRegistry.prototype.unregisterPeer = function (sourceType) {
        for (var i = 0; i < this._items.length; i++) {
            if (this._items[i].sourceType === sourceType) {
                this._items.splice(i, 1);
                return;
            }
        }
    };
    return DesignerPeerRegistry;
}());
exports.DesignerPeerRegistry = DesignerPeerRegistry;
var CardElementPeerRegistry = /** @class */ (function (_super) {
    __extends(CardElementPeerRegistry, _super);
    function CardElementPeerRegistry() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CardElementPeerRegistry.prototype.reset = function () {
        this.clear();
        this.registerPeer(Adaptive.AdaptiveCard, DesignerPeers.AdaptiveCardPeer, DesignerPeerCategory.Containers, "acd-icon-adaptiveCard");
        this.registerPeer(Adaptive.Container, DesignerPeers.ContainerPeer, DesignerPeerCategory.Containers, "acd-icon-container");
        this.registerPeer(Adaptive.ColumnSet, DesignerPeers.ColumnSetPeer, DesignerPeerCategory.Containers, "acd-icon-columnSet");
        this.registerPeer(Adaptive.Column, DesignerPeers.ColumnPeer, DesignerPeerCategory.Containers, "acd-icon-column");
        this.registerPeer(Adaptive.ImageSet, DesignerPeers.ImageSetPeer, DesignerPeerCategory.Containers, "acd-icon-imageSet");
        this.registerPeer(Adaptive.FactSet, DesignerPeers.FactSetPeer, DesignerPeerCategory.Containers, "acd-icon-factSet");
        this.registerPeer(Adaptive.Table, DesignerPeers.TablePeer, DesignerPeerCategory.Containers, "acd-icon-table");
        this.registerPeer(Adaptive.TableRow, DesignerPeers.TableRowPeer, DesignerPeerCategory.Containers, "acd-icon-tableRow");
        this.registerPeer(Adaptive.TableCell, DesignerPeers.TableCellPeer, DesignerPeerCategory.Containers, "acd-icon-tableCell");
        this.registerPeer(Adaptive.TextBlock, DesignerPeers.TextBlockPeer, DesignerPeerCategory.Elements, "acd-icon-textBlock");
        this.registerPeer(Adaptive.RichTextBlock, DesignerPeers.RichTextBlockPeer, DesignerPeerCategory.Elements, "acd-icon-richTextBlock");
        this.registerPeer(Adaptive.Image, DesignerPeers.ImagePeer, DesignerPeerCategory.Elements, "acd-icon-image");
        this.registerPeer(Adaptive.Media, DesignerPeers.MediaPeer, DesignerPeerCategory.Elements, "acd-icon-media");
        this.registerPeer(Adaptive.ActionSet, DesignerPeers.ActionSetPeer, DesignerPeerCategory.Elements, "acd-icon-actionSet");
        this.registerPeer(Adaptive.TextInput, DesignerPeers.TextInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputText");
        this.registerPeer(Adaptive.DateInput, DesignerPeers.DateInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputDate");
        this.registerPeer(Adaptive.TimeInput, DesignerPeers.TimeInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputTime");
        this.registerPeer(Adaptive.ToggleInput, DesignerPeers.ToggleInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputToggle");
        this.registerPeer(Adaptive.NumberInput, DesignerPeers.NumberInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputNumber");
        this.registerPeer(Adaptive.ChoiceSetInput, DesignerPeers.ChoiceSetInputPeer, DesignerPeerCategory.Inputs, "acd-icon-inputChoiceSet");
    };
    CardElementPeerRegistry.prototype.createPeerInstance = function (designerSurface, parent, cardElement, initializeCardElement) {
        var registrationInfo = this.findTypeRegistration(cardElement.constructor);
        var peer = registrationInfo ?
            new registrationInfo.peerType(parent, designerSurface, registrationInfo, cardElement, initializeCardElement) :
            new DesignerPeers.CardElementPeer(parent, designerSurface, this.defaultRegistration, cardElement, initializeCardElement);
        return peer;
    };
    return CardElementPeerRegistry;
}(DesignerPeerRegistry));
exports.CardElementPeerRegistry = CardElementPeerRegistry;
var ActionPeerRegistry = /** @class */ (function (_super) {
    __extends(ActionPeerRegistry, _super);
    function ActionPeerRegistry() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ActionPeerRegistry.prototype.reset = function () {
        this.clear();
        this.registerPeer(Adaptive.HttpAction, DesignerPeers.HttpActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionHttp");
        this.registerPeer(Adaptive.SubmitAction, DesignerPeers.SubmitActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionSubmit");
        this.registerPeer(Adaptive.ExecuteAction, DesignerPeers.ExecuteActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionSubmit");
        this.registerPeer(Adaptive.OpenUrlAction, DesignerPeers.OpenUrlActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionOpenUrl");
        this.registerPeer(Adaptive.ShowCardAction, DesignerPeers.ShowCardActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionShowCard");
        this.registerPeer(Adaptive.ToggleVisibilityAction, DesignerPeers.ToggleVisibilityActionPeer, DesignerPeerCategory.Actions, "acd-icon-actionToggleVisibility");
    };
    ActionPeerRegistry.prototype.createPeerInstance = function (designerSurface, parent, action) {
        var registrationInfo = this.findTypeRegistration(action.constructor);
        var peer = registrationInfo ? new registrationInfo.peerType(parent, designerSurface, registrationInfo, action) : new DesignerPeers.ActionPeer(parent, designerSurface, this.defaultRegistration, action);
        return peer;
    };
    return ActionPeerRegistry;
}(DesignerPeerRegistry));
exports.ActionPeerRegistry = ActionPeerRegistry;
var DragHandle = /** @class */ (function (_super) {
    __extends(DragHandle, _super);
    function DragHandle() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DragHandle.prototype.internalRender = function () {
        var element = document.createElement("div");
        element.classList.add("acd-peerButton", "acd-peerButton-icon", "fixedWidth", "circular", "acd-icon-drag");
        element.title = "Drag to move this element";
        element.style.visibility = "hidden";
        element.style.position = "absolute";
        element.style.zIndex = "500";
        return element;
    };
    return DragHandle;
}(draggable_element_1.DraggableElement));
var DesignContext = /** @class */ (function () {
    function DesignContext() {
    }
    return DesignContext;
}());
exports.DesignContext = DesignContext;
var CardDesignerSurface = /** @class */ (function () {
    function CardDesignerSurface(context) {
        var _this = this;
        this.context = context;
        this._updateCount = 0;
        this._allPeers = [];
        this._isPreviewMode = false;
        this.fixedHeightCard = false;
        this._serializationContext = this.context.hostContainer.createSerializationContext(this.context.targetVersion);
        var rootElement = document.createElement("div");
        rootElement.style.position = "relative";
        rootElement.style.width = "100%";
        rootElement.style.height = "100%";
        this._cardHost = document.createElement("div");
        this._cardHost.style.height = "100%";
        rootElement.appendChild(this._cardHost);
        this._designerSurface = document.createElement("div");
        this._designerSurface.classList.add("acd-designersurface");
        this._designerSurface.tabIndex = 0;
        this._designerSurface.style.position = "absolute";
        this._designerSurface.style.left = "0";
        this._designerSurface.style.top = "0";
        this._designerSurface.style.width = "100%";
        this._designerSurface.style.height = "100%";
        this._designerSurface.onkeyup = function (e) {
            if (_this._selectedPeer) {
                switch (e.key) {
                    case adaptivecards_controls_1.Constants.keys.escape:
                        if (_this.draggedPeer) {
                            _this.endDrag(true);
                        }
                        else {
                            _this.setSelectedPeer(_this._selectedPeer.parent);
                        }
                        break;
                    case adaptivecards_controls_1.Constants.keys.delete:
                        if (!_this.draggedPeer) {
                            _this.removeSelected();
                        }
                        break;
                }
            }
            return !e.cancelBubble;
        };
        this._designerSurface.onpointermove = function (e) {
            var clientRect = _this._designerSurface.getBoundingClientRect();
            if (_this.draggedPeer) {
                if (_this._designerSurface.hasPointerCapture && !_this._designerSurface.hasPointerCapture(e.pointerId)) {
                    _this._designerSurface.setPointerCapture(e.pointerId);
                }
                if (!_this._dragVisual) {
                    _this._dragVisual = document.createElement("div");
                    _this._dragVisual.style.pointerEvents = "none";
                    _this._dragVisual.style.backgroundColor = "white";
                    _this._dragVisual.style.padding = "6px";
                    _this._dragVisual.style.opacity = "0.6";
                    _this._dragVisual.style.boxShadow = "0 0 15px -5px rgba(0, 0, 0, 0.4)";
                    _this._dragVisual.style.position = "absolute";
                    _this._dragVisual.style.boxSizing = "content-box";
                    _this._dragVisual.appendChild(_this.draggedPeer.getCardObject().renderedElement.cloneNode(true));
                    document.body.appendChild(_this._dragVisual);
                }
                var adjustedPoint = miscellaneous_1.Utils.adjustPointForScroll(e);
                _this._dragVisual.style.left = (adjustedPoint.x - 6) + "px";
                _this._dragVisual.style.top = (adjustedPoint.y - 6) + "px";
                var renderedCardObjectRect = _this.draggedPeer.getCardObject().renderedElement.getBoundingClientRect();
                _this._dragVisual.style.width = renderedCardObjectRect.width + "px";
                _this._dragVisual.style.height = renderedCardObjectRect.height + "px";
                _this.tryDrop({ x: e.x - clientRect.left, y: e.y - clientRect.top }, _this.draggedPeer);
            }
        };
        this._designerSurface.onpointerup = function (e) {
            _this._designerSurface.releasePointerCapture(e.pointerId);
            if (_this.draggedPeer) {
                _this.endDrag(false);
            }
        };
        rootElement.appendChild(this._designerSurface);
        this.context.hostContainer.cardHost.innerHTML = "";
        this.context.hostContainer.cardHost.appendChild(rootElement);
        this._card = new Adaptive.AdaptiveCard();
        this._card.onInlineCardExpanded = function (action, isExpanded) { _this.inlineCardExpanded(action, isExpanded); };
        this._card.onPreProcessPropertyValue = function (sender, property, value) {
            if (Shared.GlobalSettings.enableDataBindingSupport && typeof value === "string" && _this.context.sampleData && _this.context.bindingPreviewMode !== BindingPreviewMode.NoPreview) {
                var expression = ACData.Template.parseInterpolatedString(value);
                if (typeof expression === "string") {
                    return expression;
                }
                else {
                    var evaluationContext = void 0;
                    if (_this.context.bindingPreviewMode === BindingPreviewMode.SampleData) {
                        evaluationContext = { $root: _this.context.sampleData };
                    }
                    else {
                        evaluationContext = { $root: _this.context.dataStructure.dataType.generateSampleData() };
                    }
                    var evaluationResult = ACData.Template.tryEvaluateExpression(expression, evaluationContext, true);
                    return typeof evaluationResult.value === "string" ? evaluationResult.value : value;
                }
            }
            return value;
        };
        this._card.version = this.context.targetVersion;
        this._card.hostConfig = this.context.hostContainer.getHostConfig();
        this._card.designMode = true;
        this.render();
    }
    CardDesignerSurface.prototype.updatePeerCommandsLayout = function () {
        if (this._selectedPeer) {
            var peerRect = this._selectedPeer.getBoundingRect();
            var dragHandleRect = this._dragHandle.renderedElement.getBoundingClientRect();
            var removeButtonRect = this._removeCommandElement.getBoundingClientRect();
            this._dragHandle.renderedElement.style.left = (peerRect.left - dragHandleRect.width) + "px";
            this._dragHandle.renderedElement.style.top = (peerRect.top - dragHandleRect.height) + "px";
            this._removeCommandElement.style.left = peerRect.right + "px";
            this._removeCommandElement.style.top = (peerRect.top - removeButtonRect.height) + "px";
            this._peerCommandsHostElement.style.left = peerRect.left + "px";
            this._peerCommandsHostElement.style.top = (peerRect.bottom + 2) + "px";
            this._peerCommandsHostElement.style.width = peerRect.width + "px";
            this._dragHandle.renderedElement.style.visibility = this._selectedPeer.isDraggable() ? "visible" : "hidden";
            this._removeCommandElement.style.visibility = this._selectedPeer.canBeRemoved() ? "visible" : "hidden";
            this._peerCommandsHostElement.style.visibility = this._peerCommandsHostElement.childElementCount > 0 ? "visible" : "hidden";
        }
        else {
            this._dragHandle.renderedElement.style.visibility = "hidden";
            this._removeCommandElement.style.visibility = "hidden";
            this._peerCommandsHostElement.style.visibility = "hidden";
        }
    };
    CardDesignerSurface.prototype.setSelectedPeer = function (value) {
        if (this._selectedPeer != value) {
            if (this._selectedPeer) {
                this._selectedPeer.isSelected = false;
            }
            this._selectedPeer = value;
            this._peerCommandsHostElement.innerHTML = "";
            if (this._selectedPeer) {
                this._selectedPeer.isSelected = true;
                var commands = this._selectedPeer.getCommands(this.context);
                for (var _i = 0, commands_1 = commands; _i < commands_1.length; _i++) {
                    var command = commands_1[_i];
                    this._peerCommandsHostElement.appendChild(command.render());
                }
            }
            this.updatePeerCommandsLayout();
            if (this.onSelectedPeerChanged) {
                this.onSelectedPeerChanged(this._selectedPeer);
            }
        }
    };
    CardDesignerSurface.prototype.peerChanged = function (peer, updatePropertySheet) {
        this.renderCard();
        this.updateLayout();
        if (updatePropertySheet && this.onSelectedPeerChanged) {
            this.onSelectedPeerChanged(this._selectedPeer);
        }
    };
    CardDesignerSurface.prototype.peerRemoved = function (peer) {
        this._allPeers.splice(this._allPeers.indexOf(peer), 1);
        if (peer == this._selectedPeer) {
            this.setSelectedPeer(null);
        }
        if (this._updateCount == 0) {
            this.renderCard();
            this.updateLayout();
        }
    };
    CardDesignerSurface.prototype.generateCardToRender = function (asPreview) {
        var cardToRender = this.card;
        if (asPreview) {
            var inputPayload = this.card.toJSON(this._serializationContext);
            cardToRender = new Adaptive.AdaptiveCard();
            cardToRender.hostConfig = this.card.hostConfig;
            var outputPayload = inputPayload;
            if (Shared.GlobalSettings.enableDataBindingSupport) {
                try {
                    var template = new ACData.Template(inputPayload);
                    var evaluationContext = void 0;
                    if (this.context.bindingPreviewMode === BindingPreviewMode.SampleData) {
                        evaluationContext = { $root: this.context.sampleData };
                    }
                    else {
                        evaluationContext = { $root: this.context.dataStructure.dataType.generateSampleData() };
                    }
                    outputPayload = template.expand(evaluationContext);
                }
                catch (e) {
                    console.log("Template expansion error: " + e.message);
                }
            }
            cardToRender.parse(outputPayload, this._serializationContext);
        }
        return cardToRender;
    };
    CardDesignerSurface.prototype.renderCard = function () {
        this._cardHost.innerHTML = "";
        if (this.onCardValidated) {
            var allValidationEvents = [];
            for (var i = 0; i < this._serializationContext.eventCount; i++) {
                allValidationEvents.push(this._serializationContext.getEventAt(i));
            }
            allValidationEvents.push.apply(allValidationEvents, this.card.validateProperties().validationEvents);
            this.onCardValidated(allValidationEvents);
        }
        var cardToRender = this.generateCardToRender(this.isPreviewMode);
        if (this.isPreviewMode) {
            cardToRender.onExecuteAction = function (action) {
                var actionType = action.getJsonTypeName();
                var message = "Action executed: \"" + actionType + "\" title: \"" + action.title + "\"";
                var verb = action.verb;
                if (verb) {
                    message += " verb: \"" + verb + "\"";
                }
                var url = action.url;
                if (url) {
                    message += "\nurl: \"" + url + "\"";
                }
                var data = action.data;
                if (data) {
                    message += "\nSubmitted data: " + JSON.stringify(data, undefined, 4);
                }
                alert(message);
            };
        }
        var renderedCard = cardToRender.render();
        if (this.fixedHeightCard) {
            renderedCard.style.height = "100%";
        }
        this._cardHost.appendChild(renderedCard);
    };
    CardDesignerSurface.prototype.addPeer = function (peer) {
        var _this = this;
        if (this._allPeers.indexOf(peer) < 0) {
            this._allPeers.push(peer);
            peer.render();
            peer.onSelectedChanged = function (peer) {
                if (peer.isSelected) {
                    _this.setSelectedPeer(peer);
                }
                else {
                    if (_this._selectedPeer == peer) {
                        _this.setSelectedPeer(null);
                    }
                }
            };
            peer.onChanged = function (sender, updatePropertySheet) { _this.peerChanged(sender, updatePropertySheet); };
            peer.onPeerRemoved = function (sender) { _this.peerRemoved(sender); };
            peer.onPeerAdded = function (sender, newPeer) {
                _this.addPeer(newPeer);
                _this.updateLayout();
            };
            peer.onStartDrag = function (sender) { _this.startDrag(sender); };
            peer.onEndDrag = function (sender) { _this.endDrag(false); };
            peer.addElementsToDesignerSurface(this._designerSurface);
            for (var i = 0; i < peer.getChildCount(); i++) {
                this.addPeer(peer.getChildAt(i));
            }
        }
    };
    CardDesignerSurface.prototype.internalFindDropTarget = function (pointerPosition, currentPeer, forPeer) {
        if (currentPeer == forPeer) {
            return null;
        }
        var result = null;
        var lookDeeper = currentPeer instanceof DesignerPeers.ActionPeer;
        if (!lookDeeper) {
            var boundingRect = currentPeer.getBoundingRect();
            lookDeeper = boundingRect.isInside(pointerPosition);
        }
        if (lookDeeper) {
            var canDrop = currentPeer.canDrop(forPeer);
            if (canDrop) {
                result = currentPeer;
            }
            for (var i = 0; i < currentPeer.getChildCount(); i++) {
                var deeperResult = this.internalFindDropTarget(pointerPosition, currentPeer.getChildAt(i), forPeer);
                if (deeperResult) {
                    result = deeperResult;
                    break;
                }
            }
        }
        return result;
    };
    CardDesignerSurface.prototype.findCardElementPeer = function (cardElement) {
        for (var i = 0; i < this._allPeers.length; i++) {
            var peer = this._allPeers[i];
            if (peer instanceof DesignerPeers.CardElementPeer && peer.cardElement == cardElement) {
                return peer;
            }
        }
        return null;
    };
    CardDesignerSurface.prototype.findActionPeer = function (action) {
        for (var i = 0; i < this._allPeers.length; i++) {
            var peer = this._allPeers[i];
            if (peer instanceof DesignerPeers.ActionPeer && peer.action == action) {
                return peer;
            }
        }
        return null;
    };
    CardDesignerSurface.prototype.inlineCardExpanded = function (action, isExpanded) {
        var peer = this.findCardElementPeer(action.card);
        if (isExpanded) {
            if (!peer) {
                var registration = CardDesignerSurface.cardElementPeerRegistry.findTypeRegistration(Adaptive.AdaptiveCard);
                peer = new registration.peerType(peer, this, registration, action.card);
                var parentPeer = this.findActionPeer(action);
                if (parentPeer) {
                    parentPeer.insertChild(peer);
                }
                else {
                    this._rootPeer.insertChild(peer);
                }
            }
            else {
                peer.addElementsToDesignerSurface(this._designerSurface, true);
            }
        }
        else {
            if (peer) {
                peer.removeElementsFromDesignerSurface(true);
            }
        }
        this.updateLayout();
    };
    Object.defineProperty(CardDesignerSurface.prototype, "card", {
        get: function () {
            return this._card;
        },
        enumerable: false,
        configurable: true
    });
    CardDesignerSurface.prototype.setDraggedPeer = function (value) {
        if (this._draggedPeer != value) {
            if (this._draggedPeer) {
                this._draggedPeer.dragging = false;
            }
            this._draggedPeer = value;
            if (this._draggedPeer) {
                this._draggedPeer.dragging = true;
            }
        }
    };
    CardDesignerSurface.prototype.getDesignerSurfaceOffset = function () {
        var clientRect = this._designerSurface.getBoundingClientRect();
        return { x: clientRect.left, y: clientRect.top };
    };
    CardDesignerSurface.prototype.findDropTarget = function (pointerPosition, peer) {
        return this.internalFindDropTarget(pointerPosition, this._rootPeer, peer);
    };
    CardDesignerSurface.prototype.findPeer = function (cardObject) {
        for (var _i = 0, _a = this._allPeers; _i < _a.length; _i++) {
            var peer = _a[_i];
            if (peer.getCardObject() === cardObject) {
                return peer;
            }
        }
        return undefined;
    };
    CardDesignerSurface.prototype.beginUpdate = function () {
        this._updateCount++;
    };
    CardDesignerSurface.prototype.endUpdate = function (renderCard) {
        if (this._updateCount > 0) {
            this._updateCount--;
            if (this._updateCount == 0) {
                if (renderCard) {
                    this.renderCard();
                }
                this.updateLayout();
            }
        }
    };
    CardDesignerSurface.prototype.render = function () {
        var _this = this;
        this._designerSurface.innerHTML = "";
        this._allPeers = [];
        this.setSelectedPeer(null);
        this.renderCard();
        this._rootPeer = CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(this, null, this.card);
        this.addPeer(this._rootPeer);
        this._removeCommandElement = document.createElement("div");
        this._removeCommandElement.classList.add("acd-peerButton", "acd-peerButton-icon", "fixedWidth", "circular", "acd-icon-remove");
        this._removeCommandElement.title = "Remove";
        this._removeCommandElement.style.visibility = "hidden";
        this._removeCommandElement.style.position = "absolute";
        this._removeCommandElement.style.zIndex = "500";
        this._removeCommandElement.onclick = function (e) {
            _this.removeSelected();
        };
        this._dragHandle = new DragHandle();
        this._dragHandle.onStartDrag = function (sender) {
            _this._dragHandle.endDrag();
            _this.startDrag(_this._selectedPeer);
        };
        this._dragHandle.render();
        this._peerCommandsHostElement = document.createElement("div");
        this._peerCommandsHostElement.style.visibility = "hidden";
        this._peerCommandsHostElement.style.position = "absolute";
        this._peerCommandsHostElement.style.display = "flex";
        this._peerCommandsHostElement.style.justifyContent = "flex-end";
        this._peerCommandsHostElement.style.zIndex = "500";
        this._peerCommandsHostElement.style.pointerEvents = "none";
        this._designerSurface.appendChild(this._dragHandle.renderedElement);
        this._designerSurface.appendChild(this._removeCommandElement);
        this._designerSurface.appendChild(this._peerCommandsHostElement);
        this.updateLayout();
    };
    CardDesignerSurface.prototype.getCardPayloadAsObject = function () {
        return this.card.toJSON(this._serializationContext);
    };
    CardDesignerSurface.prototype.setCardPayloadAsObject = function (payload) {
        this._serializationContext.clearEvents();
        this.card.parse(payload, this._serializationContext);
        this.render();
    };
    CardDesignerSurface.prototype.setCardPayloadAsString = function (payload) {
        try {
            this.setCardPayloadAsObject(JSON.parse(payload));
        }
        catch (e) {
            console.warn("Invalid JSON string. " + e);
        }
    };
    CardDesignerSurface.prototype.getBoundCardPayloadAsObject = function () {
        return this.generateCardToRender(true).toJSON(this._serializationContext);
    };
    CardDesignerSurface.prototype.updateLayout = function (isFullRefresh) {
        if (isFullRefresh === void 0) { isFullRefresh = true; }
        if (!this.isPreviewMode) {
            for (var i = 0; i < this._allPeers.length; i++) {
                this._allPeers[i].updateLayout();
            }
            this.updatePeerCommandsLayout();
            if (this.onLayoutUpdated) {
                this.onLayoutUpdated(isFullRefresh);
            }
        }
    };
    CardDesignerSurface.prototype.removeSelected = function () {
        if (this.selectedPeer) {
            this.beginUpdate();
            try {
                var parent_1 = this.selectedPeer.parent;
                if (this.selectedPeer.remove(false, true)) {
                    this.setSelectedPeer(parent_1);
                }
            }
            finally {
                this.endUpdate(true);
            }
        }
    };
    CardDesignerSurface.prototype.startDrag = function (peer) {
        if (!this.draggedPeer) {
            this._designerSurface.classList.add("dragging");
            this.setDraggedPeer(peer);
            this.setSelectedPeer(this.draggedPeer);
            if (this.onStartDrag) {
                this.onStartDrag(this);
            }
        }
    };
    CardDesignerSurface.prototype.endDrag = function (wasCancelled) {
        var _a;
        if (this.draggedPeer) {
            // Ensure that the dragged peer's elements are at the top in Z order
            this.draggedPeer.removeElementsFromDesignerSurface(true);
            this.draggedPeer.addElementsToDesignerSurface(this._designerSurface, true);
            this._dropTarget.renderedElement.classList.remove("dragover");
            (_a = this._dragVisual) === null || _a === void 0 ? void 0 : _a.parentNode.removeChild(this._dragVisual);
            this._dragVisual = undefined;
            this.setDraggedPeer(null);
            if (this.onEndDrag) {
                this.onEndDrag(this, wasCancelled);
            }
            this._designerSurface.classList.remove("dragging");
        }
    };
    CardDesignerSurface.prototype.tryDrop = function (pointerPosition, peer) {
        if (peer) {
            if (this._dropTarget) {
                this._dropTarget.renderedElement.classList.remove("dragover");
            }
            var newDropTarget = this.findDropTarget(pointerPosition, peer);
            if (newDropTarget) {
                this._dropTarget = newDropTarget;
                this._dropTarget.renderedElement.classList.add("dragover");
                return this._dropTarget.tryDrop(peer, pointerPosition);
            }
        }
        return false;
    };
    CardDesignerSurface.prototype.isPointerOver = function (x, y) {
        var clientRect = this._designerSurface.getBoundingClientRect();
        return (x >= clientRect.left) && (x <= clientRect.right) && (y >= clientRect.top) && (y <= clientRect.bottom);
    };
    CardDesignerSurface.prototype.pageToClientCoordinates = function (x, y) {
        var clientRect = this._designerSurface.getBoundingClientRect();
        return {
            x: x - clientRect.left,
            y: y - clientRect.top
        };
    };
    Object.defineProperty(CardDesignerSurface.prototype, "rootPeer", {
        get: function () {
            return this._rootPeer;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "selectedPeer", {
        get: function () {
            return this._selectedPeer;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "draggedPeer", {
        get: function () {
            return this._draggedPeer;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesignerSurface.prototype, "isPreviewMode", {
        get: function () {
            return this._isPreviewMode;
        },
        set: function (value) {
            if (this._isPreviewMode != value) {
                this._isPreviewMode = value;
                if (this._isPreviewMode) {
                    this._designerSurface.classList.add("acd-hidden");
                    this._dragHandle.renderedElement.classList.add("acd-hidden");
                    this._removeCommandElement.classList.add("acd-hidden");
                    this._peerCommandsHostElement.classList.add("acd-hidden");
                }
                else {
                    this._designerSurface.classList.remove("acd-hidden");
                    this._dragHandle.renderedElement.classList.remove("acd-hidden");
                    this._removeCommandElement.classList.remove("acd-hidden");
                    this._peerCommandsHostElement.classList.remove("acd-hidden");
                }
                this.card.designMode = !this._isPreviewMode;
                this.renderCard();
                this.updateLayout(false);
            }
        },
        enumerable: false,
        configurable: true
    });
    CardDesignerSurface.cardElementPeerRegistry = new CardElementPeerRegistry();
    CardDesignerSurface.actionPeerRegistry = new ActionPeerRegistry();
    return CardDesignerSurface;
}());
exports.CardDesignerSurface = CardDesignerSurface;


/***/ }),

/***/ "./src/card-designer.ts":
/*!******************************!*\
  !*** ./src/card-designer.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CardDesigner = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Clipboard = __webpack_require__(/*! clipboard */ "./node_modules/clipboard/dist/clipboard.js");
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var Constants = __webpack_require__(/*! ./constants */ "./src/constants.ts");
var Designer = __webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts");
var pic2card_1 = __webpack_require__(/*! ./pic2card */ "./src/pic2card.ts");
var open_sample_dialog_1 = __webpack_require__(/*! ./open-sample-dialog */ "./src/open-sample-dialog.ts");
var open_json_schema_dialog_1 = __webpack_require__(/*! ./open-json-schema-dialog */ "./src/open-json-schema-dialog.ts");
var adaptive_card_schema_1 = __webpack_require__(/*! ./adaptive-card-schema */ "./src/adaptive-card-schema.ts");
var open_image_dialog_1 = __webpack_require__(/*! ./open-image-dialog */ "./src/open-image-dialog.ts");
var fullscreen_handler_1 = __webpack_require__(/*! ./fullscreen-handler */ "./src/fullscreen-handler.ts");
var toolbar_1 = __webpack_require__(/*! ./toolbar */ "./src/toolbar.ts");
var miscellaneous_1 = __webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts");
var tool_palette_1 = __webpack_require__(/*! ./tool-palette */ "./src/tool-palette.ts");
var default_container_1 = __webpack_require__(/*! ./containers/default/default-container */ "./src/containers/default/default-container.ts");
var side_panel_1 = __webpack_require__(/*! ./side-panel */ "./src/side-panel.ts");
var tool_box_1 = __webpack_require__(/*! ./tool-box */ "./src/tool-box.ts");
var data_1 = __webpack_require__(/*! ./data */ "./src/data.ts");
var data_treeitem_1 = __webpack_require__(/*! ./data-treeitem */ "./src/data-treeitem.ts");
var strings_1 = __webpack_require__(/*! ./strings */ "./src/strings.ts");
var Shared = __webpack_require__(/*! ./shared */ "./src/shared.ts");
var tree_view_1 = __webpack_require__(/*! ./tree-view */ "./src/tree-view.ts");
var catalogue_1 = __webpack_require__(/*! ./catalogue */ "./src/catalogue.ts");
var help_dialog_1 = __webpack_require__(/*! ./help-dialog */ "./src/help-dialog.ts");
var CardDesigner = /** @class */ (function (_super) {
    __extends(CardDesigner, _super);
    function CardDesigner(hostContainers) {
        if (hostContainers === void 0) { hostContainers = null; }
        var _this = _super.call(this) || this;
        _this._isAttached = false;
        _this._isMonacoEditorLoaded = false;
        _this._undoStack = [];
        _this._undoStackIndex = -1;
        _this._bindingPreviewMode = Designer.BindingPreviewMode.NoPreview;
        _this._sampleCatalogue = new catalogue_1.SampleCatalogue();
        _this._preventCardUpdate = false;
        _this._cardEditorUpdateCounter = 0;
        _this.preventJsonUpdate = false;
        _this._isEdgeHTML = undefined;
        _this._targetVersion = Adaptive.Versions.latest;
        _this._fullScreenHandler = new fullscreen_handler_1.FullScreenHandler();
        _this._preventRecursiveSetTargetVersion = false;
        _this.toolbar = new toolbar_1.Toolbar();
        _this.lockDataStructure = false;
        Adaptive.GlobalSettings.enableFullJsonRoundTrip = true;
        Adaptive.GlobalSettings.allowPreProcessingPropertyValues = true;
        Adaptive.GlobalSettings.setTabIndexAtCardRoot = false;
        Adaptive.AdaptiveCard.onProcessMarkdown = function (text, result) {
            CardDesigner.internalProcessMarkdown(text, result);
        };
        _this._hostContainers = hostContainers ? hostContainers : [];
        _this.prepareToolbar();
        return _this;
    }
    CardDesigner.internalProcessMarkdown = function (text, result) {
        if (CardDesigner.onProcessMarkdown) {
            CardDesigner.onProcessMarkdown(text, result);
        }
        else {
            // Check for markdownit
            if (window["markdownit"]) {
                result.outputHtml = window["markdownit"]().render(text);
                result.didProcess = true;
            }
        }
    };
    CardDesigner.prototype.togglePreview = function () {
        this._designerSurface.isPreviewMode = !this._designerSurface.isPreviewMode;
        if (this._designerSurface.isPreviewMode) {
            this._togglePreviewButton.toolTip = "Return to Design mode";
            this._designerSurface.setCardPayloadAsString(this.getCurrentCardEditorPayload());
        }
        else {
            this._togglePreviewButton.toolTip = "Switch to Preview mode";
            this.updateCardFromJson(false);
        }
        this.buildTreeView();
    };
    CardDesigner.prototype.buildTreeView = function () {
        if (this._treeViewToolbox.content) {
            this._treeViewToolbox.content.innerHTML = "";
            if (this.designerSurface.isPreviewMode) {
                this.treeViewToolbox.content.innerHTML =
                    '<div style="padding: 8px; display: flex; justify-content: center;">' +
                        '<div>The Card Structure isn\'t available in Preview mode.</div>' +
                        '</div>';
            }
            else {
                var treeView = new tree_view_1.TreeView(this.designerSurface.rootPeer.treeItem);
                this._treeViewToolbox.content.appendChild(treeView.render());
            }
        }
    };
    CardDesigner.prototype.buildDataExplorer = function () {
        if (this._dataToolbox && this._dataToolbox.content) {
            this._dataToolbox.content.innerHTML = "";
            if (this.dataStructure) {
                var treeItem = new data_treeitem_1.DataTreeItem(this.dataStructure);
                var treeView = new tree_view_1.TreeView(treeItem);
                this._dataToolbox.content.appendChild(treeView.render());
            }
        }
    };
    CardDesigner.prototype.buildPropertySheet = function (peer) {
        var _a, _b, _c, _d;
        if (this._propertySheetToolbox.content) {
            // if focus is already on _propertySheetCard, remember the focused object's id
            var restoreFocusId = (_b = (_a = this._propertySheetCard) === null || _a === void 0 ? void 0 : _a.findDOMNodeOwner(document.activeElement)) === null || _b === void 0 ? void 0 : _b.id;
            this._propertySheetToolbox.content.innerHTML = "";
            if (peer) {
                this._propertySheetCard = peer.buildPropertySheetCard(this);
            }
            else {
                this._propertySheetCard = new Adaptive.AdaptiveCard();
                this._propertySheetCard.parse({
                    type: "AdaptiveCard",
                    version: "1.0",
                    body: [
                        {
                            type: "TextBlock",
                            wrap: true,
                            text: "**Nothing is selected**"
                        },
                        {
                            type: "TextBlock",
                            wrap: true,
                            text: "Select an element in the card to modify its properties."
                        }
                    ]
                }, new Adaptive.SerializationContext(this.targetVersion));
                this._propertySheetCard.padding = new Adaptive.PaddingDefinition(Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small);
            }
            this._propertySheetCard.hostConfig = miscellaneous_1.defaultHostConfig;
            this._propertySheetToolbox.content.appendChild(this._propertySheetCard.render());
            if (restoreFocusId) {
                // attempt to restore focus if new card has object with same id
                var focusTarget = (_c = this._propertySheetCard.getElementById(restoreFocusId)) !== null && _c !== void 0 ? _c : this._propertySheetCard.getActionById(restoreFocusId);
                (_d = focusTarget === null || focusTarget === void 0 ? void 0 : focusTarget.renderedElement) === null || _d === void 0 ? void 0 : _d.focus();
            }
        }
    };
    CardDesigner.prototype.addPaletteItem = function (paletteItem, hostElement) {
        var _this = this;
        paletteItem.render();
        paletteItem.onStartDrag = function (sender) {
            _this._draggedPaletteItem = sender;
            _this._draggedElement = sender.renderDragVisual();
            _this._draggedElement.style.position = "absolute";
            var adjustedPosition = miscellaneous_1.Utils.adjustPointForScroll(_this._currentMousePosition);
            _this._draggedElement.style.left = adjustedPosition.x + "px";
            _this._draggedElement.style.top = adjustedPosition.y + "px";
            document.body.appendChild(_this._draggedElement);
        };
        hostElement.appendChild(paletteItem.renderedElement);
    };
    CardDesigner.prototype.buildPalette = function () {
        var _this = this;
        if (!this._isAttached) {
            return;
        }
        this._toolPaletteToolbox.content.innerHTML = "";
        var categorizedTypes = {};
        var _loop_1 = function (i) {
            var registration = this_1.hostContainer.elementsRegistry.getItemAt(i);
            if (registration.schemaVersion.compareTo(this_1.targetVersion) <= 0) {
                var peerRegistration = Designer.CardDesignerSurface.cardElementPeerRegistry.findTypeRegistration(registration.objectType);
                if (peerRegistration) {
                    if (!categorizedTypes.hasOwnProperty(peerRegistration.category)) {
                        categorizedTypes[peerRegistration.category] = [];
                    }
                    var paletteItem_1 = new tool_palette_1.ElementPaletteItem(registration, peerRegistration);
                    paletteItem_1.onDoubleClick = function (sender) {
                        var peer = paletteItem_1.createPeer(_this, _this.designerSurface);
                        if (_this.designerSurface.rootPeer.tryAdd(peer)) {
                            peer.isSelected = true;
                        }
                        ;
                    };
                    categorizedTypes[peerRegistration.category].push(paletteItem_1);
                }
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.hostContainer.elementsRegistry.getItemCount(); i++) {
            _loop_1(i);
        }
        if (this.customPaletteItems) {
            for (var _i = 0, _a = this.customPaletteItems; _i < _a.length; _i++) {
                var item = _a[_i];
                if (!categorizedTypes.hasOwnProperty(item.category)) {
                    categorizedTypes[item.category] = [];
                }
                categorizedTypes[item.category].push(item);
            }
        }
        for (var category in categorizedTypes) {
            var categoryList = document.createElement('div');
            categoryList.setAttribute("aria-label", category);
            var node = document.createElement('div');
            categoryList.appendChild(node);
            node.innerText = category;
            node.className = "acd-palette-category";
            this._toolPaletteToolbox.content.appendChild(categoryList);
            var paletteItemContainer = document.createElement('div');
            paletteItemContainer.className = "acd-palette-item-container";
            for (var i = 0; i < categorizedTypes[category].length; i++) {
                this.addPaletteItem(categorizedTypes[category][i], paletteItemContainer);
            }
            categoryList.appendChild(paletteItemContainer);
        }
    };
    CardDesigner.prototype.endDrag = function () {
        if (this._draggedPaletteItem) {
            this._draggedPaletteItem.endDrag();
            this._draggedElement.parentNode.removeChild(this._draggedElement);
            this._draggedPaletteItem = null;
            this._draggedElement = null;
        }
    };
    CardDesigner.prototype.renderErrorPaneElement = function (message, source) {
        var _this = this;
        var errorElement = document.createElement("div");
        errorElement.className = "acd-error-pane-message";
        if (source && source instanceof Adaptive.CardObject) {
            errorElement.classList.add("selectable");
            errorElement.title = "Click to select this element";
            errorElement.onclick = function (e) {
                var peer = _this.designerSurface.findPeer(source);
                if (peer) {
                    peer.isSelected = true;
                    peer.scrollIntoView();
                }
            };
        }
        errorElement.innerText = message;
        return errorElement;
    };
    CardDesigner.prototype.recreateDesignerSurface = function () {
        var _this = this;
        var styleSheetLinkElement = document.getElementById("adaptiveCardStylesheet");
        if (styleSheetLinkElement == null) {
            styleSheetLinkElement = document.createElement("link");
            styleSheetLinkElement.id = "adaptiveCardStylesheet";
            document.getElementsByTagName("head")[0].appendChild(styleSheetLinkElement);
        }
        styleSheetLinkElement.rel = "stylesheet";
        styleSheetLinkElement.type = "text/css";
        if (miscellaneous_1.Utils.isAbsoluteUrl(this.hostContainer.styleSheet)) {
            styleSheetLinkElement.href = this.hostContainer.styleSheet;
        }
        else {
            styleSheetLinkElement.href = miscellaneous_1.Utils.joinPaths(this._assetPath, this.hostContainer.styleSheet);
        }
        var cardArea = document.getElementById("cardArea");
        if (cardArea) {
            cardArea.style.backgroundColor = this.hostContainer.getBackgroundColor();
        }
        this.hostContainer.initialize();
        this._designerHostElement.innerHTML = "";
        this.hostContainer.renderTo(this._designerHostElement);
        var wasInPreviewMode = this._designerSurface ? this._designerSurface.isPreviewMode : false;
        this._designerSurface = new Designer.CardDesignerSurface(this);
        this._designerSurface.fixedHeightCard = this.hostContainer.isFixedHeight;
        this._designerSurface.onSelectedPeerChanged = function (peer) {
            _this.buildPropertySheet(peer);
        };
        this._designerSurface.onLayoutUpdated = function (isFullRefresh) {
            if (isFullRefresh) {
                _this.scheduleUpdateJsonFromCard();
                _this.buildTreeView();
            }
        };
        this._designerSurface.onCardValidated = function (logEntries) {
            if (_this.onCardValidated) {
                _this.onCardValidated(_this, logEntries);
            }
            var errorPane = document.getElementById("errorPane");
            errorPane.innerHTML = "";
            if (_this.targetVersion.toString() == "1.4" && (_this.hostContainer.name == "Microsoft Teams - Dark" || _this.hostContainer.name == "Microsoft Teams - Light")) {
                errorPane.appendChild(_this.renderErrorPaneElement("[Warning] The selected Target Version (" + _this.targetVersion.toString() + ") is only supported by bot sent card. For user sent cards please use version 1.3"));
            }
            if (_this.targetVersion.compareTo(_this.hostContainer.targetVersion) > 0 && Shared.GlobalSettings.showTargetVersionMismatchWarning) {
                errorPane.appendChild(_this.renderErrorPaneElement("[Warning] The selected Target Version (" + _this.targetVersion.toString() + ") is greater than the version supported by " + _this.hostContainer.name + " (" + _this.hostContainer.targetVersion.toString() + ")"));
            }
            if (logEntries.length > 0) {
                var dedupedEntries = [];
                for (var _i = 0, logEntries_1 = logEntries; _i < logEntries_1.length; _i++) {
                    var entry = logEntries_1[_i];
                    if (dedupedEntries.indexOf(entry) < 0) {
                        dedupedEntries.push(entry);
                    }
                }
                for (var _a = 0, dedupedEntries_1 = dedupedEntries; _a < dedupedEntries_1.length; _a++) {
                    var entry = dedupedEntries_1[_a];
                    var s = "";
                    switch (entry.phase) {
                        case Adaptive.ValidationPhase.Parse:
                            s = "[Parse]";
                            break;
                        case Adaptive.ValidationPhase.ToJSON:
                            s = "[Serialize]";
                            break;
                        default:
                            s = "[Validation]";
                            break;
                    }
                    errorPane.appendChild(_this.renderErrorPaneElement(s + " " + entry.message, entry.source));
                }
            }
            if (errorPane.childElementCount > 0) {
                errorPane.classList.remove("acd-hidden");
            }
            else {
                errorPane.classList.add("acd-hidden");
            }
        };
        this._designerSurface.onStartDrag = function (sender) {
            _this._startDragPayload = JSON.parse(_this.getCurrentCardEditorPayload());
        };
        this._designerSurface.onEndDrag = function (sender, wasCancelled) {
            if (wasCancelled) {
                _this.setCardPayload(_this._startDragPayload, false);
            }
            else {
                _this.addToUndoStack(_this._designerSurface.getCardPayloadAsObject());
            }
        };
        this.buildPalette();
        this.buildPropertySheet(null);
        this.updateCardFromJson(false);
        this.updateSampleData();
        this._designerSurface.isPreviewMode = wasInPreviewMode;
        this.updateFullLayout();
    };
    CardDesigner.prototype.activeHostContainerChanged = function () {
        this.recreateDesignerSurface();
        if (this.onActiveHostContainerChanged) {
            this.onActiveHostContainerChanged(this);
        }
    };
    CardDesigner.prototype.targetVersionChanged = function () {
        var cardPayload = this.designerSurface.getCardPayloadAsObject();
        if (typeof cardPayload === "object") {
            cardPayload["version"] = this.targetVersion.toString();
            this.setCardPayload(cardPayload, false);
        }
        this.recreateDesignerSurface();
        if (this.onTargetVersionChanged) {
            this.onTargetVersionChanged(this);
        }
    };
    CardDesigner.prototype.updateToolboxLayout = function (toolbox, hostPanelRect) {
        if (toolbox) {
            var jsonEditorHeaderRect = toolbox.getHeaderBoundingRect();
            toolbox.content.style.height = (hostPanelRect.height - jsonEditorHeaderRect.height) + "px";
        }
    };
    CardDesigner.prototype.updateJsonEditorsLayout = function () {
        if (this._isMonacoEditorLoaded) {
            var jsonEditorsPaneRect = this._jsonEditorsPanel.contentHost.getBoundingClientRect();
            this.updateToolboxLayout(this._cardEditorToolbox, jsonEditorsPaneRect);
            this._cardEditor.layout();
            if (this._sampleDataEditorToolbox) {
                this.updateToolboxLayout(this._sampleDataEditorToolbox, jsonEditorsPaneRect);
                this._sampleDataEditor.layout();
            }
        }
    };
    CardDesigner.prototype.updateFullLayout = function () {
        this.scheduleLayoutUpdate();
        this.updateJsonEditorsLayout();
    };
    CardDesigner.prototype.cardPayloadChanged = function () {
        if (this.onCardPayloadChanged) {
            this.onCardPayloadChanged(this);
        }
    };
    CardDesigner.prototype.beginCardEditorUpdate = function () {
        this._cardEditorUpdateCounter++;
    };
    CardDesigner.prototype.endCardEditorUpdate = function () {
        if (this._cardEditorUpdateCounter > 0) {
            this._cardEditorUpdateCounter--;
        }
    };
    CardDesigner.prototype.setCardPayload = function (payload, addToUndoStack) {
        if (this._isMonacoEditorLoaded) {
            this.beginCardEditorUpdate();
            try {
                if (payload.hasOwnProperty("version")) {
                    payload["version"] = this.targetVersion.toString();
                }
                this._cardEditor.setValue(JSON.stringify(payload, null, 4));
                this.updateCardFromJson(addToUndoStack);
            }
            finally {
                this.endCardEditorUpdate();
            }
        }
        this.cardPayloadChanged();
    };
    CardDesigner.prototype.setSampleDataPayload = function (payload) {
        if (this._isMonacoEditorLoaded && this._sampleDataEditor) {
            this._sampleDataEditor.setValue(JSON.stringify(payload, null, 4));
        }
    };
    CardDesigner.prototype.updateJsonFromCard = function (addToUndoStack) {
        if (addToUndoStack === void 0) { addToUndoStack = true; }
        try {
            this._preventCardUpdate = true;
            if (!this.preventJsonUpdate && this._isMonacoEditorLoaded) {
                var cardPayload = this._designerSurface.getCardPayloadAsObject();
                this.setCardPayload(cardPayload, addToUndoStack);
            }
        }
        finally {
            this._preventCardUpdate = false;
        }
    };
    CardDesigner.prototype.scheduleUpdateJsonFromCard = function () {
        var _this = this;
        clearTimeout(this._jsonUpdateTimer);
        if (!this.preventJsonUpdate) {
            this._jsonUpdateTimer = setTimeout(function () { _this.updateJsonFromCard(); }, 100);
        }
    };
    CardDesigner.prototype.getCurrentCardEditorPayload = function () {
        return this._isMonacoEditorLoaded ? this._cardEditor.getValue() : Constants.defaultPayload;
    };
    CardDesigner.prototype.getCurrentSampleDataEditorPayload = function () {
        return this._isMonacoEditorLoaded && this._sampleDataEditor ? this._sampleDataEditor.getValue() : "";
    };
    CardDesigner.prototype.updateCardFromJson = function (addToUndoStack) {
        try {
            this.preventJsonUpdate = true;
            var currentEditorPayload = this.getCurrentCardEditorPayload();
            if (addToUndoStack) {
                try {
                    this.addToUndoStack(JSON.parse(currentEditorPayload));
                }
                catch (_a) {
                    // Swallow the parse error
                }
            }
            if (!this._preventCardUpdate) {
                this.designerSurface.setCardPayloadAsString(currentEditorPayload);
                this.cardPayloadChanged();
            }
        }
        finally {
            this.preventJsonUpdate = false;
        }
    };
    CardDesigner.prototype.scheduleUpdateCardFromJson = function () {
        var _this = this;
        clearTimeout(this._cardUpdateTimer);
        if (!this._preventCardUpdate) {
            this._cardUpdateTimer = setTimeout(function () { _this.updateCardFromJson(true); }, 300);
        }
    };
    CardDesigner.prototype.isEdgeHTML = function () {
        if (this._isEdgeHTML === undefined) {
            this._isEdgeHTML = window.navigator.userAgent.toLowerCase().indexOf("edge") > -1;
        }
        return this._isEdgeHTML;
    };
    CardDesigner.prototype.scheduleLayoutUpdate = function () {
        var _this = this;
        if (this.designerSurface) {
            if (!this.isEdgeHTML()) {
                this.designerSurface.updateLayout(false);
            }
            else {
                // In "old" Edge, updateLayout() is *super* slow (because it uses getBoundingClientRect
                // heavily which is itself super slow) and we have to call it only on idle
                clearTimeout(this._updateLayoutTimer);
                this._updateLayoutTimer = setTimeout(function () {
                    if (_this.designerSurface) {
                        _this.designerSurface.updateLayout(false);
                    }
                }, 5);
            }
        }
    };
    CardDesigner.prototype.prepareToolbar = function () {
        var _this = this;
        if (Shared.GlobalSettings.showVersionPicker) {
            this._versionChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.VersionPicker);
            this._versionChoicePicker.label = "Target version:";
            this._versionChoicePicker.alignment = toolbar_1.ToolbarElementAlignment.Right;
            this._versionChoicePicker.separator = true;
            for (var i = 0; i < Shared.GlobalSettings.supportedTargetVersions.length; i++) {
                this._versionChoicePicker.choices.push({
                    name: Shared.GlobalSettings.supportedTargetVersions[i].label,
                    value: i.toString()
                });
            }
            this.toolbar.addElement(this._versionChoicePicker);
        }
        this._newCardButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.NewCard, "New card", "acd-icon-newCard", function (sender) {
            var dialog = new open_sample_dialog_1.OpenSampleDialog({
                catalogue: _this._sampleCatalogue,
                handlers: [
                    {
                        label: "From JSON Schema",
                        onClick: function () {
                            dialog.close();
                            _this.launchJsonSchemaPopup();
                        },
                        cardData: {
                            thumbnail: function () {
                                var thumbnail = document.createElement("div");
                                thumbnail.className = "acd-image-container";
                                thumbnail.innerHTML = "<div class=\"acd-image-upload acd-open-sample-item\">\n                                        <img alt=\"json schema image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACKCAMAAABCWSJWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDUExURQAAAAAAAEBAQGBgYFVVVU1NTUZGRl1dXVVVVU5OTlVVVVBQUEtLS1FRUVFRUVJSUlJSUk9PT1JSUlBQUFNTU1BQUE5OTlNTU1FRUU5OTlNTU09PT1NTU1FRUU9PT1NTU1BQUE5OTlJSUlBQUFJSUlBQUE9PT1JSUlFRUU9PT05OTlFRUU5OTlJSUlFRUVBQUFFRUU9PT05OTlFRUVBQUE9PT05OTlJSUlFRUVFRUVBQUFBQUE9PT1FRUVBQUE9PT1FRUU9PT05OTlBQUFBQUFBQUE9PT1FRUVFRUU9PT1BQUE9PT1FRUU9PT09PT1BQUE1NTVBQUE9PT1BQUE9PT05OTlBQUFFRUVBQUFBQUE9PT1FRUVFRUVBQUE9PT1FRUVBQUE9PT1FRUVBQUE9PT05OTlBQUFBQUFBQUFBQUE9PT1BQUE9PT1FRUVBQUFFRUVBQUFFRUVBQUFBQUFBQUFFRUVBQUFBQUFBQUFFRUVFRUVBQUFBQUFBQUE9PT1FRUVBQUFBQUE9PT1FRUVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFRUVBQUFBQUE9PT1FRUVBQUE9PT1BQUFBQUFBQUFBQUFBQUFBQUFBQUFFRUU9PT1FRUVBQUFBQUFBQUFFRUVBQUFBQUFBQUFBQUE9PT1BQUFFRUVBQUFBQUE9PT1FRUVBQUFBQUFBQUFFRUVBQUFBQUFBQUFFRUVBQUE9PT1BQUE9PT1FRUVBQUFBQUFBQUE9PT1BQUE9PT1BQUFFRUc/1aIgAAAC+dFJOUwABBAgJCgsLDA0PEBETFhkcHR8gIiMkJSYnKCorLC0uMDEyMzU2Nzg5Ojs8Pj4/Q0VHSEhJSktLTE9QU1RVVldYWltcXWBhYWJkZmdoamtscHN0eX5/gIGCg4SEhYaIiImKi4yOj4+QlZaXmZqbnJ6goaKjpqeoqaqqq6ytsLGxsrO0tLW2ubq7vL2/wcLDxMTFx8jJysvNzs/R1NTV1tra293e4OHj4+Xm5+fo6erq6+zt7e7y9ff3+Pr8/v6BMG3iAAAACXBIWXMAADLAAAAywAEoZFrbAAAEwklEQVR4Xu2c+1tURRjHVxSEAhXTLBNLCSMzu6nYFpQheEXCSk3D1MrQUjQTLbxg3lBERUHMa0ZZlikQRVg6/mntvvNdd3b33T17mDknnp75/MLznXn3nQ+H3XPmUYZAKnLLG9q6BoQX3Bf3+i43b5iJlRx47hBe5iU3a3OwXHIe+wLFXtNbgxWTMasblT7QOAKLslSjyh/OP4FlGd5EjV+cT3pdiu6g5Le62eNSXj13TPkTfXs2zx2fmVewpAlZfI2KBDpR8H4mBgxxBn0/yMZAoPgAhpK8dxfL2e5ZyKaokH375iIT6+Rgz0jkWH6Qs9MRjXFV9o27rcFlDWIMZXJuPqIxXpV9FyI+QP6MbiDFIO9tLUjm+Jz6tiFFeZbGxQxElV6aCSKZ4wb1fQNJQV6WdUgKE2hiIAPRGPnUVzz48ERZShNHkRRm0kQrkjmKqG8HkkoBzVxEUpB32gYkcwSp7z4klTya6UVSqKKJOiRzVFLfeiSVETQzgKTgv8o4mulCUvBfZTbNJH7K/wOVTTSzE0nBd5XM2zRTjqjgu8pqmhC5iAp+q5TQuDiEqOKzygz5nGH3Af6qYA8jtiPH4KNKVtkpGhTi1gQMxRCv8nq9DsvQJaLyHcZD7G2/S0NhXkFRLPEqBykPlnPoElHhqUJNHP6r9JeiJB7fVc4WoiIBn1WuJex1o/ip8uvWlPvWeJVRlTpMRpeIykmMhwhOy8dUMuJVTCFVmGdQcqwKh1XhsCocVoXDqnDEq5h9HFqVMFaF4/+qYgqrwmFVOKwKh1XhsCocBlTGVulQhC5GVOyTOYxV4RjCKnPqdIj+o58BFVNYFQ6rwmFVOKwKh1XhMKCyokOHTehiRMVuEsJYFY4hrBJ4WodhaGJGxRBrqW8nUlp4pTKEropV4bAqHFaFw6pwWBUOq8JhVTisCodLlfyiYOUOeslx/B6dFm+/98kidHanEtwiz6oY5Q6au1FZcI1KTeNeZWo7FZrHtUrpX1TnAW5V5IfGE1yqvExFRMd+/A63Bl9FDjoK8ftPh7FGeiqP3qIiIU6V8Yf/XHIC7bp2jMEIkY5K5LRwBbImNWi3CjlCGio4a9fLHbYbBNk9sl/CN5aGyjdUIkoQdVkj2y1HjOKs8jBViNWI2lygdgeQFJxV3qKK7ixEXSZSO1GMqOCs8iVVbEbSRr5p25FUnFVOU4Wpd0rgU2r3LpKKs8r3VDEeSZtd1I45iJqGSj9VGDvO3UrtuBuDs0ofVeQhaXOE2r2EpCLfRR8jcVyiigIkbbZRO+7G/RHNJN5vojRTxRIkbWqp3WdIKvLzMQ+JYwNVNCFpI8/9/oykgOPMTyJyyOPL4hlEXXJku8SrvJHGryDx3KQaY5dF/nmSHx9CjFBIw2I9Io/86YoPEXXB38DYjwhyr8jhp5B5cnAc0pRLi2y3ezhymMexi4/+nxlPZK/TxDzDBsGLaNf5GgZCe2fsYf6O2dZx7JGFoUf70gID9zqcxA1tUN+ZOjojf3qtvKGHcN4nZn2L0hD38NULVmK9VEyKunioshGrpSazEeUeqlRjLUdq8M7ySuXYC1goDbJrfwm/xBuV9mSnUJPx/Prmi3/gxab453rH3upHsEAqAoF/ATgD/WK2xh4JAAAAAElFTkSuQmCC\" />\n                                        <div class=\"acd-image-text-container\">\n                                            <div class=\"acd-image-upload-title\">From JSON Schema</div>\n                                        </div>\n                                    </div>";
                                return thumbnail;
                            },
                        },
                    },
                    pic2card_1.Pic2Card.pic2cardService ?
                        {
                            label: "Pic2Card",
                            onClick: function () {
                                dialog.close();
                                _this.launchImagePopup();
                            },
                            cardData: {
                                thumbnail: function () {
                                    var thumbnail = document.createElement("div");
                                    thumbnail.className = "acd-image-container";
                                    thumbnail.innerHTML = "<div class=\"acd-image-upload acd-open-sample-item\">\n                                            <img alt=\"pic2card image\" src=\"data:image/png;base64,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\" />\n                                            <div class=\"acd-image-text-container\">\n                                                <div class=\"acd-image-new-title\">NEW PREVIEW</div>\n                                                <div class=\"acd-image-upload-title\">Create from Image </div>\n                                                <div id=\"image-description-id\" class=\"acd-image-description\">Upload your own image and convert it magically to an Adaptive card</div>\n                                                <input aria-labelledby=\"image-description-id\" class=\"acd-try-now-button\" value=\"Try Now\" type=\"button\" />\n                                            </div>\n                                        </div>";
                                    return thumbnail;
                                },
                            },
                        } : null,
                ]
            });
            dialog.title = "Create";
            dialog.closeButton.caption = "Cancel";
            dialog.width = "80%";
            dialog.height = "80%";
            dialog.onClose = function (d) {
                var newCardButton = _this._newCardButton.renderedElement;
                if (dialog.output) {
                    try {
                        var cardPayload = JSON.parse(dialog.output.cardPayload);
                        _this.setCardPayload(cardPayload, true);
                    }
                    catch (_a) {
                        alert("The card template could not be loaded.");
                        return;
                    }
                    if (dialog.output.sampleData) {
                        try {
                            var sampleDataPayload = JSON.parse(dialog.output.sampleData);
                            _this.setSampleDataPayload(sampleDataPayload);
                            _this.dataStructure = data_1.FieldDefinition.deriveFrom(sampleDataPayload);
                        }
                        catch (_b) {
                            alert("The card data could not be loaded.");
                        }
                    }
                    else {
                        _this.setSampleDataPayload({});
                    }
                }
                if (newCardButton) {
                    newCardButton.focus();
                }
            };
            dialog.open();
        });
        this._newCardButton.separator = true;
        this.toolbar.addElement(this._newCardButton);
        if (this._hostContainers && this._hostContainers.length > 0) {
            this._hostContainerChoicePicker = new toolbar_1.ToolbarChoicePicker(CardDesigner.ToolbarCommands.HostAppPicker);
            this._hostContainerChoicePicker.separator = true;
            this._hostContainerChoicePicker.label = "Select host app:";
            for (var i = 0; i < this._hostContainers.length; i++) {
                this._hostContainerChoicePicker.choices.push({
                    name: this._hostContainers[i].name,
                    value: i.toString(),
                });
            }
            this._hostContainerChoicePicker.onChanged = function (sender) {
                _this.hostContainer = _this._hostContainers[parseInt(_this._hostContainerChoicePicker.value)];
                _this.activeHostContainerChanged();
            };
            this.toolbar.addElement(this._hostContainerChoicePicker);
        }
        this._undoButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.Undo, "Undo", "acd-icon-undo", function (sender) { _this.undo(); });
        this._undoButton.separator = true;
        this._undoButton.toolTip = "Undo your last change";
        this._undoButton.isEnabled = false;
        this.toolbar.addElement(this._undoButton);
        this._redoButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.Redo, "Redo", "acd-icon-redo", function (sender) { _this.redo(); });
        this._redoButton.toolTip = "Redo your last changes";
        this._redoButton.isEnabled = false;
        this.toolbar.addElement(this._redoButton);
        this._copyJSONButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.CopyJSON, "Copy card payload", "acd-icon-copy");
        this._copyJSONButton.toolTip = "Copy the generated JSON payload of the card (template bound with data) to the clipboard. To copy only the template payload, use the Card Payload Editor.";
        this.toolbar.addElement(this._copyJSONButton);
        this._togglePreviewButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.TogglePreview, "Preview mode", "acd-icon-preview", function (sender) { _this.togglePreview(); });
        this._togglePreviewButton.separator = true;
        this._togglePreviewButton.allowToggle = true;
        this._togglePreviewButton.isVisible = Shared.GlobalSettings.enableDataBindingSupport;
        this.toolbar.addElement(this._togglePreviewButton);
        this._helpButton = new toolbar_1.ToolbarButton(CardDesigner.ToolbarCommands.Help, "Help", "acd-icon-help", function (sender) { _this.showHelp(); });
        this._helpButton.toolTip = "Display help.";
        this._helpButton.separator = true;
        this._helpButton.alignment = toolbar_1.ToolbarElementAlignment.Right;
        this.toolbar.addElement(this._helpButton);
        this._fullScreenHandler = new fullscreen_handler_1.FullScreenHandler();
        this._fullScreenHandler.onFullScreenChanged = function (isFullScreen) {
            _this._fullScreenButton.toolTip = isFullScreen ? "Exit full screen" : "Enter full screen";
            _this.updateFullLayout();
        };
    };
    CardDesigner.prototype.launchJsonSchemaPopup = function () {
        var _this = this;
        var dialog = new open_json_schema_dialog_1.OpenJsonSchemaDialog();
        dialog.title = "Create from JSON Schema";
        dialog.closeButton.caption = "Cancel";
        dialog.preventLightDismissal = true;
        dialog.width = "80%";
        dialog.height = "80%";
        dialog.open();
        dialog.submitButton.onClick = function () {
            dialog.close();
            if (dialog.output) {
                try {
                    var cardPayload = JSON.parse(dialog.output.cardPayload);
                    _this.setCardPayload(cardPayload, true);
                }
                catch (_a) {
                    alert("The card template could not be loaded.");
                    return;
                }
                if (dialog.output.sampleData) {
                    try {
                        var sampleDataPayload = JSON.parse(dialog.output.sampleData);
                        _this.setSampleDataPayload(sampleDataPayload);
                        _this.dataStructure = data_1.FieldDefinition.deriveFrom(sampleDataPayload);
                    }
                    catch (_b) {
                        alert("The card data could not be loaded.");
                    }
                }
                else {
                    _this.setSampleDataPayload({});
                }
            }
            var newCardButton = _this._newCardButton.renderedElement;
            if (newCardButton) {
                newCardButton.focus();
            }
        };
        dialog.onClose = function (d) {
            var newCardButton = _this._newCardButton.renderedElement;
            if (newCardButton) {
                newCardButton.focus();
            }
        };
    };
    CardDesigner.prototype.launchImagePopup = function () {
        var _this = this;
        var dialog = new open_image_dialog_1.OpenImageDialog();
        dialog.title = "Pic2card Dialog for Image Upload";
        dialog.closeButton.caption = "Cancel";
        dialog.preventLightDismissal = true;
        dialog.width = "80%";
        dialog.height = "80%";
        dialog.open();
        dialog.onClose = function (d) {
            var newCardButton = _this._newCardButton.renderedElement;
            if (dialog.predictedCardJSON) {
                var _a = dialog.predictedCardJSON, card = _a.card, data = _a.data;
                var addToUndoStack = true;
                _this.setCardPayload(card, addToUndoStack);
                _this.setSampleDataPayload(data);
                var loadNotification_1 = document.createElement("span");
                loadNotification_1.id = "pic2cardLoadNotification";
                loadNotification_1.setAttribute("role", "status");
                loadNotification_1.setAttribute("aria-label", "Pic2Card generated Adaptive Card loaded");
                // It's a bit odd to jump up to the parent element here, but we need a place to park this empty element
                // so that it's seen by accessibility tools. If we put it on the button itself, the status message gets
                // read twice (once on DOM entry and again on focus).
                newCardButton.parentElement.appendChild(loadNotification_1);
                // element needs to enter the DOM, but shouldn't stay forever, lest it be read again...
                setTimeout(function () {
                    newCardButton.parentElement.removeChild(loadNotification_1);
                }, 500);
            }
            if (newCardButton) {
                newCardButton.focus();
            }
        };
    };
    CardDesigner.prototype.onResize = function () {
        this._cardEditor.layout();
        if (this._sampleDataEditor) {
            this._sampleDataEditor.layout();
        }
    };
    CardDesigner.prototype.updateSampleData = function () {
        try {
            this._sampleData = JSON.parse(this.getCurrentSampleDataEditorPayload());
            this.scheduleUpdateCardFromJson();
        }
        catch (_a) {
            // Swallow expression, the payload isn't a valid JSON document
        }
    };
    CardDesigner.prototype.updateToolbar = function () {
        this._undoButton.isEnabled = this.canUndo;
        this._redoButton.isEnabled = this.canRedo;
    };
    CardDesigner.prototype.addToUndoStack = function (payload) {
        var doAdd = !this._designerSurface.draggedPeer;
        if (doAdd) {
            if (this._undoStack.length > 0) {
                doAdd = this._undoStack[this._undoStack.length - 1] != payload;
            }
            if (doAdd) {
                var undoPayloadsToDiscard = this._undoStack.length - (this._undoStackIndex + 1);
                if (undoPayloadsToDiscard > 0) {
                    this._undoStack.splice(this._undoStackIndex + 1, undoPayloadsToDiscard);
                }
                this._undoStack.push(payload);
                if (this._undoStack.length > CardDesigner.MAX_UNDO_STACK_SIZE) {
                    this._undoStack.splice(0, 1);
                }
                this._undoStackIndex = this._undoStack.length - 1;
                this.updateToolbar();
            }
        }
    };
    CardDesigner.prototype.handlePointerUp = function (e) {
        this.endDrag();
        if (this.designerSurface) {
            this.designerSurface.endDrag(false);
        }
    };
    CardDesigner.prototype.handlePointerMove = function (e) {
        this._currentMousePosition = { x: e.x, y: e.y };
        if (this.designerSurface) {
            var isPointerOverDesigner = this.designerSurface.isPointerOver(this._currentMousePosition.x, this._currentMousePosition.y);
            var peerDropped = false;
            if (this._draggedPaletteItem && isPointerOverDesigner) {
                var peer = this._draggedPaletteItem.createPeer(this, this.designerSurface);
                var clientCoordinates = this.designerSurface.pageToClientCoordinates(this._currentMousePosition.x, this._currentMousePosition.y);
                if (this.designerSurface.tryDrop(clientCoordinates, peer)) {
                    this.endDrag();
                    this.designerSurface.startDrag(peer);
                    peerDropped = true;
                }
            }
            if (!peerDropped && this._draggedElement) {
                var adjustedPosition = miscellaneous_1.Utils.adjustPointForScroll(this._currentMousePosition);
                this._draggedElement.style.left = adjustedPosition.x - 10 + "px";
                this._draggedElement.style.top = adjustedPosition.y - 10 + "px";
            }
        }
    };
    CardDesigner.prototype.monacoModuleLoaded = function (monaco) {
        var _this = this;
        if (monaco === void 0) { monaco = null; }
        if (!monaco) {
            monaco = window["monaco"];
        }
        var monacoConfiguration = {
            schemas: [
                {
                    uri: "http://adaptivecards.io/schemas/adaptive-card.json",
                    schema: adaptive_card_schema_1.adaptiveCardSchema,
                    fileMatch: ["*"],
                }
            ],
            validate: true,
            allowComments: true
        };
        // TODO: set this in our editor instead of defaults
        monaco.languages.json.jsonDefaults.setDiagnosticsOptions(monacoConfiguration);
        // Setup card JSON editor
        this._cardEditorToolbox.content = document.createElement("div");
        this._cardEditorToolbox.content.setAttribute("role", "region");
        this._cardEditorToolbox.content.setAttribute("aria-label", "card payload editor");
        this._cardEditorToolbox.content.classList.add("acd-code-editor");
        this._cardEditor = monaco.editor.create(this._cardEditorToolbox.content, {
            folding: true,
            fontSize: 13.5,
            language: 'json',
            minimap: {
                enabled: true
            }
        });
        this._cardEditor.onDidChangeModelContent(function () {
            if (_this._cardEditorUpdateCounter == 0) {
                _this.scheduleUpdateCardFromJson();
            }
        });
        if (this._sampleDataEditorToolbox) {
            // Setup sample data JSON editor
            this._sampleDataEditorToolbox.content = document.createElement("div");
            this._sampleDataEditorToolbox.content.setAttribute("role", "region");
            this._sampleDataEditorToolbox.content.setAttribute("aria-label", "sample data editor");
            this._sampleDataEditorToolbox.content.classList.add("acd-code-editor");
            this._sampleDataEditor = monaco.editor.create(this._sampleDataEditorToolbox.content, {
                folding: true,
                fontSize: 13.5,
                language: 'json',
                minimap: {
                    enabled: false
                }
            });
            this._sampleDataEditor.onDidChangeModelContent(function () {
                _this.updateSampleData();
                if (!_this.lockDataStructure) {
                    try {
                        _this.dataStructure = data_1.FieldDefinition.deriveFrom(JSON.parse(_this.getCurrentSampleDataEditorPayload()));
                    }
                    catch (_a) {
                        // Swallow exception
                    }
                }
            });
        }
        window.addEventListener('resize', function () { _this.onResize(); });
        this._isMonacoEditorLoaded = true;
        this.updateJsonEditorsLayout();
        this.updateJsonFromCard(true);
    };
    CardDesigner.prototype.attachTo = function (root) {
        var _this = this;
        var styleSheetLinkElement = document.createElement("link");
        styleSheetLinkElement.id = "__ac-designer";
        styleSheetLinkElement.rel = "stylesheet";
        styleSheetLinkElement.type = "text/css";
        styleSheetLinkElement.href = miscellaneous_1.Utils.joinPaths(this._assetPath, "adaptivecards-designer.css");
        document.getElementsByTagName("head")[0].appendChild(styleSheetLinkElement);
        if (this._hostContainers && this._hostContainers.length > 0) {
            this._hostContainer = this._hostContainers[0];
        }
        else {
            this._hostContainer = new default_container_1.DefaultContainer("Default", "adaptivecards-defaulthost.css");
        }
        root.classList.add("acd-designer-root");
        root.style.flex = "1 1 auto";
        root.style.display = "flex";
        root.style.flexDirection = "column";
        root.style.overflow = "hidden";
        root.innerHTML =
            '<div id="toolbarHost" role="region" aria-label="toolbar"></div>' +
                '<div class="content">' +
                '<div id="leftCollapsedPaneTabHost" class="acd-verticalCollapsedTabContainer acd-dockedLeft"></div>' +
                '<div id="toolPalettePanel" class="acd-toolPalette-pane" role="region" aria-label="card elements"></div>' +
                '<div class="acd-previewRightAndBottomDocks">' +
                '<div class="acd-previewAndBottomDocks">' +
                '<div class="acd-designer-card-header">CARD PREVIEW</div>' +
                '<div id="cardArea" class="acd-designer-cardArea" role="region" aria-label="card preview">' +
                '<div style="flex: 1 1 100%; overflow: auto;">' +
                '<div id="designerHost" class="acd-designer-host"></div>' +
                '</div>' +
                '<div id="errorPane" class="acd-error-pane acd-hidden"></div>' +
                '</div>' +
                '<div id="treeViewPanel" class="acd-treeView-pane" role="region" aria-label="card structure"></div>' +
                '<div id="propertySheetPanel" class="acd-propertySheet-pane" role="region" aria-label="element properties"></div>' +
                '</div>' +
                '<div id="jsonEditorPanel" class="acd-json-editor-pane"></div>' +
                '<div id="bottomCollapsedPaneTabHost" class="acd-horizontalCollapsedTabContainer"></div>' +
                '</div>' +
                '<div id="rightCollapsedPaneTabHost" class="acd-verticalCollapsedTabContainer acd-dockedRight"></div>' +
                '</div>';
        this.toolbar.attachTo(document.getElementById("toolbarHost"));
        if (this._versionChoicePicker) {
            this._versionChoicePicker.selectedIndex = Shared.GlobalSettings.supportedTargetVersions.indexOf(this.targetVersion);
            this._versionChoicePicker.onChanged = function (sender) {
                _this.targetVersion = Shared.GlobalSettings.supportedTargetVersions[parseInt(_this._versionChoicePicker.value)];
            };
        }
        if (this._copyJSONButton.isVisible) {
            new Clipboard(this._copyJSONButton.renderedElement, {
                text: function (trigger) { return JSON.stringify(_this.getBoundCard(), null, 4); }
            })
                .on("error", function () { return _this._copyJSONButton.renderedElement.focus(); })
                .on("success", function () { return _this._copyJSONButton.renderedElement.focus(); });
        }
        // Tool palette panel
        var toolPaletteHost = document.createElement("div");
        toolPaletteHost.className = "acd-dockedPane";
        this._toolPaletteToolbox = new tool_box_1.Toolbox("toolPalette", strings_1.Strings.toolboxes.toolPalette.title);
        this._toolPaletteToolbox.content = toolPaletteHost;
        var toolPalettePanel = new side_panel_1.SidePanel("toolPalettePanel", side_panel_1.SidePanelAlignment.Left, document.getElementById("leftCollapsedPaneTabHost"));
        toolPalettePanel.addToolbox(this._toolPaletteToolbox);
        toolPalettePanel.isResizable = false;
        toolPalettePanel.attachTo(document.getElementById("toolPalettePanel"));
        // JSON editors panel
        this._cardEditorToolbox = new tool_box_1.Toolbox("cardEditor", strings_1.Strings.toolboxes.cardEditor.title);
        this._cardEditorToolbox.content = document.createElement("div");
        this._cardEditorToolbox.content.style.padding = "8px";
        this._cardEditorToolbox.content.innerText = strings_1.Strings.loadingEditor;
        this._jsonEditorsPanel = new side_panel_1.SidePanel("jsonEditorPanel", side_panel_1.SidePanelAlignment.Bottom, document.getElementById("bottomCollapsedPaneTabHost"));
        this._jsonEditorsPanel.onResized = function (sender) {
            _this.updateJsonEditorsLayout();
        };
        this._jsonEditorsPanel.onToolboxResized = function (sender) {
            _this.updateJsonEditorsLayout();
        };
        this._jsonEditorsPanel.onToolboxExpandedOrCollapsed = function (sender) {
            _this.updateJsonEditorsLayout();
        };
        this._jsonEditorsPanel.addToolbox(this._cardEditorToolbox);
        if (Shared.GlobalSettings.enableDataBindingSupport && Shared.GlobalSettings.showSampleDataEditorToolbox) {
            this._sampleDataEditorToolbox = new tool_box_1.Toolbox("sampleDataEditor", strings_1.Strings.toolboxes.sampleDataEditor.title);
            this._sampleDataEditorToolbox.content = document.createElement("div");
            this._sampleDataEditorToolbox.content.style.padding = "8px";
            this._sampleDataEditorToolbox.content.innerText = strings_1.Strings.loadingEditor;
            this._jsonEditorsPanel.addToolbox(this._sampleDataEditorToolbox);
        }
        this._jsonEditorsPanel.attachTo(document.getElementById("jsonEditorPanel"));
        // Property sheet panel
        var propertySheetHost = document.createElement("div");
        propertySheetHost.className = "acd-propertySheet-host";
        this._propertySheetToolbox = new tool_box_1.Toolbox("propertySheet", strings_1.Strings.toolboxes.propertySheet.title);
        this._propertySheetToolbox.content = propertySheetHost;
        var propertySheetPanel = new side_panel_1.SidePanel("propertySheetPanel", side_panel_1.SidePanelAlignment.Right, document.getElementById("rightCollapsedPaneTabHost"));
        propertySheetPanel.addToolbox(this._propertySheetToolbox);
        propertySheetPanel.onResized = function (sender) {
            _this.scheduleLayoutUpdate();
        };
        propertySheetPanel.attachTo(document.getElementById("propertySheetPanel"));
        // Tree view panel
        var treeViewHost = document.createElement("div");
        treeViewHost.className = "acd-treeView-host";
        this._treeViewToolbox = new tool_box_1.Toolbox("treeView", strings_1.Strings.toolboxes.cardStructure.title);
        this._treeViewToolbox.content = treeViewHost;
        var treeViewPanel = new side_panel_1.SidePanel("treeViewPanel", side_panel_1.SidePanelAlignment.Right, document.getElementById("rightCollapsedPaneTabHost"));
        treeViewPanel.addToolbox(this._treeViewToolbox);
        treeViewPanel.onResized = function (sender) {
            _this.scheduleLayoutUpdate();
        };
        if (Shared.GlobalSettings.enableDataBindingSupport && Shared.GlobalSettings.showDataStructureToolbox) {
            var dataExplorerHost = document.createElement("div");
            dataExplorerHost.className = "acd-treeView-host";
            this._dataToolbox = new tool_box_1.Toolbox("data", strings_1.Strings.toolboxes.dataStructure.title);
            this._dataToolbox.content = dataExplorerHost;
            treeViewPanel.addToolbox(this._dataToolbox);
        }
        treeViewPanel.attachTo(document.getElementById("treeViewPanel"));
        this._designerHostElement = document.getElementById("designerHost");
        window.addEventListener("pointermove", function (e) { _this.handlePointerMove(e); });
        window.addEventListener("resize", function () { _this.scheduleLayoutUpdate(); });
        window.addEventListener("pointerup", function (e) { _this.handlePointerUp(e); });
        this._isAttached = true;
        this.recreateDesignerSurface();
    };
    CardDesigner.prototype.clearUndoStack = function () {
        this._undoStack = [];
        this._undoStackIndex = -1;
        this.updateToolbar();
    };
    CardDesigner.prototype.setCard = function (payload) {
        this.clearUndoStack();
        this.setCardPayload(payload, true);
    };
    CardDesigner.prototype.getCard = function () {
        return this._designerSurface ? this._designerSurface.getCardPayloadAsObject() : undefined;
    };
    CardDesigner.prototype.getBoundCard = function () {
        return this._designerSurface ? this._designerSurface.getBoundCardPayloadAsObject() : undefined;
    };
    CardDesigner.prototype.undo = function () {
        if (this.canUndo) {
            this._undoStackIndex--;
            var card = this._undoStack[this._undoStackIndex];
            this.setCardPayload(card, false);
            this.updateToolbar();
        }
    };
    CardDesigner.prototype.redo = function () {
        if (this._undoStackIndex < this._undoStack.length - 1) {
            this._undoStackIndex++;
            var payload = this._undoStack[this._undoStackIndex];
            this.setCardPayload(payload, false);
            this.updateToolbar();
        }
    };
    CardDesigner.prototype.showHelp = function () {
        var helpDialog = new help_dialog_1.HelpDialog();
        helpDialog.title = "Help";
        helpDialog.open();
    };
    CardDesigner.prototype.newCard = function () {
        var card = {
            type: "AdaptiveCard",
            $schema: "http://adaptivecards.io/schemas/adaptive-card.json",
            version: this.targetVersion.toString(),
            body: []
        };
        this.setCardPayload(card, true);
    };
    Object.defineProperty(CardDesigner.prototype, "targetVersion", {
        get: function () {
            return this._targetVersion;
        },
        set: function (value) {
            if (this._targetVersion.compareTo(value) !== 0 && !this._preventRecursiveSetTargetVersion) {
                this._preventRecursiveSetTargetVersion = true;
                try {
                    this._targetVersion = value;
                    this.targetVersionChanged();
                    if (this._versionChoicePicker) {
                        this._versionChoicePicker.selectedIndex = Shared.GlobalSettings.supportedTargetVersions.indexOf(this._targetVersion);
                    }
                }
                finally {
                    this._preventRecursiveSetTargetVersion = false;
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "dataStructure", {
        get: function () {
            return this._dataStructure;
        },
        set: function (value) {
            this._dataStructure = value;
            this.buildDataExplorer();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "sampleData", {
        get: function () {
            return this._sampleData;
        },
        set: function (value) {
            this._sampleData = value;
            this.setSampleDataPayload(value);
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "bindingPreviewMode", {
        get: function () {
            return this._bindingPreviewMode;
        },
        set: function (value) {
            this._bindingPreviewMode = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "hostContainer", {
        get: function () {
            return this._hostContainer;
        },
        set: function (value) {
            if (this._hostContainer !== value) {
                this._hostContainer = value;
                this.activeHostContainerChanged();
                if (Shared.GlobalSettings.selectedHostContainerControlsTargetVersion) {
                    this.targetVersion = this._hostContainer.targetVersion;
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "canUndo", {
        get: function () {
            return this._undoStackIndex >= 1;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "canRedo", {
        get: function () {
            return this._undoStackIndex < this._undoStack.length - 1;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "designerSurface", {
        get: function () {
            return this._designerSurface;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "treeViewToolbox", {
        get: function () {
            return this._treeViewToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "propertySheetToolbox", {
        get: function () {
            return this._propertySheetToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "jsonEditorToolbox", {
        get: function () {
            return this._cardEditorToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "toolPaletteToolbox", {
        get: function () {
            return this._toolPaletteToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "dataToolbox", {
        get: function () {
            return this._dataToolbox;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "assetPath", {
        get: function () {
            return this._assetPath;
        },
        set: function (value) {
            this._assetPath = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "customPaletteItems", {
        get: function () {
            return this._customPeletteItems;
        },
        set: function (value) {
            this._customPeletteItems = value;
            this.buildPalette();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CardDesigner.prototype, "sampleCatalogueUrl", {
        get: function () {
            return this._sampleCatalogue.url;
        },
        set: function (value) {
            this._sampleCatalogue.url = value;
        },
        enumerable: false,
        configurable: true
    });
    CardDesigner.onProcessMarkdown = null;
    CardDesigner.MAX_UNDO_STACK_SIZE = 50;
    return CardDesigner;
}(Designer.DesignContext));
exports.CardDesigner = CardDesigner;
(function (CardDesigner) {
    var ToolbarCommands = /** @class */ (function () {
        function ToolbarCommands() {
        }
        ToolbarCommands.HostAppPicker = "__hostAppPicker";
        ToolbarCommands.VersionPicker = "__versionPicker";
        ToolbarCommands.Undo = "__undoButton";
        ToolbarCommands.Redo = "__redoButton";
        ToolbarCommands.NewCard = "__newCardButton";
        ToolbarCommands.CopyJSON = "__copyJsonButton";
        ToolbarCommands.TogglePreview = "__togglePreviewButton";
        ToolbarCommands.Help = "__helpButton";
        return ToolbarCommands;
    }());
    CardDesigner.ToolbarCommands = ToolbarCommands;
})(CardDesigner = exports.CardDesigner || (exports.CardDesigner = {}));
exports.CardDesigner = CardDesigner;


/***/ }),

/***/ "./src/catalogue.ts":
/*!**************************!*\
  !*** ./src/catalogue.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SampleCatalogue = exports.CatalogueEntry = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var downloader_1 = __webpack_require__(/*! ./downloader */ "./src/downloader.ts");
var CatalogueEntry = /** @class */ (function () {
    function CatalogueEntry(displayName, cardPayloadUrl, sampleDataUrl, cardId) {
        this.displayName = displayName;
        this.cardPayloadUrl = cardPayloadUrl;
        this._cardPayloadDownloaded = false;
        this._sampleDataDownloaded = false;
        this.onDownloaded = null;
        this.sampleDataUrl = sampleDataUrl;
        this._cardId = cardId;
    }
    CatalogueEntry.prototype.downloadCompleted = function () {
        if (this._cardPayloadDownloaded && this._sampleDataDownloaded && this.onDownloaded) {
            this.onDownloaded(this);
        }
    };
    CatalogueEntry.prototype.download = function () {
        var _this = this;
        var cardPayloadDownloadComplete = false;
        var sampleDataDownloadComplete = false;
        if (!this.cardPayloadDownloaded) {
            var payloadDownloader_1 = new downloader_1.Downloader(this.cardPayloadUrl);
            payloadDownloader_1.onSuccess = function () {
                _this._cardPayload = payloadDownloader_1.data;
                _this._cardPayloadDownloaded = true;
                _this.downloadCompleted();
            };
            payloadDownloader_1.onError = function () {
                _this._cardPayloadDownloaded = true;
                _this.downloadCompleted();
            };
            payloadDownloader_1.download();
        }
        else {
            cardPayloadDownloadComplete = true;
        }
        if (this.sampleDataUrl && !this.sampleDataDownloaded) {
            var sampleDataDownloader_1 = new downloader_1.Downloader(this.sampleDataUrl);
            sampleDataDownloader_1.onSuccess = function () {
                _this._sampleData = sampleDataDownloader_1.data;
                _this._sampleDataDownloaded = true;
                _this.downloadCompleted();
            };
            sampleDataDownloader_1.onError = function () {
                _this._sampleDataDownloaded = true;
                _this.downloadCompleted();
            };
            sampleDataDownloader_1.download();
        }
        else {
            this._sampleDataDownloaded = true;
            sampleDataDownloadComplete = true;
        }
        if (cardPayloadDownloadComplete && sampleDataDownloadComplete) {
            this.downloadCompleted();
        }
    };
    Object.defineProperty(CatalogueEntry.prototype, "cardPayloadDownloaded", {
        get: function () {
            return this._cardPayloadDownloaded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "cardId", {
        get: function () {
            return this._cardId;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "cardPayload", {
        get: function () {
            return this._cardPayload;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "sampleDataDownloaded", {
        get: function () {
            return this._sampleDataDownloaded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(CatalogueEntry.prototype, "sampleData", {
        get: function () {
            return this._sampleData;
        },
        enumerable: false,
        configurable: true
    });
    return CatalogueEntry;
}());
exports.CatalogueEntry = CatalogueEntry;
var SampleCatalogue = /** @class */ (function () {
    function SampleCatalogue(url) {
        if (url === void 0) { url = "./sample-catalogue.json"; }
        this._entries = [];
        this._isDownloaded = false;
        this.url = url;
    }
    SampleCatalogue.prototype.downloaded = function () {
        this._isDownloaded = true;
        if (this.onDownloaded) {
            this.onDownloaded(this);
        }
    };
    SampleCatalogue.prototype.parse = function (input) {
        var entries = null;
        if (Array.isArray(input)) {
            entries = input;
        }
        else {
            entries = Array.isArray(input["entries"]) ? input["entries"] : null;
        }
        this._entries = [];
        if (entries != null) {
            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {
                var entry = entries_1[_i];
                if (typeof entry === "object") {
                    var displayName = Adaptive.parseString(entry["displayName"]);
                    var cardPayloadUrl = Adaptive.parseString(entry["cardPayloadUrl"]);
                    if (displayName && cardPayloadUrl) {
                        this._entries.push(new CatalogueEntry(displayName, cardPayloadUrl, Adaptive.parseString(entry["dataSampleUrl"])));
                    }
                }
            }
        }
    };
    SampleCatalogue.prototype.download = function () {
        var _this = this;
        if (!this.isDownloaded) {
            var downloader_2 = new downloader_1.Downloader(this.url);
            downloader_2.onError = function () {
                if (_this._entries.length === 0) {
                    _this._entries = [];
                }
                _this.downloaded();
            };
            downloader_2.onSuccess = function () {
                if (downloader_2.data) {
                    try {
                        _this.parse(JSON.parse(downloader_2.data));
                    }
                    catch (e) {
                        // Swallow the error
                    }
                }
                _this.downloaded();
            };
            downloader_2.download();
        }
        else {
            this.downloaded();
        }
    };
    Object.defineProperty(SampleCatalogue.prototype, "isDownloaded", {
        get: function () {
            return this._isDownloaded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SampleCatalogue.prototype, "entries", {
        get: function () {
            return this._entries;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(SampleCatalogue.prototype, "url", {
        get: function () {
            return this._url;
        },
        set: function (value) {
            if (value !== this._url) {
                this._url = value;
                this._isDownloaded = false;
            }
        },
        enumerable: false,
        configurable: true
    });
    return SampleCatalogue;
}());
exports.SampleCatalogue = SampleCatalogue;


/***/ }),

/***/ "./src/constants.ts":
/*!**************************!*\
  !*** ./src/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultDataPayload = exports.defaultTemplatePayload = exports.defaultPayload = exports.otherTestPayload = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
exports.otherTestPayload = "{\n\t\"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n\t\"type\": \"AdaptiveCard\",\n\t\"version\": \"1.0\",\n\t\"body\": [\n\t\t{\n\t\t\t\"type\": \"ActionSet\",\n\t\t\t\"actions\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"Action.ShowCard\",\n\t\t\t\t\t\"title\": \"Set due date\",\n\t\t\t\t\t\"card\": {\n\t\t\t\t\t\t\"type\": \"AdaptiveCard\",\n\t\t\t\t\t\t\"body\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"Input.Date\",\n\t\t\t\t\t\t\t\t\"id\": \"dueDate\",\n\t\t\t\t\t\t\t\t\"title\": \"Select due date\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"Input.Text\",\n\t\t\t\t\t\t\t\t\"id\": \"comment\",\n\t\t\t\t\t\t\t\t\"isMultiline\": true,\n\t\t\t\t\t\t\t\t\"placeholder\": \"Add a comment\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"actions\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"type\": \"Action.OpenUrl\",\n\t\t\t\t\t\t\t\t\"title\": \"OK\",\n\t\t\t\t\t\t\t\t\"url\": \"https://adaptivecards.io\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"Action.OpenUrl\",\n\t\t\t\t\t\"title\": \"View\",\n\t\t\t\t\t\"url\": \"https://adaptivecards.io\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}";
exports.defaultPayload = "{\n    \"type\": \"AdaptiveCard\",\n    \"body\": [\n        {\n            \"type\": \"TextBlock\",\n            \"size\": \"Medium\",\n            \"weight\": \"Bolder\",\n            \"text\": \"Publish Adaptive Card schema\"\n        },\n        {\n            \"type\": \"ColumnSet\",\n            \"columns\": [\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"Image\",\n                            \"style\": \"Person\",\n                            \"url\": \"https://matthidinger.com/images/bio-photo.jpg\",\n                            \"size\": \"Small\"\n                        }\n                    ],\n                    \"width\": \"auto\"\n                },\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"TextBlock\",\n                            \"weight\": \"Bolder\",\n                            \"text\": \"Matt Hidinger\",\n                            \"wrap\": true\n                        },\n                        {\n                            \"type\": \"TextBlock\",\n                            \"spacing\": \"None\",\n                            \"text\": \"Created {{DATE(2017-02-14T06:08:39Z,SHORT)}}\",\n                            \"isSubtle\": true,\n                            \"wrap\": true\n                        }\n                    ],\n                    \"width\": \"stretch\"\n                }\n            ]\n        },\n        {\n            \"type\": \"TextBlock\",\n            \"text\": \"Now that we have defined the main rules and features of the format, we need to produce a schema and publish it to GitHub. The schema will be the starting point of our reference documentation.\",\n            \"wrap\": true\n        },\n        {\n            \"type\": \"FactSet\",\n            \"facts\": [\n                {\n                    \"title\": \"Board:\",\n                    \"value\": \"Adaptive Card\"\n                },\n                {\n                    \"title\": \"List:\",\n                    \"value\": \"Backlog\"\n                },\n                {\n                    \"title\": \"Assigned to:\",\n                    \"value\": \"Matt Hidinger\"\n                },\n                {\n                    \"title\": \"Due date:\",\n                    \"value\": \"Not set\"\n                }\n            ]\n        }\n    ],\n    \"actions\": [\n        {\n            \"type\": \"Action.ShowCard\",\n            \"title\": \"Set due date\",\n            \"card\": {\n                \"type\": \"AdaptiveCard\",\n                \"body\": [\n                    {\n                        \"type\": \"Input.Date\",\n                        \"id\": \"dueDate\"\n                    },\n                    {\n                        \"type\": \"Input.Text\",\n                        \"id\": \"comment\",\n                        \"placeholder\": \"Add a comment\",\n                        \"isMultiline\": true\n                    }\n                ],\n                \"actions\": [\n                    {\n                        \"type\": \"Action.OpenUrl\",\n                        \"title\": \"OK\",\n                        \"url\": \"http://adaptivecards.io\"\n                    }\n                ],\n                \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n            }\n        },\n        {\n            \"type\": \"Action.OpenUrl\",\n            \"title\": \"View\",\n            \"url\": \"http://adaptivecards.io\"\n        }\n    ],\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n    \"version\": \"1.0\"\n}";
exports.defaultTemplatePayload = "{\n    \"type\": \"AdaptiveCard\",\n    \"body\": [\n        {\n            \"type\": \"Container\",\n            \"items\": [\n                {\n                    \"type\": \"TextBlock\",\n                    \"text\": \"This example uses [Adaptive Card Templating](https://docs.microsoft.com/en-us/adaptive-cards/templating/) *(Preview)*\",\n                    \"size\": \"Medium\",\n                    \"wrap\": true\n                },\n                {\n                    \"type\": \"TextBlock\",\n                    \"text\": \"Click the **Preview mode** toolbar button to see the card bound to the **Sample Data** in the lower-right. Sample Data helps design your card by simulating the real data.\",\n                    \"wrap\": true\n                },\n                {\n                    \"type\": \"TextBlock\",\n                    \"text\": \"When you're ready to populate it with real data, use the Adaptive Card [templating SDKs](https://docs.microsoft.com/en-us/adaptive-cards/templating/sdk).\",\n                    \"wrap\": true\n                }\n            ],\n            \"style\": \"good\",\n            \"bleed\": true\n        },\n        {\n            \"type\": \"TextBlock\",\n            \"size\": \"Medium\",\n            \"weight\": \"Bolder\",\n            \"text\": \"{title}\"\n        },\n        {\n            \"type\": \"ColumnSet\",\n            \"columns\": [\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"Image\",\n                            \"style\": \"Person\",\n                            \"url\": \"{creator.profileImage}\",\n                            \"size\": \"Small\"\n                        }\n                    ],\n                    \"width\": \"auto\"\n                },\n                {\n                    \"type\": \"Column\",\n                    \"items\": [\n                        {\n                            \"type\": \"TextBlock\",\n                            \"weight\": \"Bolder\",\n                            \"text\": \"{creator.name}\",\n                            \"wrap\": true\n                        },\n                        {\n                            \"type\": \"TextBlock\",\n                            \"spacing\": \"None\",\n                            \"text\": \"Created {{DATE({createdUtc},SHORT)}}\",\n                            \"isSubtle\": true,\n                            \"wrap\": true\n                        }\n                    ],\n                    \"width\": \"stretch\"\n                }\n            ]\n        },\n        {\n            \"type\": \"TextBlock\",\n            \"text\": \"{description}\",\n            \"wrap\": true\n        },\n        {\n            \"type\": \"FactSet\",\n            \"facts\": [\n                {\n                    \"$data\": \"{properties}\",\n                    \"title\": \"{key}:\",\n                    \"value\": \"{value}\"\n                }\n            ]\n        }\n    ],\n    \"actions\": [\n        {\n            \"type\": \"Action.ShowCard\",\n            \"title\": \"Set due date\",\n            \"card\": {\n                \"type\": \"AdaptiveCard\",\n                \"body\": [\n                    {\n                        \"type\": \"Input.Date\",\n                        \"id\": \"dueDate\"\n                    },\n                    {\n                        \"type\": \"Input.Text\",\n                        \"id\": \"comment\",\n                        \"placeholder\": \"Add a comment\",\n                        \"isMultiline\": true\n                    }\n                ],\n                \"actions\": [\n                    {\n                        \"type\": \"Action.Submit\",\n                        \"title\": \"OK\"\n                    }\n                ],\n                \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\n            }\n        },\n        {\n            \"type\": \"Action.OpenUrl\",\n            \"title\": \"View\",\n            \"url\": \"{viewUrl}\"\n        }\n    ],\n    \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n    \"version\": \"1.0\"\n}";
exports.defaultDataPayload = "{\n    \"title\": \"Publish Adaptive Card Schema\",\n    \"description\": \"Now that we have defined the main rules and features of the format, we need to produce a schema and publish it to GitHub. The schema will be the starting point of our reference documentation.\",\n    \"creator\": {\n        \"name\": \"Matt Hidinger\",\n        \"profileImage\": \"https://matthidinger.com/images/bio-photo.jpg\"\n    },\n    \"createdUtc\": \"2017-02-14T06:08:39Z\",\n    \"viewUrl\": \"https://adaptivecards.io\",\n    \"properties\": [\n        { \"key\": \"Board\", \"value\": \"Adaptive Cards\" },\n        { \"key\": \"List\", \"value\": \"Backlog\" },\n        { \"key\": \"Assigned to\", \"value\": \"Matt Hidinger\" },\n        { \"key\": \"Due date\", \"value\": \"Not set\" }\n    ]\n}";


/***/ }),

/***/ "./src/containers/default/default-container.ts":
/*!*****************************************************!*\
  !*** ./src/containers/default/default-container.ts ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var host_container_1 = __webpack_require__(/*! ../host-container */ "./src/containers/host-container.ts");
var DefaultContainer = /** @class */ (function (_super) {
    __extends(DefaultContainer, _super);
    function DefaultContainer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DefaultContainer.prototype.renderTo = function (hostElement) {
        hostElement.classList.add("card-frame");
        hostElement.appendChild(this.cardHost);
    };
    return DefaultContainer;
}(host_container_1.HostContainer));
exports.DefaultContainer = DefaultContainer;


/***/ }),

/***/ "./src/containers/host-container.ts":
/*!******************************************!*\
  !*** ./src/containers/host-container.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HostContainer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_1 = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var hostConfig = __webpack_require__(/*! ../hostConfigs/sample.json */ "./src/hostConfigs/sample.json");
var HostContainer = /** @class */ (function () {
    function HostContainer(name, styleSheet) {
        this._elementsRegistry = new adaptivecards_1.CardObjectRegistry();
        this._actionsRegistry = new adaptivecards_1.CardObjectRegistry();
        this.supportsActionBar = false;
        this.name = name;
        this.styleSheet = styleSheet;
        this._cardHost = document.createElement("div");
        this._cardHost.className = "cardHost";
        adaptivecards_1.GlobalRegistry.populateWithDefaultElements(this._elementsRegistry);
        adaptivecards_1.GlobalRegistry.populateWithDefaultActions(this._actionsRegistry);
    }
    HostContainer.prototype.initialize = function () {
        adaptivecards_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox = true;
        adaptivecards_1.GlobalSettings.useAdvancedCardBottomTruncation = false;
        adaptivecards_1.GlobalSettings.useAdvancedTextBlockTruncation = true;
    };
    HostContainer.prototype.createSerializationContext = function (targetVersion) {
        var context = new adaptivecards_1.SerializationContext(targetVersion);
        context.setElementRegistry(this.elementsRegistry);
        context.setActionRegistry(this.actionsRegistry);
        return context;
    };
    HostContainer.prototype.getBackgroundColor = function () {
        return "#F6F6F6";
    };
    HostContainer.prototype.parseElement = function (element, source, context) {
        // Do nothing in base implementation
    };
    HostContainer.prototype.anchorClicked = function (element, anchor) {
        // Not handled by the host container by default
        return false;
    };
    HostContainer.prototype.getHostConfig = function () {
        return new adaptivecards_1.HostConfig(hostConfig);
    };
    Object.defineProperty(HostContainer.prototype, "cardHost", {
        get: function () {
            return this._cardHost;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "isFixedHeight", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "elementsRegistry", {
        get: function () {
            return this._elementsRegistry;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "actionsRegistry", {
        get: function () {
            return this._actionsRegistry;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HostContainer.prototype, "targetVersion", {
        get: function () {
            return adaptivecards_1.Versions.v1_0;
        },
        enumerable: false,
        configurable: true
    });
    return HostContainer;
}());
exports.HostContainer = HostContainer;


/***/ }),

/***/ "./src/data-treeitem.ts":
/*!******************************!*\
  !*** ./src/data-treeitem.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DataTreeItem = void 0;
var base_tree_item_1 = __webpack_require__(/*! ./base-tree-item */ "./src/base-tree-item.ts");
var DataTreeItem = /** @class */ (function (_super) {
    __extends(DataTreeItem, _super);
    function DataTreeItem(field) {
        var _this = _super.call(this) || this;
        _this._children = null;
        _this.field = field;
        _this._level = 0;
        var currentField = field;
        while (currentField) {
            _this._level++;
            currentField = currentField.parent;
        }
        return _this;
    }
    DataTreeItem.prototype.buildChildList = function () {
        if (!this._children) {
            this._children = [];
            var properties = this.field.children;
            if (properties) {
                var keys = Object.keys(properties);
                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                    var key = keys_1[_i];
                    this._children.push(new DataTreeItem(properties[key]));
                }
            }
        }
    };
    DataTreeItem.prototype.getLabelText = function () {
        return this.field.displayName;
    };
    DataTreeItem.prototype.getAdditionalText = function () {
        return this.field.valueType;
    };
    DataTreeItem.prototype.getAdditionalTextClass = function () {
        return "acd-data-tree-item-additionalText";
    };
    DataTreeItem.prototype.isDraggable = function () {
        return false;
    };
    DataTreeItem.prototype.getChildCount = function () {
        this.buildChildList();
        return this._children.length;
    };
    DataTreeItem.prototype.getChildAt = function (index) {
        this.buildChildList();
        return this._children[index];
    };
    return DataTreeItem;
}(base_tree_item_1.BaseTreeItem));
exports.DataTreeItem = DataTreeItem;


/***/ }),

/***/ "./src/data.ts":
/*!*********************!*\
  !*** ./src/data.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FieldDefinition = exports.ObjectData = exports.ArrayData = exports.ValueTypeData = exports.DataType = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
function shouldUseIndexerSyntax(name) {
    var regEx = /[a-zA-Z0-9_$]*/;
    var matches = regEx.exec(name);
    // If name doesn't only contain letters/digits/_
    // the accessor must use the indexer syntax
    return !(matches && matches[0] === name);
}
var DataType = /** @class */ (function () {
    function DataType(owner) {
        this.owner = owner;
    }
    DataType.parse = function (parent, data) {
        switch (data.valueType) {
            case "String":
                return new ValueTypeData(parent, "Sample data", data.sampleValue);
            case "Number":
                return new ValueTypeData(parent, 123, data.sampleValue);
            case "Boolean":
                return new ValueTypeData(parent, true, data.sampleValue);
            case "Array":
                return ArrayData.parse(parent, data);
            case "Object":
                return ObjectData.parse(parent, data);
        }
    };
    DataType.deriveFrom = function (parent, value) {
        if (typeof value === "string") {
            return new ValueTypeData(parent, "Sample data", value);
        }
        else if (typeof value === "boolean") {
            return new ValueTypeData(parent, true, value);
        }
        else if (typeof value === "number") {
            return new ValueTypeData(parent, 123, value);
        }
        else if (typeof value === "object") {
            if (Array.isArray(value)) {
                return ArrayData.deriveFrom(parent, value);
            }
            else {
                return ObjectData.deriveFrom(parent, value);
            }
        }
        else {
            throw new Error("Unsupported data type: " + typeof value);
        }
    };
    DataType.prototype.getChildFields = function () {
        return null;
    };
    DataType.prototype.qualifyFieldName = function (fieldName, fieldIsLeaf) {
        return fieldName;
    };
    Object.defineProperty(DataType.prototype, "isCollection", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    return DataType;
}());
exports.DataType = DataType;
var ValueTypeData = /** @class */ (function (_super) {
    __extends(ValueTypeData, _super);
    function ValueTypeData(owner, defaultSampleValue, sampleValue) {
        var _this = _super.call(this, owner) || this;
        _this.owner = owner;
        _this.defaultSampleValue = defaultSampleValue;
        _this._sampleValue = sampleValue;
        return _this;
    }
    ValueTypeData.prototype.generateSampleData = function () {
        return this.sampleValue ? this.sampleValue : this.defaultSampleValue;
    };
    Object.defineProperty(ValueTypeData.prototype, "sampleValue", {
        get: function () {
            return this._sampleValue;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ValueTypeData.prototype, "valueType", {
        get: function () {
            switch (typeof this.defaultSampleValue) {
                case "string":
                    return "String";
                case "number":
                    return "Number";
                case "boolean":
                    return "Boolean";
            }
        },
        enumerable: false,
        configurable: true
    });
    return ValueTypeData;
}(DataType));
exports.ValueTypeData = ValueTypeData;
var ArrayData = /** @class */ (function (_super) {
    __extends(ArrayData, _super);
    function ArrayData(owner) {
        var _this = _super.call(this, owner) || this;
        _this.owner = owner;
        _this.dataType = undefined;
        return _this;
    }
    ArrayData.parse = function (parent, data) {
        var result = new ArrayData(parent);
        result.dataType = DataType.parse(parent, data.itemType);
        return result;
    };
    ArrayData.deriveFrom = function (parent, input) {
        if (!Array.isArray(input)) {
            throw new Error("Input is not an array.");
        }
        var result = new ArrayData(parent);
        if (input.length > 0) {
            result.dataType = DataType.deriveFrom(parent, input[0]);
        }
        return result;
    };
    ArrayData.prototype.generateSampleData = function () {
        var result = [];
        if (this.dataType) {
            for (var i = 1; i <= 3; i++) {
                result.push(this.dataType.generateSampleData());
            }
        }
        return result;
    };
    ArrayData.prototype.getChildFields = function () {
        return this.dataType ? this.dataType.getChildFields() : [];
    };
    ArrayData.prototype.qualifyFieldName = function (fieldName, fieldIsLeaf) {
        if (!fieldIsLeaf) {
            return fieldName + "[0]";
        }
        else {
            return _super.prototype.qualifyFieldName.call(this, fieldName, fieldIsLeaf);
        }
    };
    Object.defineProperty(ArrayData.prototype, "isCollection", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ArrayData.prototype, "valueType", {
        get: function () {
            return "Array";
        },
        enumerable: false,
        configurable: true
    });
    return ArrayData;
}(DataType));
exports.ArrayData = ArrayData;
var ObjectData = /** @class */ (function (_super) {
    __extends(ObjectData, _super);
    function ObjectData(owner) {
        var _this = _super.call(this, owner) || this;
        _this.owner = owner;
        _this.fields = [];
        return _this;
    }
    ObjectData.parse = function (parent, data) {
        var result = new ObjectData(parent);
        for (var _i = 0, _a = data.fields; _i < _a.length; _i++) {
            var field = _a[_i];
            var fieldDefinition = new FieldDefinition(parent);
            fieldDefinition.name = field.name;
            fieldDefinition.displayName = field.displayName;
            fieldDefinition.dataType = DataType.parse(fieldDefinition, field);
            result.fields.push(fieldDefinition);
        }
        return result;
    };
    ObjectData.deriveFrom = function (parent, input) {
        var result = new ObjectData(parent);
        if (input !== null) {
            for (var _i = 0, _a = Object.keys(input); _i < _a.length; _i++) {
                var key = _a[_i];
                var field = new FieldDefinition(parent);
                field.dataType = DataType.deriveFrom(field, input[key]);
                field.name = key;
                result.fields.push(field);
            }
        }
        return result;
    };
    ObjectData.prototype.generateSampleData = function () {
        var result = {};
        for (var _i = 0, _a = this.fields; _i < _a.length; _i++) {
            var field = _a[_i];
            result[field.name] = field.dataType.generateSampleData();
        }
        return result;
    };
    ObjectData.prototype.getChildFields = function () {
        return this.fields;
    };
    Object.defineProperty(ObjectData.prototype, "valueType", {
        get: function () {
            return "Object";
        },
        enumerable: false,
        configurable: true
    });
    return ObjectData;
}(DataType));
exports.ObjectData = ObjectData;
var FieldDefinition = /** @class */ (function () {
    function FieldDefinition(parent) {
        this.parent = parent;
    }
    FieldDefinition.parse = function (data) {
        var field = new FieldDefinition(null);
        field.name = "$root";
        field.dataType = DataType.parse(field, data);
        return field;
    };
    FieldDefinition.deriveFrom = function (input) {
        var field = new FieldDefinition(null);
        field.name = "$root";
        field.dataType = DataType.deriveFrom(field, input);
        return field;
    };
    FieldDefinition.prototype.asExpression = function () {
        return "${" + this.getPath() + "}";
    };
    FieldDefinition.prototype.getPath = function (asLeaf) {
        if (asLeaf === void 0) { asLeaf = true; }
        var currentField = this;
        var path = [];
        while (currentField) {
            path.push(currentField);
            currentField = currentField.parent;
        }
        var result = "";
        var forceIndexerSyntax = false;
        for (var i = path.length - 1; i >= 0; i--) {
            var qualifiedName = path[i].qualifiedName(false);
            if (shouldUseIndexerSyntax(qualifiedName) || forceIndexerSyntax) {
                qualifiedName = "['" + qualifiedName + "']";
                forceIndexerSyntax = true;
            }
            else {
                if (result) {
                    result += ".";
                }
            }
            result += qualifiedName;
        }
        return result;
    };
    FieldDefinition.prototype.qualifiedName = function (asLeaf) {
        return this.dataType.qualifyFieldName(this.name, asLeaf);
    };
    Object.defineProperty(FieldDefinition.prototype, "displayName", {
        get: function () {
            return this._displayName ? this._displayName : this.name;
        },
        set: function (value) {
            this._displayName = value;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FieldDefinition.prototype, "children", {
        get: function () {
            return this.dataType.getChildFields();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FieldDefinition.prototype, "isCollection", {
        get: function () {
            return this.dataType.isCollection;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(FieldDefinition.prototype, "valueType", {
        get: function () {
            return this.dataType.valueType;
        },
        enumerable: false,
        configurable: true
    });
    return FieldDefinition;
}());
exports.FieldDefinition = FieldDefinition;


/***/ }),

/***/ "./src/designer-peer-treeitem.ts":
/*!***************************************!*\
  !*** ./src/designer-peer-treeitem.ts ***!
  \***************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DesignerPeerTreeItem = void 0;
// Copyright (C) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var base_tree_item_1 = __webpack_require__(/*! ./base-tree-item */ "./src/base-tree-item.ts");
var DesignerPeerTreeItem = /** @class */ (function (_super) {
    __extends(DesignerPeerTreeItem, _super);
    function DesignerPeerTreeItem(owner, isExpanded) {
        if (isExpanded === void 0) { isExpanded = true; }
        var _this = _super.call(this, isExpanded) || this;
        _this.owner = owner;
        _this.owner.onParentChanged = function (sender) {
            _this.computeLevel();
        };
        _this.computeLevel();
        return _this;
    }
    DesignerPeerTreeItem.prototype.computeLevel = function () {
        this._level = 0;
        var peer = this.owner;
        while (peer) {
            this._level++;
            peer = peer.parent;
        }
        for (var i = 0; i < this.getChildCount(); i++) {
            this.getChildAt(i).computeLevel();
        }
    };
    DesignerPeerTreeItem.prototype.getIconClass = function () {
        return this.owner.registration.iconClass;
    };
    DesignerPeerTreeItem.prototype.getLabelText = function () {
        return this.owner.getCardObject().getJsonTypeName();
    };
    DesignerPeerTreeItem.prototype.getAdditionalText = function () {
        return this.owner.getTreeItemText();
    };
    DesignerPeerTreeItem.prototype.selectedChanged = function (scrollIntoView) {
        _super.prototype.selectedChanged.call(this, scrollIntoView);
        this.owner.isSelected = this.isSelected;
    };
    DesignerPeerTreeItem.prototype.getChildCount = function () {
        return this.owner.getChildCount();
    };
    DesignerPeerTreeItem.prototype.getChildAt = function (index) {
        return this.owner.getChildAt(index).treeItem;
    };
    return DesignerPeerTreeItem;
}(base_tree_item_1.BaseTreeItem));
exports.DesignerPeerTreeItem = DesignerPeerTreeItem;


/***/ }),

/***/ "./src/designer-peers.ts":
/*!*******************************!*\
  !*** ./src/designer-peers.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextInputPeer = exports.InputPeer = exports.FactSetPeer = exports.MediaPeer = exports.ImagePeer = exports.ImageSetPeer = exports.ActionSetPeer = exports.ContainerPeer = exports.ColumnSetPeer = exports.ColumnPeer = exports.AdaptiveCardPeer = exports.TypedCardElementPeer = exports.CardElementPeer = exports.ToggleVisibilityActionPeer = exports.ShowCardActionPeer = exports.OpenUrlActionPeer = exports.ExecuteActionPeer = exports.SubmitActionPeer = exports.BaseSubmitActionPeer = exports.HttpActionPeer = exports.TypedActionPeer = exports.ActionPeer = exports.DesignerPeer = exports.EnumPropertyEditor = exports.CompoundPropertyEditor = exports.ActionPropertyEditor = exports.SizeAndUnitPropertyEditor = exports.HeightPropertyEditor = exports.ColumnWidthPropertyEditor = exports.NullableBooleanPropertyEditor = exports.ContainerStylePropertyEditor = exports.ChoicePropertyEditor = exports.BooleanPropertyEditor = exports.CustomCardObjectPropertyEditor = exports.ObjectPropertyEditor = exports.NumberPropertyEditor = exports.StringArrayPropertyEditor = exports.StringPropertyEditor = exports.BaseStringPropertyEditor = exports.SingleInputPropertyEditor = exports.CustomPropertySheetEntry = exports.SubPropertySheetEntry = exports.PropertySheetEntry = exports.PropertySheetContext = exports.PropertySheet = exports.PropertySheetCategory = exports.DesignerPeerRegistration = exports.DesignerPeerRegistrationBase = exports.CardElementPeerInplaceEditor = exports.DesignerPeerInplaceEditor = void 0;
exports.TablePeer = exports.TableRowPeer = exports.TableCellPeer = exports.RichTextBlockPeer = exports.TextBlockPeer = exports.ChoiceSetInputPeer = exports.ToggleInputPeer = exports.TimeInputPeer = exports.DateInputPeer = exports.NumberInputPeer = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var Controls = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var peer_command_1 = __webpack_require__(/*! ./peer-command */ "./src/peer-command.ts");
var card_designer_surface_1 = __webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts");
var designer_peer_treeitem_1 = __webpack_require__(/*! ./designer-peer-treeitem */ "./src/designer-peer-treeitem.ts");
var miscellaneous_1 = __webpack_require__(/*! ./miscellaneous */ "./src/miscellaneous.ts");
var shared_1 = __webpack_require__(/*! ./shared */ "./src/shared.ts");
var field_picker_1 = __webpack_require__(/*! ./field-picker */ "./src/field-picker.ts");
var strings_1 = __webpack_require__(/*! ./strings */ "./src/strings.ts");
var DesignerPeerInplaceEditor = /** @class */ (function () {
    function DesignerPeerInplaceEditor() {
    }
    return DesignerPeerInplaceEditor;
}());
exports.DesignerPeerInplaceEditor = DesignerPeerInplaceEditor;
var CardElementPeerInplaceEditor = /** @class */ (function (_super) {
    __extends(CardElementPeerInplaceEditor, _super);
    function CardElementPeerInplaceEditor(cardElement) {
        var _this = _super.call(this) || this;
        _this.cardElement = cardElement;
        return _this;
    }
    return CardElementPeerInplaceEditor;
}(DesignerPeerInplaceEditor));
exports.CardElementPeerInplaceEditor = CardElementPeerInplaceEditor;
var DesignerPeerRegistrationBase = /** @class */ (function () {
    function DesignerPeerRegistrationBase(category, iconClass) {
        this.category = category;
        this._iconClass = iconClass;
    }
    Object.defineProperty(DesignerPeerRegistrationBase.prototype, "iconClass", {
        get: function () {
            return this._iconClass ? this._iconClass : "acd-icon-defaultElementIcon";
        },
        enumerable: false,
        configurable: true
    });
    return DesignerPeerRegistrationBase;
}());
exports.DesignerPeerRegistrationBase = DesignerPeerRegistrationBase;
var DesignerPeerRegistration = /** @class */ (function (_super) {
    __extends(DesignerPeerRegistration, _super);
    function DesignerPeerRegistration(sourceType, peerType, category, iconClass) {
        if (iconClass === void 0) { iconClass = null; }
        var _this = _super.call(this, category, iconClass) || this;
        _this.sourceType = sourceType;
        _this.peerType = peerType;
        return _this;
    }
    return DesignerPeerRegistration;
}(DesignerPeerRegistrationBase));
exports.DesignerPeerRegistration = DesignerPeerRegistration;
var PropertySheetCategory = /** @class */ (function () {
    function PropertySheetCategory(name) {
        this.name = name;
        this._entries = [];
    }
    PropertySheetCategory.prototype.render = function (container, context, displayCategoryName) {
        var entriesToRender = [];
        for (var _i = 0, _a = this._entries; _i < _a.length; _i++) {
            var entry = _a[_i];
            if (Adaptive.isVersionLessOrEqual(entry.targetVersion, context.designContext.targetVersion)) {
                entriesToRender.push(entry);
            }
        }
        if (entriesToRender.length > 0) {
            if (displayCategoryName) {
                var header = new Adaptive.TextBlock();
                header.separator = true;
                header.text = "**" + (this.name === PropertySheetCategory.DefaultCategory ? context.peer.getCardObject().getJsonTypeName() : this.name) + "**";
                container.addItem(header);
            }
            for (var _b = 0, entriesToRender_1 = entriesToRender; _b < entriesToRender_1.length; _b++) {
                var entry = entriesToRender_1[_b];
                if (Adaptive.isVersionLessOrEqual(entry.targetVersion, context.designContext.targetVersion)) {
                    container.addItem(entry.render(context));
                }
            }
        }
    };
    PropertySheetCategory.prototype.add = function () {
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
        }
        this._entries = this._entries.concat(entries);
    };
    PropertySheetCategory.prototype.remove = function () {
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
        }
        for (var _a = 0, entries_1 = entries; _a < entries_1.length; _a++) {
            var entry = entries_1[_a];
            var index = void 0;
            do {
                var index_1 = this._entries.indexOf(entry);
                if (index_1 >= 0) {
                    this._entries.splice(index_1, 1);
                }
            } while (index >= 0);
        }
    };
    PropertySheetCategory.prototype.getEntryAt = function (index) {
        return this._entries[index];
    };
    Object.defineProperty(PropertySheetCategory.prototype, "length", {
        get: function () {
            return this._entries.length;
        },
        enumerable: false,
        configurable: true
    });
    PropertySheetCategory.DefaultCategory = "__defaultCategory";
    PropertySheetCategory.LayoutCategory = "Layout";
    PropertySheetCategory.StyleCategory = "Style";
    PropertySheetCategory.SelectionAction = "Selection action";
    PropertySheetCategory.InlineAction = "Inline action";
    PropertySheetCategory.Validation = "Validation";
    PropertySheetCategory.Refresh = "Refresh";
    return PropertySheetCategory;
}());
exports.PropertySheetCategory = PropertySheetCategory;
var PropertySheet = /** @class */ (function () {
    function PropertySheet(displayCategoryNames) {
        if (displayCategoryNames === void 0) { displayCategoryNames = true; }
        this.displayCategoryNames = displayCategoryNames;
        this._categories = {};
        this._categories[PropertySheetCategory.DefaultCategory] = new PropertySheetCategory(PropertySheetCategory.DefaultCategory);
        this._categories[PropertySheetCategory.LayoutCategory] = new PropertySheetCategory(PropertySheetCategory.LayoutCategory);
        this._categories[PropertySheetCategory.StyleCategory] = new PropertySheetCategory(PropertySheetCategory.StyleCategory);
    }
    PropertySheet.prototype.add = function (categoryName) {
        var entries = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            entries[_i - 1] = arguments[_i];
        }
        var category = this._categories[categoryName];
        if (!category) {
            category = new PropertySheetCategory(categoryName);
            this._categories[categoryName] = category;
        }
        category.add.apply(category, entries);
    };
    PropertySheet.prototype.addActionProperties = function (targetVersion, peer, action, category, excludeProperties) {
        if (excludeProperties === void 0) { excludeProperties = [ActionPeer.iconUrlProperty, ActionPeer.styleProperty, ActionPeer.modeProperty]; }
        var actionPeer = card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(peer.designerSurface, null, action);
        actionPeer.onChanged = function (sender, updatePropertySheet) { peer.changed(updatePropertySheet); };
        var subPropertySheet = new PropertySheet(false);
        actionPeer.populatePropertySheet(subPropertySheet, category);
        if (excludeProperties.length > 0) {
            subPropertySheet.remove.apply(subPropertySheet, excludeProperties);
        }
        this.add(category, new SubPropertySheetEntry(targetVersion, action, subPropertySheet));
    };
    PropertySheet.prototype.remove = function () {
        var _a;
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            entries[_i] = arguments[_i];
        }
        for (var _b = 0, _c = Object.keys(this._categories); _b < _c.length; _b++) {
            var categoryName = _c[_b];
            (_a = this._categories[categoryName]).remove.apply(_a, entries);
        }
    };
    PropertySheet.prototype.render = function (container, context) {
        for (var _i = 0, _a = Object.keys(this._categories); _i < _a.length; _i++) {
            var categoryName = _a[_i];
            this._categories[categoryName].render(container, context, this.displayCategoryNames);
        }
    };
    return PropertySheet;
}());
exports.PropertySheet = PropertySheet;
var PropertySheetContext = /** @class */ (function () {
    function PropertySheetContext(designContext, peer, target) {
        if (target === void 0) { target = undefined; }
        this.designContext = designContext;
        this.peer = peer;
        this._target = undefined;
        this._target = target;
    }
    Object.defineProperty(PropertySheetContext.prototype, "target", {
        get: function () {
            return this._target != undefined ? this._target : this.peer.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    return PropertySheetContext;
}());
exports.PropertySheetContext = PropertySheetContext;
var PropertySheetEntry = /** @class */ (function () {
    function PropertySheetEntry(targetVersion) {
        this.targetVersion = targetVersion;
    }
    return PropertySheetEntry;
}());
exports.PropertySheetEntry = PropertySheetEntry;
var SubPropertySheetEntry = /** @class */ (function () {
    function SubPropertySheetEntry(targetVersion, target, propertySheet) {
        this.targetVersion = targetVersion;
        this.target = target;
        this.propertySheet = propertySheet;
    }
    SubPropertySheetEntry.prototype.render = function (context) {
        var container = new Adaptive.Container();
        container.spacing = Adaptive.Spacing.Small;
        this.propertySheet.render(container, new PropertySheetContext(context.designContext, context.peer, this.target));
        return container;
    };
    return SubPropertySheetEntry;
}());
exports.SubPropertySheetEntry = SubPropertySheetEntry;
var CustomPropertySheetEntry = /** @class */ (function (_super) {
    __extends(CustomPropertySheetEntry, _super);
    function CustomPropertySheetEntry(targetVersion, onRender) {
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.onRender = onRender;
        return _this;
    }
    CustomPropertySheetEntry.prototype.render = function (context) {
        if (this.onRender) {
            return this.onRender(context);
        }
    };
    return CustomPropertySheetEntry;
}(PropertySheetEntry));
exports.CustomPropertySheetEntry = CustomPropertySheetEntry;
var SingleInputPropertyEditor = /** @class */ (function (_super) {
    __extends(SingleInputPropertyEditor, _super);
    function SingleInputPropertyEditor(targetVersion, propertyName, label, causesPropertySheetRefresh) {
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    SingleInputPropertyEditor.prototype.getPropertyValue = function (context) {
        return context.target[this.propertyName];
    };
    SingleInputPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = value;
    };
    SingleInputPropertyEditor.prototype.getAdditionalCommands = function (context) {
        return [];
    };
    SingleInputPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var leftColumn = new Adaptive.Column();
        leftColumn.width = new Adaptive.SizeAndUnit(100, Adaptive.SizeUnit.Pixel);
        leftColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
        var rightColumn = new Adaptive.Column();
        rightColumn.width = "stretch";
        rightColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
        var columnSet = new Adaptive.ColumnSet();
        columnSet.spacing = Adaptive.Spacing.Small;
        columnSet.addColumn(leftColumn);
        columnSet.addColumn(rightColumn);
        var label = new Adaptive.TextBlock();
        label.horizontalAlignment = Adaptive.HorizontalAlignment.Right;
        label.wrap = true;
        label.text = this.label;
        label.id = Adaptive.generateUniqueId();
        var input = this.createInput(context);
        input.labelledBy = label.id;
        input.onValueChanged = function () {
            _this.setPropertyValue(context, input.value);
            context.peer.changed(_this.causesPropertySheetRefresh);
        };
        leftColumn.addItem(label);
        rightColumn.addItem(input);
        var additionalCommands = this.getAdditionalCommands(context);
        if (additionalCommands && additionalCommands.length > 0) {
            var commandColumn = new Adaptive.Column();
            commandColumn.width = "auto";
            commandColumn.spacing = Adaptive.Spacing.Small;
            commandColumn.verticalContentAlignment = Adaptive.VerticalAlignment.Center;
            var actionSet = new Adaptive.ActionSet();
            var _loop_1 = function (command) {
                var action = new Adaptive.SubmitAction();
                action.id = command.id;
                action.title = command.caption;
                action.tooltip = command.altText;
                if (command.expanded) {
                    action.state = 1 /* Expanded */;
                }
                action.onExecute = function (sender) { command.onExecute(_this, sender.renderedElement); };
                actionSet.addAction(action);
            };
            for (var _i = 0, additionalCommands_1 = additionalCommands; _i < additionalCommands_1.length; _i++) {
                var command = additionalCommands_1[_i];
                _loop_1(command);
            }
            commandColumn.addItem(actionSet);
            columnSet.addColumn(commandColumn);
        }
        return columnSet;
    };
    return SingleInputPropertyEditor;
}(PropertySheetEntry));
exports.SingleInputPropertyEditor = SingleInputPropertyEditor;
var BaseStringPropertyEditor = /** @class */ (function (_super) {
    __extends(BaseStringPropertyEditor, _super);
    function BaseStringPropertyEditor(targetVersion, propertyName, label, allowBinding, isMultiline, causesPropertySheetRefresh) {
        if (allowBinding === void 0) { allowBinding = false; }
        if (isMultiline === void 0) { isMultiline = false; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.allowBinding = allowBinding;
        _this.isMultiline = isMultiline;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.placeHolder = "(not set)";
        return _this;
    }
    BaseStringPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.TextInput();
        input.defaultValue = this.getPropertyValue(context);
        input.placeholder = this.placeHolder;
        input.isMultiline = this.isMultiline;
        return input;
    };
    return BaseStringPropertyEditor;
}(SingleInputPropertyEditor));
exports.BaseStringPropertyEditor = BaseStringPropertyEditor;
var StringPropertyEditor = /** @class */ (function (_super) {
    __extends(StringPropertyEditor, _super);
    function StringPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    StringPropertyEditor.prototype.getAdditionalCommands = function (context) {
        var _this = this;
        if (shared_1.GlobalSettings.enableDataBindingSupport && this.allowBinding) {
            return [
                {
                    id: this.propertyName + "BindData",
                    caption: strings_1.Strings.toolboxes.propertySheet.commands.bindData.displayText(),
                    altText: strings_1.Strings.toolboxes.propertySheet.commands.bindData.accessibleText(this.label),
                    expanded: false,
                    onExecute: function (sender, clickedElement) {
                        clickedElement.setAttribute("aria-expanded", "true");
                        var fieldPicker = new field_picker_1.FieldPicker(context.designContext.dataStructure);
                        fieldPicker.onClose = function (sender, wasCancelled) {
                            clickedElement.setAttribute("aria-expanded", "false");
                            if (!wasCancelled) {
                                _this.setPropertyValue(context, fieldPicker.selectedField.asExpression());
                                clickedElement.focus();
                                context.peer.changed(true);
                            }
                            clickedElement.focus();
                        };
                        fieldPicker.popup(clickedElement);
                    }
                }
            ];
        }
        else {
            return _super.prototype.getAdditionalCommands.call(this, context);
        }
    };
    return StringPropertyEditor;
}(BaseStringPropertyEditor));
exports.StringPropertyEditor = StringPropertyEditor;
var StringArrayPropertyEditor = /** @class */ (function (_super) {
    __extends(StringArrayPropertyEditor, _super);
    function StringArrayPropertyEditor(targetVersion, propertyName, label, allowBinding, isMultiline, causesPropertySheetRefresh) {
        if (allowBinding === void 0) { allowBinding = false; }
        if (isMultiline === void 0) { isMultiline = false; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, allowBinding, isMultiline, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.allowBinding = allowBinding;
        _this.isMultiline = isMultiline;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.placeHolder = "(not set, comma-separated list)";
        return _this;
    }
    StringArrayPropertyEditor.prototype.getPropertyValue = function (context) {
        var rawValue = context.target[this.propertyName];
        var result = [];
        if (rawValue !== undefined && Array.isArray(rawValue)) {
            for (var _i = 0, rawValue_1 = rawValue; _i < rawValue_1.length; _i++) {
                var item = rawValue_1[_i];
                if (typeof item === "string") {
                    result.push(item);
                }
            }
        }
        return result.length > 0 ? result.join(",") : undefined;
    };
    StringArrayPropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value !== undefined) {
            var rawValues = value.split(",");
            var result = [];
            for (var _i = 0, rawValues_1 = rawValues; _i < rawValues_1.length; _i++) {
                var rawValue = rawValues_1[_i];
                if (rawValue) {
                    result.push(rawValue);
                }
            }
            context.target[this.propertyName] = result.length > 0 ? result : undefined;
        }
    };
    return StringArrayPropertyEditor;
}(BaseStringPropertyEditor));
exports.StringArrayPropertyEditor = StringArrayPropertyEditor;
var NumberPropertyEditor = /** @class */ (function (_super) {
    __extends(NumberPropertyEditor, _super);
    function NumberPropertyEditor(targetVersion, propertyName, label, defaultValue, causesPropertySheetRefresh) {
        if (defaultValue === void 0) { defaultValue = undefined; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.defaultValue = defaultValue;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    NumberPropertyEditor.prototype.setPropertyValue = function (context, value) {
        try {
            context.target[this.propertyName] = parseFloat(value);
        }
        catch (_a) {
            context.target[this.propertyName] = this.defaultValue;
        }
    };
    NumberPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.NumberInput();
        input.defaultValue = this.getPropertyValue(context);
        input.placeholder = "(not set)";
        return input;
    };
    return NumberPropertyEditor;
}(SingleInputPropertyEditor));
exports.NumberPropertyEditor = NumberPropertyEditor;
var ObjectPropertyEditor = /** @class */ (function (_super) {
    __extends(ObjectPropertyEditor, _super);
    function ObjectPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ObjectPropertyEditor.prototype.getPropertyValue = function (context) {
        return JSON.stringify(context.target[this.propertyName]);
    };
    ObjectPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = JSON.parse(value);
    };
    return ObjectPropertyEditor;
}(StringPropertyEditor));
exports.ObjectPropertyEditor = ObjectPropertyEditor;
var CustomCardObjectPropertyEditor = /** @class */ (function (_super) {
    __extends(CustomCardObjectPropertyEditor, _super);
    function CustomCardObjectPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CustomCardObjectPropertyEditor.prototype.getPropertyValue = function (context) {
        return context.peer.getCardObject().getCustomProperty(this.propertyName);
    };
    CustomCardObjectPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.peer.getCardObject().setCustomProperty(this.propertyName, value);
    };
    return CustomCardObjectPropertyEditor;
}(StringPropertyEditor));
exports.CustomCardObjectPropertyEditor = CustomCardObjectPropertyEditor;
var BooleanPropertyEditor = /** @class */ (function (_super) {
    __extends(BooleanPropertyEditor, _super);
    function BooleanPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BooleanPropertyEditor.prototype.getPropertyValue = function (context) {
        var v = context.target[this.propertyName];
        return typeof v === "boolean" ? v.toString() : "false";
    };
    BooleanPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = value == "true";
    };
    BooleanPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ToggleInput();
        input.defaultValue = this.getPropertyValue(context);
        return input;
    };
    return BooleanPropertyEditor;
}(SingleInputPropertyEditor));
exports.BooleanPropertyEditor = BooleanPropertyEditor;
var NotSetValue = "@@not_set@@";
var ChoicePropertyEditor = /** @class */ (function (_super) {
    __extends(ChoicePropertyEditor, _super);
    function ChoicePropertyEditor(targetVersion, propertyName, label, choices, causesPropertySheetRefresh, isNullable) {
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        if (isNullable === void 0) { isNullable = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.choices = choices;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.isNullable = isNullable;
        return _this;
    }
    ChoicePropertyEditor.prototype.getPropertyValue = function (context) {
        var currentValue = context.target[this.propertyName];
        return currentValue !== undefined ? currentValue.toString() : NotSetValue;
    };
    ChoicePropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value === NotSetValue) {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = value;
        }
    };
    ChoicePropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ChoiceSetInput();
        input.defaultValue = this.getPropertyValue(context);
        input.isCompact = true;
        if (this.isNullable) {
            input.choices.push(new Adaptive.Choice("(not set)", NotSetValue));
        }
        else {
            input.placeholder = "(not set)";
        }
        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {
            var choice = _a[_i];
            if (Adaptive.isVersionLessOrEqual(choice.targetVersion, context.designContext.targetVersion)) {
                input.choices.push(new Adaptive.Choice(choice.name, choice.value));
            }
        }
        return input;
    };
    return ChoicePropertyEditor;
}(SingleInputPropertyEditor));
exports.ChoicePropertyEditor = ChoicePropertyEditor;
var ContainerStylePropertyEditor = /** @class */ (function (_super) {
    __extends(ContainerStylePropertyEditor, _super);
    function ContainerStylePropertyEditor(targetVersion, propertyName, label) {
        var _this = _super.call(this, targetVersion, propertyName, label, [
            { targetVersion: Adaptive.Versions.v1_0, name: "(not set)", value: NotSetValue },
            { targetVersion: Adaptive.Versions.v1_0, name: "Default", value: "default" },
            { targetVersion: Adaptive.Versions.v1_0, name: "Emphasis", value: "emphasis" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Accent", value: "accent" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Good", value: "good" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Attention", value: "attention" },
            { targetVersion: Adaptive.Versions.v1_2, name: "Warning", value: "warning" }
        ]) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        return _this;
    }
    ContainerStylePropertyEditor.prototype.getPropertyValue = function (context) {
        var currentStyle = context.target[this.propertyName];
        return currentStyle ? currentStyle.toString() : NotSetValue;
    };
    ContainerStylePropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value == NotSetValue) {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = value;
        }
    };
    return ContainerStylePropertyEditor;
}(ChoicePropertyEditor));
exports.ContainerStylePropertyEditor = ContainerStylePropertyEditor;
var NullableBooleanPropertyEditor = /** @class */ (function (_super) {
    __extends(NullableBooleanPropertyEditor, _super);
    function NullableBooleanPropertyEditor(targetVersion, propertyName, label) {
        var _this = _super.call(this, targetVersion, propertyName, label, [
            { targetVersion: Adaptive.Versions.v1_0, name: "(not set)", value: NotSetValue },
            { targetVersion: Adaptive.Versions.v1_0, name: "True", value: "true" },
            { targetVersion: Adaptive.Versions.v1_0, name: "False", value: "false" }
        ]) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        return _this;
    }
    NullableBooleanPropertyEditor.prototype.getPropertyValue = function (context) {
        var currentValue = context.target[this.propertyName];
        return typeof currentValue === "boolean" ? currentValue.toString() : NotSetValue;
    };
    NullableBooleanPropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value === NotSetValue) {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = value === "true";
        }
    };
    return NullableBooleanPropertyEditor;
}(ChoicePropertyEditor));
exports.NullableBooleanPropertyEditor = NullableBooleanPropertyEditor;
var ColumnWidthPropertyEditor = /** @class */ (function (_super) {
    __extends(ColumnWidthPropertyEditor, _super);
    function ColumnWidthPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ColumnWidthPropertyEditor.prototype.getPropertyValue = function (context) {
        if (context.target[this.propertyName] instanceof Adaptive.SizeAndUnit) {
            if (context.target[this.propertyName].unit == Adaptive.SizeUnit.Pixel) {
                return "pixels";
            }
            else {
                return "weighted";
            }
        }
        else {
            return context.target[this.propertyName].toString();
        }
    };
    ColumnWidthPropertyEditor.prototype.setPropertyValue = function (context, value) {
        switch (value) {
            case "auto":
                context.target[this.propertyName] = "auto";
                break;
            case "pixels":
                context.target[this.propertyName] = new Adaptive.SizeAndUnit(50, Adaptive.SizeUnit.Pixel);
                break;
            case "weighted":
                context.target[this.propertyName] = new Adaptive.SizeAndUnit(50, Adaptive.SizeUnit.Weight);
                break;
            case "stretch":
            default:
                context.target[this.propertyName] = "stretch";
                break;
        }
    };
    return ColumnWidthPropertyEditor;
}(ChoicePropertyEditor));
exports.ColumnWidthPropertyEditor = ColumnWidthPropertyEditor;
var HeightPropertyEditor = /** @class */ (function (_super) {
    __extends(HeightPropertyEditor, _super);
    function HeightPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HeightPropertyEditor.prototype.setPropertyValue = function (context, value) {
        var processedValue;
        switch (value) {
            case "auto":
            case "stretch":
                processedValue = value;
                break;
            default:
                processedValue = "auto";
                break;
        }
        context.target[this.propertyName] = processedValue;
    };
    return HeightPropertyEditor;
}(ChoicePropertyEditor));
exports.HeightPropertyEditor = HeightPropertyEditor;
var SizeAndUnitPropertyEditor = /** @class */ (function (_super) {
    __extends(SizeAndUnitPropertyEditor, _super);
    function SizeAndUnitPropertyEditor(targetVersion, propertyName, label, sizeUnit, defaultValue, causesPropertySheetRefresh) {
        if (defaultValue === void 0) { defaultValue = undefined; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, defaultValue, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.sizeUnit = sizeUnit;
        _this.defaultValue = defaultValue;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    SizeAndUnitPropertyEditor.prototype.getPropertyValue = function (context) {
        return context.target[this.propertyName].physicalSize.toString();
    };
    SizeAndUnitPropertyEditor.prototype.setPropertyValue = function (context, value) {
        context.target[this.propertyName] = new Adaptive.SizeAndUnit(parseInt(value), this.sizeUnit);
    };
    return SizeAndUnitPropertyEditor;
}(NumberPropertyEditor));
exports.SizeAndUnitPropertyEditor = SizeAndUnitPropertyEditor;
var ActionPropertyEditor = /** @class */ (function (_super) {
    __extends(ActionPropertyEditor, _super);
    function ActionPropertyEditor(targetVersion, propertyName, label, forbiddenActionTypes, causesPropertySheetRefresh) {
        if (forbiddenActionTypes === void 0) { forbiddenActionTypes = []; }
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.forbiddenActionTypes = forbiddenActionTypes;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        return _this;
    }
    ActionPropertyEditor.prototype.getPropertyValue = function (context) {
        var action = context.target[this.propertyName];
        return action ? action.getJsonTypeName() : "none";
    };
    ActionPropertyEditor.prototype.setPropertyValue = function (context, value) {
        if (value == "none") {
            context.target[this.propertyName] = undefined;
        }
        else {
            context.target[this.propertyName] = context.designContext.hostContainer.actionsRegistry.createInstance(value, context.designContext.targetVersion);
        }
    };
    ActionPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ChoiceSetInput();
        input.defaultValue = this.getPropertyValue(context);
        input.isCompact = true;
        input.placeholder = "(not set)";
        input.choices.push(new Adaptive.Choice("(not set)", "none"));
        for (var i = 0; i < context.designContext.hostContainer.actionsRegistry.getItemCount(); i++) {
            var actionType = context.designContext.hostContainer.actionsRegistry.getItemAt(i).typeName;
            var excludeAction = true;
            if (this.forbiddenActionTypes) {
                // If the list contains "*", all action types are disallowed...
                excludeAction = this.forbiddenActionTypes.indexOf("*") >= 0 || this.forbiddenActionTypes.indexOf(actionType) >= 0;
                if (excludeAction) {
                    // ...except if the list explicitly contains the type name prefixed with a "-" character
                    // Example:
                    //    [ "*", "-Action.Execute", "-Action.Submit" ]
                    //    Meaning: all actions are disallowed except Action.Execute and Action.Submit
                    excludeAction = this.forbiddenActionTypes.indexOf("-" + actionType) < 0;
                }
            }
            if (!excludeAction) {
                var choice = new Adaptive.Choice(actionType, actionType);
                input.choices.push(choice);
            }
        }
        return input;
    };
    return ActionPropertyEditor;
}(SingleInputPropertyEditor));
exports.ActionPropertyEditor = ActionPropertyEditor;
var CompoundPropertyEditor = /** @class */ (function (_super) {
    __extends(CompoundPropertyEditor, _super);
    function CompoundPropertyEditor(targetVersion, propertyName, entries, initializeProperty) {
        if (entries === void 0) { entries = []; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.entries = entries;
        _this.initializeProperty = initializeProperty;
        return _this;
    }
    CompoundPropertyEditor.prototype.render = function (context) {
        var container = new Adaptive.Container();
        var target = context.target[this.propertyName];
        if (target === undefined && this.initializeProperty) {
            target = this.initializeProperty();
            context.target[this.propertyName] = target;
        }
        if (target) {
            for (var _i = 0, _a = this.entries; _i < _a.length; _i++) {
                var entry = _a[_i];
                if (Adaptive.isVersionLessOrEqual(entry.targetVersion, context.designContext.targetVersion)) {
                    container.addItem(entry.render(new PropertySheetContext(context.designContext, context.peer, target)));
                }
            }
        }
        return container;
    };
    return CompoundPropertyEditor;
}(PropertySheetEntry));
exports.CompoundPropertyEditor = CompoundPropertyEditor;
var EnumPropertyEditor = /** @class */ (function (_super) {
    __extends(EnumPropertyEditor, _super);
    function EnumPropertyEditor(targetVersion, propertyName, label, enumType, causesPropertySheetRefresh, isNullable) {
        if (causesPropertySheetRefresh === void 0) { causesPropertySheetRefresh = false; }
        if (isNullable === void 0) { isNullable = false; }
        var _this = _super.call(this, targetVersion, propertyName, label, causesPropertySheetRefresh) || this;
        _this.targetVersion = targetVersion;
        _this.propertyName = propertyName;
        _this.label = label;
        _this.enumType = enumType;
        _this.causesPropertySheetRefresh = causesPropertySheetRefresh;
        _this.isNullable = isNullable;
        return _this;
    }
    EnumPropertyEditor.prototype.getPropertyValue = function (context) {
        var value = context.target[this.propertyName];
        return value !== undefined ? value : "-1";
    };
    EnumPropertyEditor.prototype.setPropertyValue = function (context, value) {
        var valueAsInt = parseInt(value, 10);
        if (valueAsInt >= 0) {
            context.target[this.propertyName] = valueAsInt;
        }
        else {
            context.target[this.propertyName] = undefined;
        }
    };
    EnumPropertyEditor.prototype.createInput = function (context) {
        var input = new Adaptive.ChoiceSetInput();
        input.isCompact = true;
        var defaultValue = this.getPropertyValue(context);
        input.defaultValue = defaultValue !== undefined ? defaultValue : "-1";
        if (this.isNullable) {
            input.choices.push(new Adaptive.Choice("(not set)", "-1"));
        }
        else {
            input.placeholder = "(not set)";
        }
        for (var key in this.enumType) {
            var v = parseInt(key, 10);
            if (!isNaN(v)) {
                input.choices.push(new Adaptive.Choice(this.enumType[key], key));
            }
        }
        return input;
    };
    return EnumPropertyEditor;
}(SingleInputPropertyEditor));
exports.EnumPropertyEditor = EnumPropertyEditor;
var NameValuePairPropertyEditor = /** @class */ (function (_super) {
    __extends(NameValuePairPropertyEditor, _super);
    function NameValuePairPropertyEditor(targetVersion, collectionPropertyName, namePropertyName, valuePropertyName, createCollectionItem, namePropertyLabel, valuePropertyLabel, addButtonTitle, messageIfEmpty) {
        if (namePropertyLabel === void 0) { namePropertyLabel = "Name"; }
        if (valuePropertyLabel === void 0) { valuePropertyLabel = "Value"; }
        if (addButtonTitle === void 0) { addButtonTitle = "Add"; }
        if (messageIfEmpty === void 0) { messageIfEmpty = "This collection is empty"; }
        var _this = _super.call(this, targetVersion) || this;
        _this.targetVersion = targetVersion;
        _this.collectionPropertyName = collectionPropertyName;
        _this.namePropertyName = namePropertyName;
        _this.valuePropertyName = valuePropertyName;
        _this.createCollectionItem = createCollectionItem;
        _this.namePropertyLabel = namePropertyLabel;
        _this.valuePropertyLabel = valuePropertyLabel;
        _this.addButtonTitle = addButtonTitle;
        _this.messageIfEmpty = messageIfEmpty;
        return _this;
    }
    NameValuePairPropertyEditor.prototype.collectionChanged = function (context, nameValuePairs, refreshPropertySheet) {
        context.target[this.collectionPropertyName] = [];
        for (var _i = 0, nameValuePairs_1 = nameValuePairs; _i < nameValuePairs_1.length; _i++) {
            var nameValuePair = nameValuePairs_1[_i];
            var item = this.createCollectionItem(nameValuePair.name, nameValuePair.value);
            context.target[this.collectionPropertyName].push(item);
        }
        context.peer.changed(refreshPropertySheet);
    };
    NameValuePairPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var result = new Adaptive.Container();
        var collection = context.target[this.collectionPropertyName];
        if (!Array.isArray(collection)) {
            throw new Error("The " + this.collectionPropertyName + " property on " + context.peer.getCardObject().getJsonTypeName() + " either doesn't exist or isn't an array.");
        }
        var nameValuePairs = [];
        for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {
            var pair = collection_1[_i];
            nameValuePairs.push({
                name: pair[this.namePropertyName],
                value: pair[this.valuePropertyName]
            });
        }
        if (nameValuePairs.length == 0) {
            var messageTextBlock = new Adaptive.TextBlock();
            messageTextBlock.spacing = Adaptive.Spacing.Small;
            messageTextBlock.text = this.messageIfEmpty;
            result.addItem(messageTextBlock);
        }
        else {
            var _loop_2 = function (i) {
                var textInput = new Adaptive.TextInput();
                textInput.placeholder = this_1.namePropertyLabel;
                textInput.defaultValue = nameValuePairs[i].name;
                textInput.onValueChanged = function (sender) {
                    nameValuePairs[i].name = sender.value;
                    _this.collectionChanged(context, nameValuePairs, false);
                };
                var nameColumn = new Adaptive.Column("stretch");
                nameColumn.addItem(textInput);
                textInput = new Adaptive.TextInput();
                textInput.placeholder = this_1.valuePropertyLabel;
                textInput.defaultValue = nameValuePairs[i].value;
                textInput.onValueChanged = function (sender) {
                    nameValuePairs[i].value = sender.value;
                    _this.collectionChanged(context, nameValuePairs, false);
                };
                var valueColumn = new Adaptive.Column("stretch");
                valueColumn.spacing = Adaptive.Spacing.Small;
                valueColumn.addItem(textInput);
                var removeAction = new Adaptive.SubmitAction();
                removeAction.title = "X";
                removeAction.tooltip = "Remove";
                removeAction.onExecute = function (sender) {
                    nameValuePairs.splice(i, 1);
                    _this.collectionChanged(context, nameValuePairs, true);
                };
                var actionSet_1 = new Adaptive.ActionSet();
                actionSet_1.addAction(removeAction);
                var removeColumn = new Adaptive.Column("auto");
                removeColumn.spacing = Adaptive.Spacing.Small;
                removeColumn.addItem(actionSet_1);
                var columnSet = new Adaptive.ColumnSet();
                columnSet.spacing = Adaptive.Spacing.Small;
                columnSet.addColumn(nameColumn);
                columnSet.addColumn(valueColumn);
                columnSet.addColumn(removeColumn);
                result.addItem(columnSet);
            };
            var this_1 = this;
            for (var i = 0; i < nameValuePairs.length; i++) {
                _loop_2(i);
            }
        }
        var addAction = new Adaptive.SubmitAction();
        addAction.title = this.addButtonTitle;
        addAction.onExecute = function (sender) {
            nameValuePairs.push({ name: "", value: "" });
            _this.collectionChanged(context, nameValuePairs, true);
        };
        var actionSet = new Adaptive.ActionSet();
        actionSet.spacing = Adaptive.Spacing.Small;
        actionSet.addAction(addAction);
        result.addItem(actionSet);
        return result;
    };
    return NameValuePairPropertyEditor;
}(PropertySheetEntry));
var DesignerPeer = /** @class */ (function (_super) {
    __extends(DesignerPeer, _super);
    function DesignerPeer(parent, designerSurface, registration, cardObject) {
        var _this = _super.call(this) || this;
        _this._children = [];
        _this._isSelected = false;
        _this._inplaceEditor = null;
        _this._parent = parent;
        _this.registration = registration;
        _this.designerSurface = designerSurface;
        _this._cardObject = cardObject;
        _this.treeItem = new designer_peer_treeitem_1.DesignerPeerTreeItem(_this, _this.isTreeItemExpandedByDefault);
        return _this;
    }
    DesignerPeer.prototype.closeInplaceEditor = function (applyChanges) {
        if (this._inplaceEditor) {
            if (applyChanges) {
                this._inplaceEditor.applyChanges();
                this.changed(true);
            }
            this._inplaceEditor = null;
            this._inplaceEditorOverlay.parentNode.removeChild(this._inplaceEditorOverlay);
        }
    };
    DesignerPeer.prototype.tryOpenInplaceEditor = function () {
        var _this = this;
        this._inplaceEditor = this.createInplaceEditor();
        if (this._inplaceEditor) {
            this._inplaceEditor.onClose = function (applyChanges) {
                _this.closeInplaceEditor(applyChanges);
            };
            this._inplaceEditorOverlay = document.createElement("div");
            this._inplaceEditorOverlay.tabIndex = 0;
            this._inplaceEditorOverlay.style.zIndex = "600";
            this._inplaceEditorOverlay.style.backgroundColor = "transparent";
            this._inplaceEditorOverlay.style.position = "absolute";
            this._inplaceEditorOverlay.style.left = "0";
            this._inplaceEditorOverlay.style.top = "0";
            this._inplaceEditorOverlay.style.width = document.documentElement.scrollWidth + "px";
            this._inplaceEditorOverlay.style.height = document.documentElement.scrollHeight + "px";
            this._inplaceEditorOverlay.onfocus = function (e) { _this.closeInplaceEditor(true); };
            var cardObjectBoundingRect = this.getCardObjectBoundingRect();
            var peerBoundingRect = this.getBoundingRect();
            var topPadding = peerBoundingRect.height - cardObjectBoundingRect.height;
            var inplaceEditorHost = document.createElement("div");
            inplaceEditorHost.className = "acd-inplace-editor-host";
            inplaceEditorHost.style.left = Math.floor(cardObjectBoundingRect.left + pageXOffset) + "px";
            inplaceEditorHost.style.top = Math.floor(cardObjectBoundingRect.top + pageYOffset - topPadding) + "px";
            inplaceEditorHost.style.width = Math.ceil(peerBoundingRect.width) + "px";
            inplaceEditorHost.style.height = Math.ceil(peerBoundingRect.height) + "px";
            inplaceEditorHost.style.paddingTop = topPadding + "px";
            var renderedInplaceEditor = this._inplaceEditor.render();
            renderedInplaceEditor.classList.add("acd-inplace-editor");
            renderedInplaceEditor.tabIndex = 0;
            renderedInplaceEditor.onblur = function (e) { _this.closeInplaceEditor(true); };
            inplaceEditorHost.appendChild(renderedInplaceEditor);
            this._inplaceEditorOverlay.appendChild(inplaceEditorHost);
            document.body.appendChild(this._inplaceEditorOverlay);
            this._inplaceEditor.initialize();
            return true;
        }
        return false;
    };
    DesignerPeer.prototype.click = function (e) {
        _super.prototype.click.call(this, e);
        this.isSelected = true;
    };
    DesignerPeer.prototype.doubleClick = function (e) {
        _super.prototype.doubleClick.call(this, e);
        this.tryOpenInplaceEditor();
    };
    DesignerPeer.prototype.isContainer = function () {
        return false;
    };
    DesignerPeer.prototype.getToolTip = function () {
        return null;
    };
    DesignerPeer.prototype.internalAddCommands = function (context, commands) {
        // Do nothing in base implementation
    };
    DesignerPeer.prototype.internalRender = function () {
        var element = document.createElement("div");
        element.classList.add("acd-peer");
        var toolTip = this.getToolTip();
        if (toolTip) {
            element.title = toolTip;
        }
        if (this.isContainer()) {
            element.classList.add("container");
        }
        element.style.position = "absolute";
        return element;
    };
    DesignerPeer.prototype.internalUpdateCssStyles = function () {
        if (this.isSelected) {
            this.renderedElement.classList.add("selected");
        }
        else {
            this.renderedElement.classList.remove("selected");
        }
        if (this.dragging) {
            this.renderedElement.classList.add("dragging");
        }
        else {
            this.renderedElement.classList.remove("dragging");
        }
    };
    DesignerPeer.prototype.peerAdded = function (newPeer) {
        this.changed(false);
        if (this.onPeerAdded) {
            this.onPeerAdded(this, newPeer);
        }
    };
    DesignerPeer.prototype.peerRemoved = function (peer) {
        if (this.onPeerRemoved) {
            this.onPeerRemoved(peer);
        }
    };
    DesignerPeer.prototype.internalUpdateLayout = function () {
        if (this.renderedElement) {
            var clientRect = this.getBoundingRect();
            this.renderedElement.style.width = clientRect.width + "px";
            this.renderedElement.style.height = clientRect.height + "px";
            this.renderedElement.style.left = clientRect.left + "px";
            this.renderedElement.style.top = clientRect.top + "px";
        }
    };
    DesignerPeer.prototype.createInplaceEditor = function () {
        return null;
    };
    DesignerPeer.prototype.internalGetTreeItemText = function () {
        return null;
    };
    DesignerPeer.prototype.getCardObject = function () {
        return this._cardObject;
    };
    DesignerPeer.prototype.updateChildren = function () {
        for (var i = 0; i < this.getChildCount(); i++) {
            this.getChildAt(i).updateChildren();
        }
    };
    DesignerPeer.prototype.changed = function (updatePropertySheet) {
        if (this.onChanged) {
            this.onChanged(this, updatePropertySheet);
        }
    };
    DesignerPeer.prototype.getTreeItemText = function () {
        return this.internalGetTreeItemText();
    };
    DesignerPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        // Do nothing in base implementation
    };
    DesignerPeer.prototype.canDrop = function (peer) {
        return false;
    };
    DesignerPeer.prototype.canBeRemoved = function () {
        return true;
    };
    DesignerPeer.prototype.tryDrop = function (peer, insertionPoint) {
        return false;
    };
    DesignerPeer.prototype.tryAdd = function (peer) {
        return false;
    };
    DesignerPeer.prototype.insertChild = function (peer, index) {
        if (index === void 0) { index = -1; }
        if (index == -1) {
            this._children.push(peer);
        }
        else {
            this._children.splice(index, 0, peer);
        }
        peer.parent = this;
        this.peerAdded(peer);
    };
    DesignerPeer.prototype.removeChild = function (peer) {
        var index = this._children.indexOf(peer);
        if (index >= 0) {
            peer.parent = null;
            this._children.splice(index, 1);
        }
    };
    DesignerPeer.prototype.getChildCount = function () {
        return this._children.length;
    };
    DesignerPeer.prototype.getChildAt = function (index) {
        return this._children[index];
    };
    DesignerPeer.prototype.getCommands = function (context, promoteParentCommands) {
        if (promoteParentCommands === void 0) { promoteParentCommands = false; }
        var result = [];
        this.internalAddCommands(context, result);
        if (promoteParentCommands && this.parent) {
            var parentCommands = this.parent.getCommands(context);
            for (var _i = 0, parentCommands_1 = parentCommands; _i < parentCommands_1.length; _i++) {
                var command = parentCommands_1[_i];
                if (command.isPromotable) {
                    result.push(command);
                }
            }
        }
        return result;
    };
    DesignerPeer.prototype.remove = function (onlyFromCard, removeChildren) {
        if (removeChildren) {
            while (this._children.length > 0) {
                this._children[0].remove(onlyFromCard, removeChildren);
            }
        }
        var result = this.internalRemove();
        if (result && !onlyFromCard) {
            if (this.parent) {
                this.parent.removeChild(this);
            }
            this.removeElementsFromDesignerSurface();
            this.peerRemoved(this);
        }
        return result;
    };
    DesignerPeer.prototype.addElementsToDesignerSurface = function (designerSurface, processChildren) {
        if (processChildren === void 0) { processChildren = false; }
        designerSurface.appendChild(this.renderedElement);
        if (processChildren) {
            for (var i = 0; i < this.getChildCount(); i++) {
                this.getChildAt(i).addElementsToDesignerSurface(designerSurface, processChildren);
            }
        }
    };
    DesignerPeer.prototype.removeElementsFromDesignerSurface = function (processChildren) {
        if (processChildren === void 0) { processChildren = false; }
        this.renderedElement.parentNode.removeChild(this.renderedElement);
        if (processChildren) {
            for (var i = 0; i < this.getChildCount(); i++) {
                this.getChildAt(i).removeElementsFromDesignerSurface(processChildren);
            }
        }
    };
    DesignerPeer.prototype.buildPropertySheetCard = function (context) {
        var card = new Adaptive.AdaptiveCard();
        card.padding = new Adaptive.PaddingDefinition(Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small, Adaptive.Spacing.Small);
        var propertySheet = new PropertySheet();
        this.populatePropertySheet(propertySheet);
        if (DesignerPeer.onPopulatePropertySheet) {
            DesignerPeer.onPopulatePropertySheet(this, propertySheet);
        }
        propertySheet.render(card, new PropertySheetContext(context, this));
        var actionSet = new Adaptive.ActionSet();
        var commands = this.getCommands(context, true);
        var _loop_3 = function (command) {
            if (command.showInPropertySheet) {
                var action_1 = new Adaptive.SubmitAction();
                action_1.title = command.name;
                action_1.onExecute = function (sender) {
                    command.execute(command, action_1.renderedElement);
                };
                actionSet.addAction(action_1);
            }
        };
        for (var _i = 0, commands_1 = commands; _i < commands_1.length; _i++) {
            var command = commands_1[_i];
            _loop_3(command);
        }
        actionSet.separator = true;
        card.addItem(actionSet);
        return card;
    };
    DesignerPeer.prototype.scrollIntoView = function () {
        if (this.renderedElement) {
            this.renderedElement.scrollIntoView();
        }
        if (this.treeItem && this.treeItem.renderedElement) {
            this.treeItem.renderedElement.scrollIntoView();
        }
    };
    Object.defineProperty(DesignerPeer.prototype, "isTreeItemExpandedByDefault", {
        get: function () {
            return true;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "parent", {
        get: function () {
            return this._parent;
        },
        set: function (value) {
            this._parent = value;
            if (this.onParentChanged) {
                this.onParentChanged(this);
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DesignerPeer.prototype, "isSelected", {
        get: function () {
            return this._isSelected;
        },
        set: function (value) {
            if (value != this._isSelected) {
                this._isSelected = value;
                this.updateLayout();
                this.treeItem.isSelected = this._isSelected;
                if (this.onSelectedChanged) {
                    this.onSelectedChanged(this);
                }
            }
        },
        enumerable: false,
        configurable: true
    });
    DesignerPeer.idProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "id", "Id");
    return DesignerPeer;
}(draggable_element_1.DraggableElement));
exports.DesignerPeer = DesignerPeer;
var ActionPeer = /** @class */ (function (_super) {
    __extends(ActionPeer, _super);
    function ActionPeer(parent, designerSurface, registration, action) {
        return _super.call(this, parent, designerSurface, registration, action) || this;
    }
    ActionPeer.prototype.doubleClick = function (e) {
        _super.prototype.doubleClick.call(this, e);
        this.action.renderedElement.click();
    };
    ActionPeer.prototype.internalRemove = function () {
        return this.action.remove();
    };
    ActionPeer.prototype.internalGetTreeItemText = function () {
        if (this.action.title && this.action.title != "") {
            return this.action.title;
        }
        else {
            return _super.prototype.internalGetTreeItemText.call(this);
        }
    };
    ActionPeer.prototype.isDraggable = function () {
        return false;
    };
    ActionPeer.prototype.getBoundingRect = function () {
        var designSurfaceOffset = this.designerSurface.getDesignerSurfaceOffset();
        var actionBoundingRect = this.action.renderedElement.getBoundingClientRect();
        return new miscellaneous_1.Rect(actionBoundingRect.top - designSurfaceOffset.y, actionBoundingRect.right - designSurfaceOffset.x, actionBoundingRect.bottom - designSurfaceOffset.y, actionBoundingRect.left - designSurfaceOffset.x);
    };
    ActionPeer.prototype.getCardObjectBoundingRect = function () {
        var actionBoundingRect = this.action.renderedElement.getBoundingClientRect();
        return new miscellaneous_1.Rect(actionBoundingRect.top, actionBoundingRect.right, actionBoundingRect.bottom, actionBoundingRect.left);
    };
    ActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ActionPeer.idProperty, ActionPeer.isEnabledProperty, ActionPeer.titleProperty, ActionPeer.tooltipProperty, ActionPeer.modeProperty, ActionPeer.styleProperty, ActionPeer.iconUrlProperty);
    };
    Object.defineProperty(ActionPeer.prototype, "action", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    var _a, _b, _c, _d, _e;
    ActionPeer.titleProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "title", "Title", true);
    ActionPeer.modeProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_5, "mode", "Mode", [
        { targetVersion: Adaptive.Versions.v1_5, name: "Primary", value: (_a = Adaptive.ActionMode) === null || _a === void 0 ? void 0 : _a.Primary },
        { targetVersion: Adaptive.Versions.v1_5, name: "Secondary", value: (_b = Adaptive.ActionMode) === null || _b === void 0 ? void 0 : _b.Secondary }
    ]);
    ActionPeer.styleProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_2, "style", "Style", [
        { targetVersion: Adaptive.Versions.v1_2, name: "Default", value: (_c = Adaptive.ActionStyle) === null || _c === void 0 ? void 0 : _c.Default },
        { targetVersion: Adaptive.Versions.v1_2, name: "Positive", value: (_d = Adaptive.ActionStyle) === null || _d === void 0 ? void 0 : _d.Positive },
        { targetVersion: Adaptive.Versions.v1_2, name: "Destructive", value: (_e = Adaptive.ActionStyle) === null || _e === void 0 ? void 0 : _e.Destructive }
    ]);
    ActionPeer.iconUrlProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "iconUrl", "Icon URL");
    ActionPeer.tooltipProperty = new StringPropertyEditor(Adaptive.Versions.v1_5, "tooltip", "Tooltip");
    ActionPeer.isEnabledProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "isEnabled", "Enabled");
    return ActionPeer;
}(DesignerPeer));
exports.ActionPeer = ActionPeer;
var TypedActionPeer = /** @class */ (function (_super) {
    __extends(TypedActionPeer, _super);
    function TypedActionPeer(parent, designerSurface, registration, action) {
        return _super.call(this, parent, designerSurface, registration, action) || this;
    }
    Object.defineProperty(TypedActionPeer.prototype, "action", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    return TypedActionPeer;
}(ActionPeer));
exports.TypedActionPeer = TypedActionPeer;
var HttpActionPeer = /** @class */ (function (_super) {
    __extends(HttpActionPeer, _super);
    function HttpActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HttpActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.DefaultCategory, HttpActionPeer.ignoreInputValidationProperty);
        propertySheet.add(defaultCategory, HttpActionPeer.methodProperty, HttpActionPeer.urlProperty);
        if (this.action.method == "POST") {
            propertySheet.add(defaultCategory, HttpActionPeer.bodyProperty);
        }
        propertySheet.add("HTTP headers", HttpActionPeer.headersProperty);
    };
    HttpActionPeer.ignoreInputValidationProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_3, "ignoreInputValidation", "Ignore input validation");
    HttpActionPeer.methodProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_0, "method", "Method", [
        { targetVersion: Adaptive.Versions.v1_0, name: "GET", value: "GET" },
        { targetVersion: Adaptive.Versions.v1_0, name: "POST", value: "POST" }
    ], true);
    HttpActionPeer.urlProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "Url");
    HttpActionPeer.bodyProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "body", "Body", false, true);
    HttpActionPeer.headersProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_0, "headers", "name", "value", function (name, value) { return new Adaptive.HttpHeader(name, value); }, "Name", "Value", "Add a new header", "This action has no header.");
    return HttpActionPeer;
}(TypedActionPeer));
exports.HttpActionPeer = HttpActionPeer;
var BaseSubmitActionPeer = /** @class */ (function (_super) {
    __extends(BaseSubmitActionPeer, _super);
    function BaseSubmitActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BaseSubmitActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, BaseSubmitActionPeer.dataProperty, BaseSubmitActionPeer.associatedInputsProperty);
    };
    BaseSubmitActionPeer.dataProperty = new ObjectPropertyEditor(Adaptive.Versions.v1_0, "data", "Data");
    BaseSubmitActionPeer.associatedInputsProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_3, "associatedInputs", "Associated inputs", [
        { targetVersion: Adaptive.Versions.v1_3, name: "Automatic", value: "auto" },
        { targetVersion: Adaptive.Versions.v1_3, name: "None", value: "none" }
    ]);
    return BaseSubmitActionPeer;
}(TypedActionPeer));
exports.BaseSubmitActionPeer = BaseSubmitActionPeer;
var SubmitActionPeer = /** @class */ (function (_super) {
    __extends(SubmitActionPeer, _super);
    function SubmitActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return SubmitActionPeer;
}(BaseSubmitActionPeer));
exports.SubmitActionPeer = SubmitActionPeer;
var ExecuteActionPeer = /** @class */ (function (_super) {
    __extends(ExecuteActionPeer, _super);
    function ExecuteActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ExecuteActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ExecuteActionPeer.verbProperty);
    };
    ExecuteActionPeer.verbProperty = new StringPropertyEditor(Adaptive.Versions.v1_4, "verb", "Verb");
    return ExecuteActionPeer;
}(BaseSubmitActionPeer));
exports.ExecuteActionPeer = ExecuteActionPeer;
var OpenUrlActionPeer = /** @class */ (function (_super) {
    __extends(OpenUrlActionPeer, _super);
    function OpenUrlActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OpenUrlActionPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, OpenUrlActionPeer.urlProperty);
    };
    OpenUrlActionPeer.urlProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "Url");
    return OpenUrlActionPeer;
}(TypedActionPeer));
exports.OpenUrlActionPeer = OpenUrlActionPeer;
var ShowCardActionPeer = /** @class */ (function (_super) {
    __extends(ShowCardActionPeer, _super);
    function ShowCardActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ShowCardActionPeer.prototype.getToolTip = function () {
        return "Double click to open/close";
    };
    return ShowCardActionPeer;
}(TypedActionPeer));
exports.ShowCardActionPeer = ShowCardActionPeer;
var ToggleVisibilityActionPeer = /** @class */ (function (_super) {
    __extends(ToggleVisibilityActionPeer, _super);
    function ToggleVisibilityActionPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return ToggleVisibilityActionPeer;
}(TypedActionPeer));
exports.ToggleVisibilityActionPeer = ToggleVisibilityActionPeer;
var CardElementPeer = /** @class */ (function (_super) {
    __extends(CardElementPeer, _super);
    function CardElementPeer(parent, designerSurface, registration, cardElement, initializeCardElement) {
        var _this = _super.call(this, parent, designerSurface, registration, cardElement) || this;
        if (initializeCardElement === true) {
            _this.initializeCardElement();
        }
        _this.updateChildren();
        return _this;
    }
    CardElementPeer.prototype.insertElementAfter = function (newElement) {
        if (this.cardElement.parent instanceof Adaptive.Container) {
            this.cardElement.parent.insertItemAfter(newElement, this.cardElement);
            var newPeer = card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(this.designerSurface, this, newElement);
            this.peerAdded(newPeer);
        }
    };
    CardElementPeer.prototype.internalRemove = function () {
        return this.cardElement.remove();
    };
    CardElementPeer.prototype.internalUpdateCssStyles = function () {
        _super.prototype.internalUpdateCssStyles.call(this);
        if (this.cardElement.isVisible) {
            this.renderedElement.classList.remove("invisible");
        }
        else {
            this.renderedElement.classList.add("invisible");
        }
    };
    CardElementPeer.prototype.findCardElementChild = function (element) {
        for (var i = 0; i < this.getChildCount(); i++) {
            var peer = this.getChildAt(i);
            if (peer instanceof CardElementPeer && peer.cardElement === element) {
                return peer;
            }
        }
        return undefined;
    };
    CardElementPeer.prototype.findActionChild = function (action) {
        for (var i = 0; i < this.getChildCount(); i++) {
            var peer = this.getChildAt(i);
            if (peer instanceof ActionPeer && peer.action === action) {
                return peer;
            }
        }
        return undefined;
    };
    CardElementPeer.prototype.updateChildren = function (initializeCardElement) {
        for (var i = 0; i < this.getChildCount(); i++) {
            var existingPeer = this.getChildAt(i);
            if (existingPeer instanceof CardElementPeer && this.cardElement.indexOf(existingPeer.cardElement) < 0) {
                this.removeChild(existingPeer);
            }
            if (existingPeer instanceof ActionPeer && this.cardElement.indexOfAction(existingPeer.action) < 0) {
                this.removeChild(existingPeer);
            }
        }
        var itemCount = 0;
        if (this.cardElement instanceof Adaptive.CardElementContainer) {
            itemCount = this.cardElement.getItemCount();
            for (var i = 0; i < itemCount; i++) {
                var existingPeer = this.findCardElementChild(this.cardElement.getItemAt(i));
                if (!existingPeer) {
                    this.insertChild(card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(this.designerSurface, this, this.cardElement.getItemAt(i), initializeCardElement), i);
                }
            }
        }
        for (var i = 0; i < this.cardElement.getActionCount(); i++) {
            var existingPeer = this.findActionChild(this.cardElement.getActionAt(i));
            if (!existingPeer) {
                this.insertChild(card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(this.designerSurface, this, this.cardElement.getActionAt(i)), itemCount + i);
            }
        }
        _super.prototype.updateChildren.call(this);
    };
    CardElementPeer.prototype.getTreeItemText = function () {
        var text = _super.prototype.getTreeItemText.call(this);
        if (this.cardElement.isVisible) {
            return text;
        }
        else {
            var result = "Hidden";
            if (text) {
                result += " - " + text;
            }
            return result;
        }
    };
    CardElementPeer.prototype.initializeCardElement = function () {
        // Do nothing in base implementation
    };
    CardElementPeer.prototype.canDrop = function (peer) {
        return this.cardElement instanceof Adaptive.Container && peer instanceof CardElementPeer;
    };
    CardElementPeer.prototype.tryDrop = function (peer, insertionPoint) {
        if (this.cardElement instanceof Adaptive.Container && peer instanceof CardElementPeer) {
            var targetChild = null;
            var insertAfter = void 0;
            for (var i = 0; i < this.getChildCount(); i++) {
                var rect = this.getChildAt(i).getBoundingRect();
                if (rect.isInside(insertionPoint)) {
                    targetChild = this.getChildAt(i);
                    insertAfter = (insertionPoint.y - rect.top) >= (rect.height / 2);
                    break;
                }
            }
            if (targetChild != peer) {
                if (peer.cardElement.parent) {
                    if (!peer.remove(true, false)) {
                        return false;
                    }
                    peer.parent.removeChild(peer);
                }
                if (!targetChild) {
                    var rect = this.getBoundingRect();
                    insertAfter = (insertionPoint.y - rect.top) >= (rect.height / 2);
                    if (this.cardElement.getItemCount() > 0 && insertAfter) {
                        this.cardElement.insertItemAfter(peer.cardElement, this.cardElement.getItemAt(this.cardElement.getItemCount() - 1));
                    }
                    else {
                        this.cardElement.insertItemAfter(peer.cardElement, null);
                    }
                }
                else {
                    if (insertAfter) {
                        this.cardElement.insertItemAfter(peer.cardElement, targetChild.cardElement);
                    }
                    else {
                        this.cardElement.insertItemBefore(peer.cardElement, targetChild.cardElement);
                    }
                }
                this.insertChild(peer, peer.cardElement.index);
                this.changed(false);
                return true;
            }
        }
        return false;
    };
    CardElementPeer.prototype.tryAdd = function (peer) {
        if (this.cardElement instanceof Adaptive.Container && peer instanceof CardElementPeer) {
            if (peer.cardElement.parent) {
                if (!peer.remove(true, false)) {
                    return false;
                }
                peer.parent.removeChild(peer);
            }
            this.cardElement.addItem(peer.cardElement);
            this.insertChild(peer, peer.cardElement.index);
            this.changed(false);
            return true;
        }
        return false;
    };
    CardElementPeer.prototype.getBoundingRect = function () {
        var designSurfaceOffset = this.designerSurface.getDesignerSurfaceOffset();
        var cardElementBoundingRect = this.cardElement.renderedElement.getBoundingClientRect();
        if (this.cardElement.hasVisibleSeparator) {
            var separatorBoundingRect = this.cardElement.separatorElement.getBoundingClientRect();
            return new miscellaneous_1.Rect(Math.min(separatorBoundingRect.top, cardElementBoundingRect.top) - designSurfaceOffset.y, Math.max(separatorBoundingRect.right, cardElementBoundingRect.right) - designSurfaceOffset.x, Math.max(separatorBoundingRect.bottom, cardElementBoundingRect.bottom) - designSurfaceOffset.y, Math.min(separatorBoundingRect.left, cardElementBoundingRect.left) - designSurfaceOffset.x);
        }
        else {
            return new miscellaneous_1.Rect(cardElementBoundingRect.top - designSurfaceOffset.y, cardElementBoundingRect.right - designSurfaceOffset.x, cardElementBoundingRect.bottom - designSurfaceOffset.y, cardElementBoundingRect.left - designSurfaceOffset.x);
        }
    };
    CardElementPeer.prototype.getCardObjectBoundingRect = function () {
        var cardElementBoundingRect = this.cardElement.renderedElement.getBoundingClientRect();
        return new miscellaneous_1.Rect(cardElementBoundingRect.top, cardElementBoundingRect.right, cardElementBoundingRect.bottom, cardElementBoundingRect.left);
    };
    CardElementPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        if (shared_1.GlobalSettings.enableDataBindingSupport) {
            propertySheet.add(defaultCategory, CardElementPeer.dataContextProperty, CardElementPeer.whenProperty);
        }
        propertySheet.add(defaultCategory, CardElementPeer.idProperty, CardElementPeer.isVisibleProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, CardElementPeer.spacingProperty, CardElementPeer.separatorProperty, CardElementPeer.horizontalAlignmentProperty, CardElementPeer.heightProperty);
    };
    Object.defineProperty(CardElementPeer.prototype, "cardElement", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    CardElementPeer.dataContextProperty = new CustomCardObjectPropertyEditor("*", "$data", "Data context", true);
    CardElementPeer.whenProperty = new CustomCardObjectPropertyEditor("*", "$when", "Only show when", true);
    CardElementPeer.idProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "id", "Id");
    CardElementPeer.isVisibleProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "isVisible", "Initially visible");
    CardElementPeer.spacingProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "spacing", "Spacing", Adaptive.Spacing);
    CardElementPeer.separatorProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "separator", "Separator");
    CardElementPeer.horizontalAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "horizontalAlignment", "Horizontal alignment", Adaptive.HorizontalAlignment);
    CardElementPeer.heightProperty = new HeightPropertyEditor(Adaptive.Versions.v1_1, "height", "Height", [
        { targetVersion: Adaptive.Versions.v1_1, name: "Automatic", value: "auto" },
        { targetVersion: Adaptive.Versions.v1_1, name: "Stretch", value: "stretch" }
    ]);
    return CardElementPeer;
}(DesignerPeer));
exports.CardElementPeer = CardElementPeer;
var TypedCardElementPeer = /** @class */ (function (_super) {
    __extends(TypedCardElementPeer, _super);
    function TypedCardElementPeer(parent, designerSurface, registration, cardElement, initializeCardElement) {
        return _super.call(this, parent, designerSurface, registration, cardElement, initializeCardElement) || this;
    }
    Object.defineProperty(TypedCardElementPeer.prototype, "cardElement", {
        get: function () {
            return this.getCardObject();
        },
        enumerable: false,
        configurable: true
    });
    return TypedCardElementPeer;
}(CardElementPeer));
exports.TypedCardElementPeer = TypedCardElementPeer;
var AdaptiveCardPeer = /** @class */ (function (_super) {
    __extends(AdaptiveCardPeer, _super);
    function AdaptiveCardPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AdaptiveCardPeer.prototype.addAction = function (action) {
        this.cardElement.addAction(action);
        this.insertChild(card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(this.designerSurface, this, action));
    };
    AdaptiveCardPeer.prototype.internalRemove = function () {
        return true;
    };
    AdaptiveCardPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        var availableActions = [];
        for (var i = 0; i < context.hostContainer.actionsRegistry.getItemCount(); i++) {
            var typeRegistration = context.hostContainer.actionsRegistry.getItemAt(i);
            if (typeRegistration.schemaVersion.compareTo(context.targetVersion) <= 0) {
                availableActions.push(typeRegistration);
            }
        }
        if (availableActions.length > 0) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Add an action",
                alwaysShowName: true,
                iconClass: "acd-icon-bolt",
                showInPropertySheet: true,
                execute: function (command, clickedElement) {
                    var popupMenu = new Controls.PopupMenu();
                    var _loop_4 = function (i) {
                        var menuItem = new Controls.DropDownItem(i.toString(), availableActions[i].typeName);
                        menuItem.onClick = function (clickedItem) {
                            var registration = availableActions[i];
                            var action = new registration.objectType();
                            action.title = registration.typeName;
                            _this.addAction(action);
                            popupMenu.closePopup(false);
                        };
                        popupMenu.items.add(menuItem);
                    };
                    for (var i = 0; i < availableActions.length; i++) {
                        _loop_4(i);
                    }
                    popupMenu.popup(clickedElement);
                }
            }));
        }
    };
    AdaptiveCardPeer.prototype.isDraggable = function () {
        return false;
    };
    AdaptiveCardPeer.prototype.canBeRemoved = function () {
        return false;
    };
    AdaptiveCardPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.remove(DesignerPeer.idProperty, CardElementPeer.isVisibleProperty, CardElementPeer.horizontalAlignmentProperty, CardElementPeer.separatorProperty, CardElementPeer.heightProperty, CardElementPeer.spacingProperty);
        propertySheet.add(defaultCategory, AdaptiveCardPeer.langProperty, AdaptiveCardPeer.fallbackTextProperty, AdaptiveCardPeer.speakProperty);
        propertySheet.add(PropertySheetCategory.Refresh, AdaptiveCardPeer.refreshProperty);
        if (this.cardElement.refresh && this.cardElement.refresh.action) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_4, this, this.cardElement.refresh.action, PropertySheetCategory.Refresh, [BaseSubmitActionPeer.associatedInputsProperty, ActionPeer.iconUrlProperty, ActionPeer.styleProperty, ActionPeer.modeProperty]);
        }
        propertySheet.add(PropertySheetCategory.LayoutCategory, ContainerPeer.minHeightProperty, ContainerPeer.verticalContentAlignmentProperty);
        propertySheet.add("Background image", ContainerPeer.backgroundImageProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    AdaptiveCardPeer.langProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "lang", "Language");
    AdaptiveCardPeer.fallbackTextProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "fallbackText", "Fallback text", false, true);
    AdaptiveCardPeer.speakProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "speak", "Speak");
    AdaptiveCardPeer.refreshProperty = new CompoundPropertyEditor(Adaptive.Versions.v1_4, "refresh", [
        new StringArrayPropertyEditor(Adaptive.Versions.v1_4, "userIds", "User IDs", false, true),
        new ActionPropertyEditor(Adaptive.Versions.v1_4, "action", "Action", ["*", "-Action.Execute"], true)
    ], function () { return new Adaptive.RefreshDefinition(); });
    return AdaptiveCardPeer;
}(TypedCardElementPeer));
exports.AdaptiveCardPeer = AdaptiveCardPeer;
var ColumnPeer = /** @class */ (function (_super) {
    __extends(ColumnPeer, _super);
    function ColumnPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ColumnPeer.prototype.isContainer = function () {
        return true;
    };
    ColumnPeer.prototype.internalGetTreeItemText = function () {
        if (this.cardElement.width instanceof Adaptive.SizeAndUnit) {
            switch (this.cardElement.width.unit) {
                case Adaptive.SizeUnit.Weight:
                    return "Weight: " + this.cardElement.width.physicalSize;
                default:
                    return this.cardElement.width.physicalSize + " pixels";
            }
        }
        else {
            switch (this.cardElement.width) {
                case "stretch":
                    return "Stretch";
                case "auto":
                    return "Automatic";
                default:
                    return "";
            }
        }
    };
    ColumnPeer.prototype.isDraggable = function () {
        return false;
    };
    ColumnPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ColumnPeer.widthProperty);
        if (this.cardElement.width instanceof Adaptive.SizeAndUnit) {
            if (this.cardElement.width.unit == Adaptive.SizeUnit.Pixel) {
                propertySheet.add(PropertySheetCategory.LayoutCategory, ColumnPeer.pixelWidthProperty);
            }
            else {
                propertySheet.add(PropertySheetCategory.LayoutCategory, ColumnPeer.weightProperty);
            }
        }
        propertySheet.add(PropertySheetCategory.LayoutCategory, ContainerPeer.minHeightProperty, ContainerPeer.verticalContentAlignmentProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, ContainerPeer.styleProperty, ContainerPeer.bleedProperty);
        propertySheet.add("Background image", ContainerPeer.backgroundImageProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    ColumnPeer.pixelWidthProperty = new SizeAndUnitPropertyEditor(Adaptive.Versions.v1_1, "width", "Width in pixels", Adaptive.SizeUnit.Pixel);
    ColumnPeer.weightProperty = new SizeAndUnitPropertyEditor(Adaptive.Versions.v1_0, "width", "Weight", Adaptive.SizeUnit.Weight);
    ColumnPeer.widthProperty = new ColumnWidthPropertyEditor(Adaptive.Versions.v1_0, "width", "Width", [
        { targetVersion: Adaptive.Versions.v1_0, name: "Automatic", value: "auto" },
        { targetVersion: Adaptive.Versions.v1_0, name: "Stretch", value: "stretch" },
        { targetVersion: Adaptive.Versions.v1_0, name: "Weighted", value: "weighted" },
        { targetVersion: Adaptive.Versions.v1_1, name: "Pixels", value: "pixels" }
    ], true);
    return ColumnPeer;
}(TypedCardElementPeer));
exports.ColumnPeer = ColumnPeer;
var ColumnSetPeer = /** @class */ (function (_super) {
    __extends(ColumnSetPeer, _super);
    function ColumnSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ColumnSetPeer.prototype.isContainer = function () {
        return true;
    };
    ColumnSetPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add a column",
            iconClass: "acd-icon-addColumn",
            isPromotable: true,
            execute: function (command, clickedElement) {
                var column = new Adaptive.Column();
                column.width = "stretch";
                _this.cardElement.addColumn(column);
                _this.insertChild(card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(_this.designerSurface, _this, column));
            }
        }));
    };
    ColumnSetPeer.prototype.internalGetTreeItemText = function () {
        var columnCount = this.cardElement.getItemCount();
        switch (columnCount) {
            case 0:
                return "No column";
            case 1:
                return "1 column";
            default:
                return columnCount + " columns";
        }
    };
    ColumnSetPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ContainerPeer.minHeightProperty, ContainerPeer.styleProperty, ContainerPeer.bleedProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    ColumnSetPeer.prototype.canDrop = function (peer) {
        return true;
    };
    return ColumnSetPeer;
}(TypedCardElementPeer));
exports.ColumnSetPeer = ColumnSetPeer;
var ContainerPeer = /** @class */ (function (_super) {
    __extends(ContainerPeer, _super);
    function ContainerPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ContainerPeer.prototype.isContainer = function () {
        return true;
    };
    ContainerPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ContainerPeer.minHeightProperty, ContainerPeer.verticalContentAlignmentProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, ContainerPeer.styleProperty, ContainerPeer.bleedProperty);
        propertySheet.add("Background image", ContainerPeer.backgroundImageProperty);
        propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
        if (this.cardElement.selectAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
        }
    };
    ContainerPeer.selectActionProperty = new ActionPropertyEditor(Adaptive.Versions.v1_1, "selectAction", "Action type", [Adaptive.ShowCardAction.JsonTypeName], true);
    ContainerPeer.minHeightProperty = new NumberPropertyEditor(Adaptive.Versions.v1_2, "minPixelHeight", "Minimum height in pixels");
    ContainerPeer.verticalContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_1, "verticalContentAlignment", "Vertical content alignment", Adaptive.VerticalAlignment);
    ContainerPeer.styleProperty = new ContainerStylePropertyEditor(Adaptive.Versions.v1_0, "style", "Style");
    ContainerPeer.bleedProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "bleed", "Bleed");
    ContainerPeer.backgroundImageProperty = new CompoundPropertyEditor(Adaptive.Versions.v1_0, "backgroundImage", [
        new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "URL", true),
        new EnumPropertyEditor(Adaptive.Versions.v1_2, "fillMode", "Fill mode", Adaptive.FillMode),
        new EnumPropertyEditor(Adaptive.Versions.v1_2, "horizontalAlignment", "Horizontal alignment", Adaptive.HorizontalAlignment),
        new EnumPropertyEditor(Adaptive.Versions.v1_2, "verticalAlignment", "Vertical alignment", Adaptive.VerticalAlignment)
    ]);
    return ContainerPeer;
}(TypedCardElementPeer));
exports.ContainerPeer = ContainerPeer;
var ActionSetPeer = /** @class */ (function (_super) {
    __extends(ActionSetPeer, _super);
    function ActionSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ActionSetPeer.prototype.addAction = function (action) {
        this.cardElement.addAction(action);
        this.insertChild(card_designer_surface_1.CardDesignerSurface.actionPeerRegistry.createPeerInstance(this.designerSurface, this, action));
    };
    ActionSetPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        var availableActions = [];
        for (var i = 0; i < context.hostContainer.actionsRegistry.getItemCount(); i++) {
            var typeRegistration = context.hostContainer.actionsRegistry.getItemAt(i);
            if (typeRegistration.schemaVersion.compareTo(context.targetVersion) <= 0) {
                availableActions.push(typeRegistration);
            }
        }
        if (availableActions.length > 0) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Add an action",
                alwaysShowName: true,
                iconClass: "acd-icon-bolt",
                showInPropertySheet: true,
                execute: function (command, clickedElement) {
                    var popupMenu = new Controls.PopupMenu();
                    var _loop_5 = function (i) {
                        var menuItem = new Controls.DropDownItem(i.toString(), availableActions[i].typeName);
                        menuItem.onClick = function (clickedItem) {
                            var registration = availableActions[i];
                            var action = new registration.objectType();
                            action.title = registration.typeName;
                            _this.addAction(action);
                            popupMenu.closePopup(false);
                        };
                        popupMenu.items.add(menuItem);
                    };
                    for (var i = 0; i < availableActions.length; i++) {
                        _loop_5(i);
                    }
                    popupMenu.popup(clickedElement);
                }
            }));
        }
    };
    return ActionSetPeer;
}(TypedCardElementPeer));
exports.ActionSetPeer = ActionSetPeer;
var ImageSetPeer = /** @class */ (function (_super) {
    __extends(ImageSetPeer, _super);
    function ImageSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ImageSetPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add an image",
            iconClass: "acd-icon-image",
            isPromotable: true,
            execute: function (command, clickedElement) {
                var newImage = new Adaptive.Image();
                _this.cardElement.addImage(newImage);
                _this.insertChild(card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(_this.designerSurface, _this, newImage));
            }
        }));
    };
    ImageSetPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ImageSetPeer.ImageSizeProperty);
    };
    ImageSetPeer.ImageSizeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "imageSize", "Image size", Adaptive.ImageSize);
    return ImageSetPeer;
}(TypedCardElementPeer));
exports.ImageSetPeer = ImageSetPeer;
var ImagePeer = /** @class */ (function (_super) {
    __extends(ImagePeer, _super);
    function ImagePeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(ImagePeer.prototype, "isParentImageSet", {
        get: function () {
            return this.parent && this.parent instanceof ImageSetPeer;
        },
        enumerable: false,
        configurable: true
    });
    ImagePeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        if (shared_1.GlobalSettings.enableDataBindingSupport && context.dataStructure) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Bind...",
                alwaysShowName: true,
                toolTip: "Select a data field to bind this Image to.",
                execute: function (command, clickedElement) {
                    var fieldPicker = new field_picker_1.FieldPicker(context.dataStructure);
                    fieldPicker.onClose = function (sender, wasCancelled) {
                        if (!wasCancelled) {
                            _this.cardElement.url = fieldPicker.selectedField.asExpression();
                            _this.changed(true);
                        }
                    };
                    fieldPicker.popup(clickedElement);
                }
            }));
        }
    };
    ImagePeer.prototype.isDraggable = function () {
        return !this.isParentImageSet;
    };
    ImagePeer.prototype.getBoundingRect = function () {
        if (this.isParentImageSet) {
            var designSurfaceOffset = this.designerSurface.getDesignerSurfaceOffset();
            var actionBoundingRect = this.cardElement.renderedElement.getBoundingClientRect();
            return new miscellaneous_1.Rect(actionBoundingRect.top - designSurfaceOffset.y, actionBoundingRect.right - designSurfaceOffset.x, actionBoundingRect.bottom - designSurfaceOffset.y, actionBoundingRect.left - designSurfaceOffset.x);
        }
        else {
            return _super.prototype.getBoundingRect.call(this);
        }
    };
    ImagePeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ImagePeer.urlProperty, ImagePeer.altTextProperty);
        if (!this.isParentImageSet) {
            propertySheet.add(PropertySheetCategory.LayoutCategory, ImagePeer.sizeProperty, ImagePeer.pixelWidthProperty, ImagePeer.pixelHeightProperty);
            propertySheet.add(PropertySheetCategory.StyleCategory, ImagePeer.styleProperty, ImagePeer.backgroundColorProperty);
            propertySheet.add(PropertySheetCategory.SelectionAction, ContainerPeer.selectActionProperty);
            if (this.cardElement.selectAction) {
                propertySheet.addActionProperties(Adaptive.Versions.v1_0, this, this.cardElement.selectAction, PropertySheetCategory.SelectionAction);
            }
        }
    };
    ImagePeer.urlProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "url", "Url", true);
    ImagePeer.altTextProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "altText", "Alternate text", true);
    ImagePeer.sizeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "size", "Size", Adaptive.Size);
    ImagePeer.pixelWidthProperty = new NumberPropertyEditor(Adaptive.Versions.v1_1, "pixelWidth", "Width in pixels");
    ImagePeer.pixelHeightProperty = new NumberPropertyEditor(Adaptive.Versions.v1_1, "pixelHeight", "Height in pixels");
    ImagePeer.styleProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "style", "Style", Adaptive.ImageStyle);
    ImagePeer.backgroundColorProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "backgroundColor", "Background color");
    return ImagePeer;
}(TypedCardElementPeer));
exports.ImagePeer = ImagePeer;
var MediaPeer = /** @class */ (function (_super) {
    __extends(MediaPeer, _super);
    function MediaPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    MediaPeer.prototype.internalGetTreeItemText = function () {
        if (this.cardElement.selectedMediaType == "audio") {
            return "audio";
        }
        else if (this.cardElement.selectedMediaType == "video") {
            return "video";
        }
        else {
            return _super.prototype.internalGetTreeItemText.call(this);
        }
    };
    MediaPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, MediaPeer.altTextProperty, MediaPeer.posterUrlProperty);
        propertySheet.add("Sources", MediaPeer.sourcesProperty);
    };
    MediaPeer.altTextProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "altText", "Alternate text", true);
    MediaPeer.posterUrlProperty = new StringPropertyEditor(Adaptive.Versions.v1_1, "posterUrl", "Poster URL", true);
    MediaPeer.sourcesProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_1, "sources", "url", "mimeType", function (name, value) { return new Adaptive.MediaSource(name, value); }, "URL", "MIME type", "Add a new source", "No source has been defined.");
    return MediaPeer;
}(TypedCardElementPeer));
exports.MediaPeer = MediaPeer;
var FactSetPeer = /** @class */ (function (_super) {
    __extends(FactSetPeer, _super);
    function FactSetPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FactSetPeer.prototype.internalGetTreeItemText = function () {
        if (this.cardElement.facts.length == 0) {
            return "No fact";
        }
        var allNames = this.cardElement.facts.map(function (value, index, array) {
            return value.name;
        });
        return allNames.join(", ");
    };
    FactSetPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.facts.push(new Adaptive.Fact("Fact 1", "Value 1"), new Adaptive.Fact("Fact 2", "Value 2"));
    };
    FactSetPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add("Facts", FactSetPeer.factsProperty);
        propertySheet.remove(CardElementPeer.horizontalAlignmentProperty);
    };
    FactSetPeer.factsProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_0, "facts", "name", "value", function (name, value) { return new Adaptive.Fact(name, value); }, "Name", "Value", "Add a new fact", "This FactSet is empty.");
    return FactSetPeer;
}(TypedCardElementPeer));
exports.FactSetPeer = FactSetPeer;
var InputPeer = /** @class */ (function (_super) {
    __extends(InputPeer, _super);
    function InputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InputPeer.prototype.internalGetTreeItemText = function () {
        return this.cardElement.id ? this.cardElement.id : _super.prototype.internalGetTreeItemText.call(this);
    };
    InputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, InputPeer.labelProperty);
        propertySheet.add(PropertySheetCategory.Validation, InputPeer.isRequiredProperty, InputPeer.errorMessageProperty);
        propertySheet.remove(CardElementPeer.horizontalAlignmentProperty, CardElementPeer.heightProperty);
    };
    InputPeer.labelProperty = new StringPropertyEditor(Adaptive.Versions.v1_3, "label", "Label");
    InputPeer.isRequiredProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_3, "isRequired", "Required");
    InputPeer.errorMessageProperty = new StringPropertyEditor(Adaptive.Versions.v1_3, "errorMessage", "Error message");
    return InputPeer;
}(TypedCardElementPeer));
exports.InputPeer = InputPeer;
var TextInputPeer = /** @class */ (function (_super) {
    __extends(TextInputPeer, _super);
    function TextInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TextInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TextInputPeer.placeholderProperty, TextInputPeer.isMultilineProperty);
        if (!this.cardElement.isMultiline) {
            propertySheet.add(PropertySheetCategory.DefaultCategory, TextInputPeer.styleProperty);
        }
        else {
            propertySheet.add(PropertySheetCategory.LayoutCategory, CardElementPeer.heightProperty);
        }
        propertySheet.add(PropertySheetCategory.InlineAction, TextInputPeer.inlineActionProperty);
        if (this.cardElement.inlineAction) {
            propertySheet.addActionProperties(Adaptive.Versions.v1_2, this, this.cardElement.inlineAction, PropertySheetCategory.InlineAction, [ActionPeer.styleProperty, ActionPeer.modeProperty]);
        }
        propertySheet.add(defaultCategory, TextInputPeer.maxLengthProperty, TextInputPeer.defaultValueProperty);
        propertySheet.add(PropertySheetCategory.Validation, TextInputPeer.regexProperty);
    };
    TextInputPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.placeholder = "Placeholder text";
    };
    TextInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    TextInputPeer.placeholderProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "placeholder", "Placeholder");
    TextInputPeer.isMultilineProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "isMultiline", "Multi-line", true);
    TextInputPeer.styleProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "style", "Style", Adaptive.InputTextStyle);
    TextInputPeer.maxLengthProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "maxLength", "Maximum length");
    TextInputPeer.inlineActionProperty = new ActionPropertyEditor(Adaptive.Versions.v1_2, "inlineAction", "Action type", [Adaptive.ShowCardAction.JsonTypeName], true);
    TextInputPeer.regexProperty = new StringPropertyEditor(Adaptive.Versions.v1_3, "regex", "Pattern");
    return TextInputPeer;
}(InputPeer));
exports.TextInputPeer = TextInputPeer;
var NumberInputPeer = /** @class */ (function (_super) {
    __extends(NumberInputPeer, _super);
    function NumberInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NumberInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, NumberInputPeer.placeholderProperty, NumberInputPeer.defaultValueProperty, NumberInputPeer.minProperty, NumberInputPeer.maxProperty);
    };
    NumberInputPeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.placeholder = "Placeholder text";
    };
    NumberInputPeer.defaultValueProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    NumberInputPeer.placeholderProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "placeholder", "Placeholder");
    NumberInputPeer.minProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "min", "Minimum value");
    NumberInputPeer.maxProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "max", "Maximum value");
    return NumberInputPeer;
}(InputPeer));
exports.NumberInputPeer = NumberInputPeer;
var DateInputPeer = /** @class */ (function (_super) {
    __extends(DateInputPeer, _super);
    function DateInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DateInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, DateInputPeer.defaultValueProperty, DateInputPeer.minProperty, DateInputPeer.maxProperty);
    };
    DateInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    DateInputPeer.minProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "min", "Minimum value");
    DateInputPeer.maxProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "max", "Maximum value");
    return DateInputPeer;
}(InputPeer));
exports.DateInputPeer = DateInputPeer;
var TimeInputPeer = /** @class */ (function (_super) {
    __extends(TimeInputPeer, _super);
    function TimeInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TimeInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TimeInputPeer.defaultValueProperty, TimeInputPeer.minProperty, TimeInputPeer.maxProperty);
    };
    TimeInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    TimeInputPeer.minProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "min", "Minimum value");
    TimeInputPeer.maxProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "max", "Maximum value");
    return TimeInputPeer;
}(InputPeer));
exports.TimeInputPeer = TimeInputPeer;
var ToggleInputPeer = /** @class */ (function (_super) {
    __extends(ToggleInputPeer, _super);
    function ToggleInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ToggleInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ToggleInputPeer.titleProperty, ToggleInputPeer.valueOnProperty, ToggleInputPeer.valueOffProperty, ToggleInputPeer.defaultValueProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ToggleInputPeer.wrapProperty);
    };
    ToggleInputPeer.prototype.initializeCardElement = function () {
        this.cardElement.title = "New Input.Toggle";
    };
    ToggleInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    ToggleInputPeer.titleProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "title", "Title", true);
    ToggleInputPeer.valueOnProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "valueOn", "Value when on");
    ToggleInputPeer.valueOffProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "valueOff", "Value when off");
    ToggleInputPeer.wrapProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "wrap", "Wrap");
    return ToggleInputPeer;
}(InputPeer));
exports.ToggleInputPeer = ToggleInputPeer;
var ChoiceSetInputPeer = /** @class */ (function (_super) {
    __extends(ChoiceSetInputPeer, _super);
    function ChoiceSetInputPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ChoiceSetInputPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, ChoiceSetInputPeer.placeholderProperty, ChoiceSetInputPeer.isMultiselectProperty, ChoiceSetInputPeer.styleProperty, ChoiceSetInputPeer.defaultValueProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, ToggleInputPeer.wrapProperty);
        propertySheet.add("Choices", ChoiceSetInputPeer.choicesProperty);
    };
    ChoiceSetInputPeer.prototype.initializeCardElement = function () {
        this.cardElement.placeholder = "Placeholder text";
        this.cardElement.choices.push(new Adaptive.Choice("Choice 1", "Choice 1"), new Adaptive.Choice("Choice 2", "Choice 2"));
    };
    ChoiceSetInputPeer.defaultValueProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "defaultValue", "Default value");
    ChoiceSetInputPeer.placeholderProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "placeholder", "Placeholder");
    ChoiceSetInputPeer.isMultiselectProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "isMultiSelect", "Allow multi selection");
    ChoiceSetInputPeer.styleProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_0, "style", "Style", [
        { targetVersion: Adaptive.Versions.v1_0, name: "Compact", value: "compact" },
        { targetVersion: Adaptive.Versions.v1_0, name: "Expanded", value: "expanded" },
        { targetVersion: Adaptive.Versions.v1_5, name: "Filtered", value: "filtered" }
    ], true);
    ChoiceSetInputPeer.wrapProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_2, "wrap", "Wrap");
    ChoiceSetInputPeer.choicesProperty = new NameValuePairPropertyEditor(Adaptive.Versions.v1_0, "choices", "title", "value", function (name, value) { return new Adaptive.Choice(name, value); }, "Title", "Value", "Add a new choice", "This ChoiceSet is empty");
    return ChoiceSetInputPeer;
}(InputPeer));
exports.ChoiceSetInputPeer = ChoiceSetInputPeer;
var TextBlockPeerInplaceEditor = /** @class */ (function (_super) {
    __extends(TextBlockPeerInplaceEditor, _super);
    function TextBlockPeerInplaceEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TextBlockPeerInplaceEditor.prototype.close = function (applyChanges) {
        if (this.onClose) {
            this.onClose(applyChanges);
        }
    };
    TextBlockPeerInplaceEditor.prototype.initialize = function () {
        this._renderedElement.select();
    };
    TextBlockPeerInplaceEditor.prototype.applyChanges = function () {
        this.cardElement.text = this._renderedElement.value;
    };
    TextBlockPeerInplaceEditor.prototype.render = function () {
        var _this = this;
        this._renderedElement = document.createElement("textarea");
        this._renderedElement.className = "acd-textBlock-inplace-editor";
        this._renderedElement.value = this.cardElement.text;
        this._renderedElement.onkeydown = function (e) {
            switch (e.key) {
                case Controls.Constants.keys.escape:
                    _this.close(false);
                    e.preventDefault();
                    e.cancelBubble = true;
                    break;
                case Controls.Constants.keys.enter:
                    _this.close(true);
                    e.preventDefault();
                    e.cancelBubble = true;
                    break;
            }
            return !e.cancelBubble;
        };
        this.cardElement.applyStylesTo(this._renderedElement);
        return this._renderedElement;
    };
    return TextBlockPeerInplaceEditor;
}(CardElementPeerInplaceEditor));
var TextBlockPeer = /** @class */ (function (_super) {
    __extends(TextBlockPeer, _super);
    function TextBlockPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TextBlockPeer.prototype.createInplaceEditor = function () {
        return new TextBlockPeerInplaceEditor(this.cardElement);
    };
    TextBlockPeer.prototype.internalGetTreeItemText = function () {
        return this.cardElement.text;
    };
    TextBlockPeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        if (context.dataStructure) {
            commands.push(new peer_command_1.PeerCommand({
                name: "Bind...",
                alwaysShowName: true,
                toolTip: "Select a data field to bind this TextBlock to.",
                execute: function (command, clickedElement) {
                    var fieldPicker = new field_picker_1.FieldPicker(context.dataStructure);
                    fieldPicker.onClose = function (sender, wasCancelled) {
                        if (!wasCancelled) {
                            _this.cardElement.text = fieldPicker.selectedField.asExpression();
                            _this.changed(true);
                        }
                    };
                    fieldPicker.popup(clickedElement);
                }
            }));
        }
    };
    TextBlockPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TextBlockPeer.textProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, TextBlockPeer.wrapProperty, TextBlockPeer.maxLinesProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, TextBlockPeer.styleProperty, TextBlockPeer.fontTypeProperty, TextBlockPeer.sizeProperty, TextBlockPeer.weightProperty, TextBlockPeer.colorProperty, TextBlockPeer.subtleProperty);
    };
    TextBlockPeer.prototype.getToolTip = function () {
        return "Double click to edit";
    };
    TextBlockPeer.prototype.initializeCardElement = function () {
        if (!this.cardElement.text || this.cardElement.text == "") {
            this.cardElement.text = "New TextBlock";
        }
        this.cardElement.wrap = true;
    };
    TextBlockPeer.textProperty = new StringPropertyEditor(Adaptive.Versions.v1_0, "text", "Text", true, true);
    TextBlockPeer.wrapProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_0, "wrap", "Wrap");
    TextBlockPeer.maxLinesProperty = new NumberPropertyEditor(Adaptive.Versions.v1_0, "maxLines", "Maximum lines", 0);
    TextBlockPeer.fontTypeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_2, "fontType", "Font type", Adaptive.FontType, false, true);
    TextBlockPeer.sizeProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "size", "Size", Adaptive.TextSize, false, true);
    TextBlockPeer.weightProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "weight", "Weight", Adaptive.TextWeight, false, true);
    TextBlockPeer.colorProperty = new EnumPropertyEditor(Adaptive.Versions.v1_0, "color", "Color", Adaptive.TextColor, false, true);
    TextBlockPeer.subtleProperty = new NullableBooleanPropertyEditor(Adaptive.Versions.v1_0, "isSubtle", "Subtle");
    TextBlockPeer.styleProperty = new ChoicePropertyEditor(Adaptive.Versions.v1_5, "style", "Base style", [
        { targetVersion: Adaptive.Versions.v1_5, name: "Default", value: "default" },
        { targetVersion: Adaptive.Versions.v1_5, name: "Heading", value: "heading" },
        { targetVersion: Adaptive.Versions.v1_5, name: "Column header", value: "columnHeader" }
    ], false, true);
    return TextBlockPeer;
}(TypedCardElementPeer));
exports.TextBlockPeer = TextBlockPeer;
var RichTextBlockPeer = /** @class */ (function (_super) {
    __extends(RichTextBlockPeer, _super);
    function RichTextBlockPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    RichTextBlockPeer.prototype.internalGetTreeItemText = function () {
        return this.cardElement.asString();
    };
    RichTextBlockPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, new CustomPropertySheetEntry("*", function (context) {
            var infoTextBlock = new Adaptive.TextBlock();
            infoTextBlock.text = "Use the **Card Payload Editor** to edit the text of this RichTextBlock element.";
            infoTextBlock.wrap = true;
            infoTextBlock.spacing = Adaptive.Spacing.Large;
            infoTextBlock.separator = true;
            infoTextBlock.horizontalAlignment = Adaptive.HorizontalAlignment.Center;
            return infoTextBlock;
        }));
    };
    RichTextBlockPeer.prototype.initializeCardElement = function () {
        var textRun = new Adaptive.TextRun();
        textRun.text = "New RichTextBlock";
        this.cardElement.addInline(textRun);
    };
    return RichTextBlockPeer;
}(TypedCardElementPeer));
exports.RichTextBlockPeer = RichTextBlockPeer;
var TableCellPeer = /** @class */ (function (_super) {
    __extends(TableCellPeer, _super);
    function TableCellPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TableCellPeer.prototype.canBeRemoved = function () {
        return false;
    };
    TableCellPeer.prototype.isDraggable = function () {
        return false;
    };
    return TableCellPeer;
}(ContainerPeer));
exports.TableCellPeer = TableCellPeer;
var TableRowPeer = /** @class */ (function (_super) {
    __extends(TableRowPeer, _super);
    function TableRowPeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TableRowPeer.prototype.isContainer = function () {
        return true;
    };
    TableRowPeer.prototype.isDraggable = function () {
        return false;
    };
    TableRowPeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(PropertySheetCategory.StyleCategory, ContainerPeer.styleProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, TableRowPeer.horizontalCellContentAlignmentProperty, TableRowPeer.verticalCellContentAlignmentProperty);
    };
    Object.defineProperty(TableRowPeer.prototype, "isTreeItemExpandedByDefault", {
        get: function () {
            return false;
        },
        enumerable: false,
        configurable: true
    });
    TableRowPeer.horizontalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "horizontalCellContentAlignment", "Horizontal cell content alignment", Adaptive.HorizontalAlignment, false, true);
    TableRowPeer.verticalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "verticalCellContentAlignment", "Vertical cell content alignment", Adaptive.VerticalAlignment, false, true);
    return TableRowPeer;
}(TypedCardElementPeer));
exports.TableRowPeer = TableRowPeer;
var TableColumnsPropertyEditor = /** @class */ (function (_super) {
    __extends(TableColumnsPropertyEditor, _super);
    function TableColumnsPropertyEditor() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TableColumnsPropertyEditor.prototype.columnsChanged = function (context, refreshPropertySheet) {
        context.peer.updateChildren();
        context.peer.changed(refreshPropertySheet);
    };
    TableColumnsPropertyEditor.prototype.render = function (context) {
        var _this = this;
        var result = new Adaptive.Container();
        var peer = context.peer;
        if (peer.cardElement.getColumnCount() === 0) {
            var messageTextBlock = new Adaptive.TextBlock();
            messageTextBlock.spacing = Adaptive.Spacing.Small;
            messageTextBlock.text = "No column has been defined";
            result.addItem(messageTextBlock);
        }
        else {
            var _loop_6 = function (i) {
                var columnDefinition = peer.cardElement.getColumnAt(i);
                var widthInput = new Adaptive.NumberInput();
                widthInput.placeholder = "Width";
                widthInput.min = 0;
                widthInput.defaultValue = columnDefinition.width.physicalSize;
                widthInput.onValueChanged = function (sender) {
                    columnDefinition.width.physicalSize = sender.value;
                    _this.columnsChanged(context, false);
                };
                var widthColumn = new Adaptive.Column("stretch");
                widthColumn.addItem(widthInput);
                var unitInput = new Adaptive.ChoiceSetInput();
                unitInput.placeholder = "Unit";
                unitInput.choices.push(new Adaptive.Choice("Pixels", Adaptive.SizeUnit.Pixel.toString()), new Adaptive.Choice("Weight", Adaptive.SizeUnit.Weight.toString()));
                unitInput.defaultValue = columnDefinition.width.unit.toString();
                unitInput.onValueChanged = function (sender) {
                    columnDefinition.width.unit = parseInt(sender.value);
                    _this.columnsChanged(context, false);
                };
                var unitColumn = new Adaptive.Column("stretch");
                unitColumn.spacing = Adaptive.Spacing.Small;
                unitColumn.addItem(unitInput);
                var removeAction = new Adaptive.SubmitAction();
                removeAction.title = "X";
                removeAction.tooltip = "Remove";
                removeAction.onExecute = function (sender) {
                    peer.cardElement.removeColumn(columnDefinition);
                    _this.columnsChanged(context, true);
                };
                var actionSet_2 = new Adaptive.ActionSet();
                actionSet_2.addAction(removeAction);
                var removeActionColumn = new Adaptive.Column("auto");
                removeActionColumn.spacing = Adaptive.Spacing.Small;
                removeActionColumn.addItem(actionSet_2);
                var columnSet = new Adaptive.ColumnSet();
                columnSet.spacing = Adaptive.Spacing.Small;
                columnSet.addColumn(widthColumn);
                columnSet.addColumn(unitColumn);
                columnSet.addColumn(removeActionColumn);
                result.addItem(columnSet);
            };
            for (var i = 0; i < peer.cardElement.getColumnCount(); i++) {
                _loop_6(i);
            }
        }
        var addAction = new Adaptive.SubmitAction();
        addAction.title = "Add a column";
        addAction.onExecute = function (sender) {
            peer.cardElement.addColumn(new Adaptive.TableColumnDefinition());
            _this.columnsChanged(context, true);
        };
        var actionSet = new Adaptive.ActionSet();
        actionSet.spacing = Adaptive.Spacing.Small;
        actionSet.addAction(addAction);
        result.addItem(actionSet);
        return result;
    };
    return TableColumnsPropertyEditor;
}(PropertySheetEntry));
var TablePeer = /** @class */ (function (_super) {
    __extends(TablePeer, _super);
    function TablePeer() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    TablePeer.prototype.isContainer = function () {
        return true;
    };
    TablePeer.prototype.internalAddCommands = function (context, commands) {
        var _this = this;
        _super.prototype.internalAddCommands.call(this, context, commands);
        commands.push(new peer_command_1.PeerCommand({
            name: "Add a row",
            isPromotable: false,
            execute: function (command, clickedElement) {
                var row = new Adaptive.TableRow();
                _this.cardElement.addRow(row);
                _this.insertChild(card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(_this.designerSurface, _this, row));
                _this.updateChildren();
            }
        }));
    };
    TablePeer.prototype.initializeCardElement = function () {
        _super.prototype.initializeCardElement.call(this);
        this.cardElement.addColumn(new Adaptive.TableColumnDefinition());
        this.cardElement.addColumn(new Adaptive.TableColumnDefinition());
        this.cardElement.addColumn(new Adaptive.TableColumnDefinition());
        this.cardElement.addRow(new Adaptive.TableRow());
        this.cardElement.addRow(new Adaptive.TableRow());
        this.cardElement.addRow(new Adaptive.TableRow());
    };
    TablePeer.prototype.populatePropertySheet = function (propertySheet, defaultCategory) {
        if (defaultCategory === void 0) { defaultCategory = PropertySheetCategory.DefaultCategory; }
        _super.prototype.populatePropertySheet.call(this, propertySheet, defaultCategory);
        propertySheet.add(defaultCategory, TablePeer.firstRowAsHeadersProperty);
        propertySheet.add("Columns", TablePeer.columnsProperty);
        propertySheet.add(PropertySheetCategory.StyleCategory, TablePeer.showGridLinesProperty, TablePeer.gridStyleProperty);
        propertySheet.add(PropertySheetCategory.LayoutCategory, TablePeer.cellSpacingProperty, TablePeer.horizontalCellContentAlignmentProperty, TablePeer.verticalCellContentAlignmentProperty);
    };
    TablePeer.firstRowAsHeadersProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "firstRowAsHeaders", "First row as headers");
    TablePeer.cellSpacingProperty = new NumberPropertyEditor(Adaptive.Versions.v1_5, "cellSpacing", "Cell spacing (in pixels)");
    TablePeer.showGridLinesProperty = new BooleanPropertyEditor(Adaptive.Versions.v1_5, "showGridLines", "Grid lines");
    TablePeer.gridStyleProperty = new ContainerStylePropertyEditor(Adaptive.Versions.v1_5, "gridStyle", "Grid style");
    TablePeer.horizontalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "horizontalCellContentAlignment", "Horizontal cell content alignment", Adaptive.HorizontalAlignment, false, true);
    TablePeer.verticalCellContentAlignmentProperty = new EnumPropertyEditor(Adaptive.Versions.v1_5, "verticalCellContentAlignment", "Vertical cell content alignment", Adaptive.VerticalAlignment, false, true);
    TablePeer.columnsProperty = new TableColumnsPropertyEditor(Adaptive.Versions.v1_5);
    return TablePeer;
}(TypedCardElementPeer));
exports.TablePeer = TablePeer;


/***/ }),

/***/ "./src/dialog.ts":
/*!***********************!*\
  !*** ./src/dialog.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Dialog = exports.DialogButton = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var DialogButton = /** @class */ (function () {
    function DialogButton(caption) {
        this.caption = caption;
    }
    DialogButton.prototype.render = function () {
        var _this = this;
        var element = document.createElement("button");
        element.className = "acd-dialog-button";
        element.innerText = this.caption;
        element.onclick = function (e) {
            _this.clicked();
        };
        return element;
    };
    DialogButton.prototype.clicked = function () {
        if (this.onClick) {
            this.onClick(this);
        }
    };
    return DialogButton;
}());
exports.DialogButton = DialogButton;
var Dialog = /** @class */ (function () {
    function Dialog() {
        var _this = this;
        this._isOpen = false;
        this.onClose = null;
        // flag to prevent dialog close on overlay element click, default it's set to false, for Pi2Card it will be set to true
        this.preventLightDismissal = false;
        this.closeButton = new DialogButton("Close");
        this.closeButton.onClick = function (sender) {
            _this.close();
        };
    }
    Dialog.prototype.open = function () {
        var _this = this;
        var _a;
        if (!this._isOpen) {
            this._originalFocusedElement = document.activeElement;
            this._overlayElement = document.createElement("div");
            this._overlayElement.className = "acd-dialog-overlay";
            this._overlayElement.onclick = function (e) {
                // clicks on the overlay window should dismiss the dialog
                if (!_this.preventLightDismissal) {
                    _this.close();
                }
            };
            var dialogFrameElement = document.createElement("div");
            dialogFrameElement.className = "acd-dialog-frame";
            dialogFrameElement.style.width = this.width;
            dialogFrameElement.style.height = this.height;
            dialogFrameElement.setAttribute("aria-modal", "true");
            dialogFrameElement.setAttribute("role", "dialog");
            dialogFrameElement.setAttribute("aria-labelledby", "acd-dialog-title-element");
            dialogFrameElement.tabIndex = -1;
            dialogFrameElement.onclick = function (e) {
                // disable click bubbling from the frame element -- otherwise it'll get to the overlay, closing the
                // dialog unexpectedly
                if (!_this.preventLightDismissal) {
                    e.cancelBubble = true;
                    return false;
                }
            };
            // keyboard navigation support
            dialogFrameElement.onkeydown = function (e) {
                switch (e.key) {
                    case adaptivecards_controls_1.Constants.keys.tab:
                        if (e.shiftKey && document.activeElement === _this._firstFocusableElement) {
                            // backwards tab on first element. set focus on last
                            e.preventDefault();
                            _this._lastFocusableElement.focus();
                        }
                        else if (!e.shiftKey && document.activeElement === _this._lastFocusableElement) {
                            // forward tab on last element
                            e.preventDefault();
                            _this._firstFocusableElement.focus();
                        }
                        break;
                    case adaptivecards_controls_1.Constants.keys.escape:
                        _this.close();
                        e.preventDefault();
                        e.cancelBubble = true;
                        break;
                }
                return !e.cancelBubble;
            };
            var titleBarElement = document.createElement("div");
            titleBarElement.className = "acd-dialog-title-host";
            var titleElement = document.createElement("div");
            titleElement.className = "acd-dialog-title";
            titleElement.id = "acd-dialog-title-element";
            titleElement.innerText = this.title;
            titleElement.setAttribute("role", "heading");
            titleElement.setAttribute("aria-level", "1");
            titleElement.tabIndex = -1;
            var xButton = document.createElement("button");
            xButton.className = "acd-icon acd-dialog-titleBar-button acd-icon-remove";
            xButton.title = "Close";
            xButton.onclick = function (e) { _this.close(); };
            titleBarElement.appendChild(titleElement);
            titleBarElement.appendChild(xButton);
            var contentElement = this.renderContent();
            contentElement.style.flex = "1 1 auto";
            var buttonBarElement = document.createElement("div");
            buttonBarElement.className = "acd-dialog-buttonBar";
            if (((_a = this.buttons) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                for (var _i = 0, _b = this.buttons; _i < _b.length; _i++) {
                    var button = _b[_i];
                    buttonBarElement.appendChild(button.render());
                }
            }
            buttonBarElement.appendChild(this.closeButton.render());
            dialogFrameElement.appendChild(titleBarElement);
            dialogFrameElement.appendChild(contentElement);
            dialogFrameElement.appendChild(buttonBarElement);
            this._overlayElement.appendChild(dialogFrameElement);
            document.body.appendChild(this._overlayElement);
            var focusableElements = dialogFrameElement.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');
            this._firstFocusableElement = focusableElements[0];
            this._lastFocusableElement = focusableElements[focusableElements.length - 1];
            this._firstFocusableElement.focus();
            this._isOpen = true;
        }
    };
    Dialog.prototype.close = function () {
        if (this._isOpen) {
            document.body.removeChild(this._overlayElement);
            this._isOpen = false;
            if (this.onClose) {
                this.onClose(this);
            }
            // Removing the focus action on close, it has been handled via onClose method of Dialog consume place.
            // this._originalFocusedElement.focus();
            this._originalFocusedElement = null;
        }
    };
    return Dialog;
}());
exports.Dialog = Dialog;


/***/ }),

/***/ "./src/downloader.ts":
/*!***************************!*\
  !*** ./src/downloader.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Downloader = void 0;
var Downloader = /** @class */ (function () {
    function Downloader(url) {
        this.url = url;
        this.onError = null;
        this.onSuccess = null;
    }
    Downloader.prototype.error = function () {
        if (this.onError) {
            this.onError(this);
        }
    };
    Downloader.prototype.success = function () {
        if (this.onSuccess) {
            this.onSuccess(this);
        }
    };
    Downloader.prototype.download = function () {
        var _this = this;
        var request = new XMLHttpRequest();
        request.onerror = function () {
            _this.error();
        };
        request.onload = function () {
            _this._data = request.responseText;
            _this.success();
        };
        try {
            request.open("GET", this.url, true);
            request.send();
        }
        catch (e) {
            this.error();
        }
    };
    Object.defineProperty(Downloader.prototype, "data", {
        get: function () {
            return this._data;
        },
        enumerable: false,
        configurable: true
    });
    return Downloader;
}());
exports.Downloader = Downloader;


/***/ }),

/***/ "./src/draggable-element.ts":
/*!**********************************!*\
  !*** ./src/draggable-element.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DraggableElement = exports.DRAG_THRESHOLD = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
exports.DRAG_THRESHOLD = 10;
var DraggableElement = /** @class */ (function () {
    function DraggableElement() {
    }
    DraggableElement.prototype.releasePointerCapture = function (pointerId) {
        this.getDragSourceElement().releasePointerCapture(pointerId);
        this._isPointerDown = false;
    };
    Object.defineProperty(DraggableElement.prototype, "isPointerOver", {
        get: function () {
            return this._isPointerOver;
        },
        set: function (value) {
            if (value != this._isPointerOver) {
                this._isPointerOver = value;
                this.updateLayout();
            }
        },
        enumerable: false,
        configurable: true
    });
    DraggableElement.prototype.startDrag = function () {
        if (this.isDraggable() && !this.dragging) {
            this.dragging = true;
            if (this.onStartDrag) {
                this.onStartDrag(this);
            }
        }
    };
    DraggableElement.prototype.pointerDown = function (e) {
        if (!this._isPointerDown) {
            this._isPointerDown = true;
            this._lastClickedPoint = { x: e.offsetX, y: e.offsetY };
            this.getDragSourceElement().setPointerCapture(e.pointerId);
        }
    };
    DraggableElement.prototype.pointerUp = function (e) {
        if (this._isPointerDown) {
            this.releasePointerCapture(e.pointerId);
            this.endDrag();
        }
    };
    DraggableElement.prototype.pointerMove = function (e) {
        if (this._isPointerDown) {
            if (Math.abs(e.offsetX - this._lastClickedPoint.x) >= exports.DRAG_THRESHOLD || Math.abs(e.offsetY - this._lastClickedPoint.y) >= exports.DRAG_THRESHOLD) {
                this.releasePointerCapture(e.pointerId);
                this.startDrag();
            }
        }
    };
    DraggableElement.prototype.click = function (e) {
        if (this.onClick) {
            this.onClick(this);
        }
    };
    DraggableElement.prototype.doubleClick = function (e) {
        if (this.onDoubleClick) {
            this.onDoubleClick(this);
        }
    };
    DraggableElement.prototype.internalUpdateCssStyles = function () {
        // Do nothing in base implementation
    };
    DraggableElement.prototype.internalUpdateLayout = function () {
        // Do nothing in base implementation
    };
    DraggableElement.prototype.getDragSourceElement = function () {
        return this._renderedElement;
    };
    DraggableElement.prototype.isDraggable = function () {
        return true;
    };
    DraggableElement.prototype.endDrag = function () {
        if (this.dragging) {
            this.dragging = false;
            if (this.onEndDrag) {
                this.onEndDrag(this);
            }
        }
    };
    DraggableElement.prototype.updateLayout = function () {
        this.internalUpdateCssStyles();
        this.internalUpdateLayout();
    };
    DraggableElement.prototype.render = function () {
        var _this = this;
        this._renderedElement = this.internalRender();
        var dragSourceElement = this.getDragSourceElement();
        dragSourceElement.onclick = function (e) { _this.click(e); };
        dragSourceElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                e.preventDefault();
                if (_this.onClick) {
                    _this.click(null);
                }
                else if (_this.onDoubleClick) {
                    _this.doubleClick(null);
                }
            }
        };
        dragSourceElement.ondblclick = function (e) { _this.doubleClick(e); };
        if (this.isDraggable()) {
            dragSourceElement.onmousedown = function (e) { e.preventDefault(); };
            dragSourceElement.onpointerenter = function () { _this.isPointerOver = true; };
            dragSourceElement.onpointerleave = function () { _this.isPointerOver = false; };
            dragSourceElement.onpointerdown = function (e) { _this.pointerDown(e); };
            dragSourceElement.onpointerup = function (e) { _this.pointerUp(e); };
            dragSourceElement.onpointermove = function (e) { _this.pointerMove(e); };
        }
        return this._renderedElement;
    };
    DraggableElement.prototype.focus = function () {
        if (this._renderedElement) {
            this._renderedElement.focus();
        }
    };
    Object.defineProperty(DraggableElement.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(DraggableElement.prototype, "dragging", {
        get: function () {
            return this._dragging;
        },
        set: function (value) {
            this._dragging = value;
            this.internalUpdateCssStyles();
        },
        enumerable: false,
        configurable: true
    });
    return DraggableElement;
}());
exports.DraggableElement = DraggableElement;


/***/ }),

/***/ "./src/field-picker.ts":
/*!*****************************!*\
  !*** ./src/field-picker.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FieldPicker = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Controls = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var tree_view_1 = __webpack_require__(/*! ./tree-view */ "./src/tree-view.ts");
var data_treeitem_1 = __webpack_require__(/*! ./data-treeitem */ "./src/data-treeitem.ts");
var FieldPicker = /** @class */ (function (_super) {
    __extends(FieldPicker, _super);
    function FieldPicker(dataStructure) {
        var _this = _super.call(this) || this;
        _this.dataStructure = dataStructure;
        return _this;
    }
    FieldPicker.prototype.renderContent = function () {
        var _this = this;
        var element = document.createElement("div");
        element.className = "acd-fieldPicker-host";
        var treeItem = new data_treeitem_1.DataTreeItem(this.dataStructure);
        this._treeView = new tree_view_1.TreeView(treeItem);
        this._treeView.onSelectedItemChanged = function (sender) {
            _this._selectedField = _this._treeView.selectedItem.field;
            if (_this._selectedField) {
                _this.closePopup(false);
            }
        };
        element.appendChild(this._treeView.render());
        return element;
    };
    /**
     * @inheritdoc
     */
    FieldPicker.prototype.render = function (rootElementBounds) {
        var rootElement = _super.prototype.render.call(this, rootElementBounds);
        rootElement.tabIndex = -1;
        return rootElement;
    };
    /**
     * @inheritdoc
     */
    FieldPicker.prototype.focus = function () {
        if (this._treeView) {
            this._treeView.focus();
        }
    };
    FieldPicker.prototype.keyDown = function (e) {
        _super.prototype.keyDown.call(this, e);
        // TODO
    };
    Object.defineProperty(FieldPicker.prototype, "selectedField", {
        get: function () {
            return this._selectedField;
        },
        enumerable: false,
        configurable: true
    });
    return FieldPicker;
}(Controls.PopupControl));
exports.FieldPicker = FieldPicker;


/***/ }),

/***/ "./src/fullscreen-handler.ts":
/*!***********************************!*\
  !*** ./src/fullscreen-handler.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FullScreenHandler = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var FullScreenHandler = /** @class */ (function () {
    function FullScreenHandler() {
        var _this = this;
        var untypedBody = document.body;
        if (typeof untypedBody.onfullscreenchange !== "undefined") {
            untypedBody.onfullscreenchange = function () { return _this.fullScrerenChanged(); };
        }
        else if (typeof untypedBody.onwebkitfullscreenchange !== "undefined") {
            untypedBody.onwebkitfullscreenchange = function () { return _this.fullScrerenChanged(); };
        }
        else if (typeof untypedBody.onwebkitfullscreenchange !== "undefined") {
            untypedBody.onmozfullscreenchange = function () { return _this.fullScrerenChanged(); };
        }
        else if (typeof untypedBody.onwebkitfullscreenchange !== "undefined") {
            untypedBody.MSFullscreenChange = function () { return _this.fullScrerenChanged(); };
        }
    }
    FullScreenHandler.prototype.fullScrerenChanged = function () {
        if (this.onFullScreenChanged) {
            this.onFullScreenChanged(this.isFullScreen);
        }
    };
    FullScreenHandler.prototype.enterFullScreen = function () {
        if (!this.isFullScreen) {
            var untypedBody = document.body;
            if (untypedBody.requestFullscreen) {
                untypedBody.requestFullscreen();
            }
            else if (untypedBody.webkitRequestFullscreen) {
                untypedBody.webkitRequestFullscreen();
            }
            else if (untypedBody.mozRequestFullScreen) {
                untypedBody.mozRequestFullScreen();
            }
            else if (untypedBody.msRequestFullscreen) {
                untypedBody.msRequestFullscreen();
            }
            else {
                alert("Your browser doesn't support fullscreen.");
            }
        }
    };
    FullScreenHandler.prototype.exitFullScreen = function () {
        if (this.isFullScreen) {
            var untypedDocument = document;
            if (untypedDocument.exitFullscreen) {
                untypedDocument.exitFullscreen();
            }
            else if (untypedDocument.webkitExitFullscreen) {
                untypedDocument.webkitExitFullscreen();
            }
            else if (untypedDocument.mozCancelFullScreen) {
                untypedDocument.mozCancelFullScreen();
            }
            else if (untypedDocument.msExitFullscreen) {
                untypedDocument.msExitFullscreen();
            }
        }
    };
    FullScreenHandler.prototype.toggleFullScreen = function () {
        if (this.isFullScreen) {
            this.exitFullScreen();
        }
        else {
            this.enterFullScreen();
        }
    };
    Object.defineProperty(FullScreenHandler.prototype, "isFullScreen", {
        get: function () {
            var untypedDocument = document;
            return untypedDocument.fullscreen || untypedDocument.webkitIsFullScreen || untypedDocument.mozFullScreen;
        },
        enumerable: false,
        configurable: true
    });
    return FullScreenHandler;
}());
exports.FullScreenHandler = FullScreenHandler;


/***/ }),

/***/ "./src/help-dialog.ts":
/*!****************************!*\
  !*** ./src/help-dialog.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HelpDialog = void 0;
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var HelpDialog = /** @class */ (function (_super) {
    __extends(HelpDialog, _super);
    function HelpDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HelpDialog.prototype._getShortcutRow = function (shortcut, description, isHeader) {
        if (isHeader === void 0) { isHeader = false; }
        var shortcutText = document.createElement("b");
        shortcutText.innerText = shortcut;
        var shortcutCell = document.createElement(isHeader ? "th" : "td");
        shortcutCell.style.textAlign = "left";
        shortcutCell.appendChild(shortcutText);
        var descriptionCell = document.createElement(isHeader ? "th" : "td");
        descriptionCell.style.textAlign = "left";
        descriptionCell.innerText = description;
        var row = document.createElement("tr");
        row.appendChild(shortcutCell);
        row.appendChild(descriptionCell);
        return row;
    };
    HelpDialog.prototype.renderContent = function () {
        this._renderedElement = document.createElement("div");
        var cardHeading = document.createElement("h1");
        cardHeading.innerText = "Card Payload and Sample Data Editors";
        this._renderedElement.appendChild(cardHeading);
        var keyboardHeading = document.createElement("h2");
        keyboardHeading.innerText = "Keyboard Shortcuts";
        this._renderedElement.appendChild(keyboardHeading);
        var keyboardText = document.createElement("div");
        keyboardText.innerText = "These keyboard shortcuts only work when the keyboard focus is within either the card payload or sample data editors";
        this._renderedElement.appendChild(keyboardText);
        this._renderedElement.appendChild(document.createElement("br"));
        var shortcutTable = document.createElement("table");
        shortcutTable.appendChild(this._getShortcutRow("Shortcut", "Description", true));
        shortcutTable.appendChild(this._getShortcutRow("Alt-F1", "Show help dialog for editor"));
        shortcutTable.appendChild(this._getShortcutRow("Ctrl-M", "Toggle behavior of TAB key. By default, pressing TAB will insert a TAB character. When toggled, pressing TAB will navigate to the next focusable item."));
        this._renderedElement.appendChild(shortcutTable);
        return this._renderedElement;
    };
    return HelpDialog;
}(dialog_1.Dialog));
exports.HelpDialog = HelpDialog;


/***/ }),

/***/ "./src/miscellaneous.ts":
/*!******************************!*\
  !*** ./src/miscellaneous.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.defaultHostConfig = exports.Utils = exports.Rect = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var Rect = /** @class */ (function () {
    function Rect(top, right, bottom, left) {
        if (top === void 0) { top = 0; }
        if (right === void 0) { right = 0; }
        if (bottom === void 0) { bottom = 0; }
        if (left === void 0) { left = 0; }
        this.top = top;
        this.right = right;
        this.bottom = bottom;
        this.left = left;
    }
    Rect.prototype.union = function (otherRect) {
        this.top = Math.min(this.top, otherRect.top);
        this.left = Math.min(this.left, otherRect.left);
        this.bottom = Math.max(this.bottom, otherRect.bottom);
        this.right = Math.max(this.right, otherRect.right);
    };
    Rect.prototype.isInside = function (point) {
        return point.x >= this.left && point.x <= this.right && point.y >= this.top && point.y <= this.bottom;
    };
    Object.defineProperty(Rect.prototype, "width", {
        get: function () {
            return this.right - this.left;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Rect.prototype, "height", {
        get: function () {
            return this.bottom - this.top;
        },
        enumerable: false,
        configurable: true
    });
    return Rect;
}());
exports.Rect = Rect;
var Utils = /** @class */ (function () {
    function Utils() {
    }
    Utils.isAbsoluteUrl = function (urlString) {
        return urlString.indexOf('http://') === 0
            || urlString.indexOf('https://') === 0;
    };
    Utils.joinPaths = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        return args.map(function (part, i) {
            if (!part) {
                part = "";
            }
            if (i === 0) {
                return part.trim().replace(/[\/]*$/g, '');
            }
            else {
                return part.trim().replace(/(^[\/]*|[\/]*$)/g, '');
            }
        }).filter(function (x) { return x.length; }).join('/');
    };
    Utils.adjustPointForScroll = function (position) {
        var firstChild = document.firstElementChild;
        return {
            x: position.x + firstChild.scrollLeft,
            y: position.y + firstChild.scrollTop
        };
    };
    return Utils;
}());
exports.Utils = Utils;
exports.defaultHostConfig = new Adaptive.HostConfig({
    preExpandSingleShowCardAction: true,
    supportsInteractivity: true,
    spacing: {
        small: 10,
        default: 20,
        medium: 30,
        large: 40,
        extraLarge: 50,
        padding: 20
    },
    separator: {
        lineThickness: 1,
        lineColor: "#EEEEEE"
    },
    textAlign: {
        right: "right"
    },
    imageSizes: {
        small: 40,
        medium: 80,
        large: 160
    },
    fontStyles: {
        default: {
            fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
            fontSizes: {
                small: 12,
                default: 14,
                medium: 17,
                large: 21,
                extraLarge: 26
            },
            fontWeights: {
                lighter: 200,
                default: 400,
                bolder: 600
            }
        },
        monospace: {
            fontFamily: "'Courier New', Courier, monospace",
            fontSizes: {
                small: 12,
                default: 14,
                medium: 17,
                large: 21,
                extraLarge: 26
            },
            fontWeights: {
                lighter: 200,
                default: 400,
                bolder: 600
            }
        }
    },
    containerStyles: {
        default: {
            backgroundColor: "#f9f9f9",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        emphasis: {
            backgroundColor: "#08000000",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        accent: {
            backgroundColor: "#C7DEF9",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        good: {
            backgroundColor: "#CCFFCC",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        attention: {
            backgroundColor: "#FFC5B2",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        },
        warning: {
            backgroundColor: "#FFE2B2",
            foregroundColors: {
                default: {
                    default: "#333333",
                    subtle: "#EE333333"
                },
                dark: {
                    default: "#000000",
                    subtle: "#66000000"
                },
                light: {
                    default: "#FFFFFF",
                    subtle: "#33000000"
                },
                accent: {
                    default: "#2E89FC",
                    subtle: "#882E89FC"
                },
                attention: {
                    default: "#cc3300",
                    subtle: "#DDcc3300"
                },
                good: {
                    default: "#028A02",
                    subtle: "#DD027502"
                },
                warning: {
                    default: "#e69500",
                    subtle: "#DDe69500"
                }
            }
        }
    },
    actions: {
        maxActions: 5,
        spacing: Adaptive.Spacing.Default,
        buttonSpacing: 10,
        showCard: {
            actionMode: Adaptive.ShowCardActionMode.Inline,
            inlineTopMargin: 16
        },
        actionsOrientation: Adaptive.Orientation.Horizontal,
        actionAlignment: Adaptive.ActionAlignment.Left
    },
    adaptiveCard: {
        allowCustomStyle: true
    },
    imageSet: {
        imageSize: Adaptive.Size.Medium,
        maxImageHeight: 100
    },
    factSet: {
        title: {
            color: Adaptive.TextColor.Default,
            size: Adaptive.TextSize.Default,
            isSubtle: false,
            weight: Adaptive.TextWeight.Bolder,
            wrap: true,
            maxWidth: 150,
        },
        value: {
            color: Adaptive.TextColor.Default,
            size: Adaptive.TextSize.Default,
            isSubtle: false,
            weight: Adaptive.TextWeight.Default,
            wrap: true,
        },
        spacing: 10
    }
});
exports.defaultHostConfig.cssClassNamePrefix = "default";


/***/ }),

/***/ "./src/open-image-dialog.ts":
/*!**********************************!*\
  !*** ./src/open-image-dialog.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ImageItem = exports.OpenImageDialog = exports.FetchManager = void 0;
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var pic2card_1 = __webpack_require__(/*! ./pic2card */ "./src/pic2card.ts");
var FetchManager = /** @class */ (function () {
    function FetchManager() {
        this.pic2cardService = pic2card_1.Pic2Card.pic2cardService !== '' ? pic2card_1.Pic2Card.pic2cardService : "https://ac-pic2card.azurewebsites.net";
        this.headers = {
            "Content-Type": "application/json",
            "Access-Control-Allow-Origin": "*",
        };
    }
    FetchManager.prototype.getSampleImages = function () {
        return __awaiter(this, void 0, void 0, function () {
            var option, sampleImages, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        option = {
                            method: "GET",
                            headers: this.headers,
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, fetch(this.pic2cardService + "/get_card_templates", option)];
                    case 2:
                        sampleImages = _a.sent();
                        return [4 /*yield*/, sampleImages.json()];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        err_1 = _a.sent();
                        console.log(err_1.message);
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    FetchManager.prototype.getPredictedData = function (imageContent, isTemplateBindingEnabled) {
        return __awaiter(this, void 0, void 0, function () {
            var options, endPoint, picResponse, err_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        options = {
                            method: "POST",
                            headers: this.headers,
                            body: JSON.stringify({
                                image: imageContent.split(",")[1],
                            }),
                        };
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        endPoint = isTemplateBindingEnabled
                            ? "/predict_json?format=template"
                            : "/predict_json";
                        return [4 /*yield*/, fetch(this.pic2cardService + endPoint, options)];
                    case 2:
                        picResponse = _a.sent();
                        return [4 /*yield*/, picResponse.json()];
                    case 3: return [2 /*return*/, _a.sent()];
                    case 4:
                        err_2 = _a.sent();
                        console.log(err_2.message);
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    return FetchManager;
}());
exports.FetchManager = FetchManager;
var OpenImageDialog = /** @class */ (function (_super) {
    __extends(OpenImageDialog, _super);
    function OpenImageDialog() {
        var _this = _super.call(this) || this;
        _this._uploadedImage = "data:image/png;base64,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";
        _this.isTemplateOptionChecked = false;
        _this.allowedImageSize = 2; // In MB
        _this.fetchManager = new FetchManager();
        return _this;
    }
    OpenImageDialog.prototype.setContent = function (element) {
        this._renderedElement.appendChild(element);
    };
    OpenImageDialog.prototype.removeContent = function (element) {
        this._renderedElement.removeChild(element);
    };
    OpenImageDialog.prototype.renderTitle = function () {
        var title = document.createElement("div");
        title.className = "acd-image-title";
        title.innerText = "Upload your own card design";
        return title;
    };
    OpenImageDialog.prototype.renderTitleContent = function () {
        var content = document.createElement("div");
        content.className = "acd-image-title-content";
        content.innerText =
            "Design your card and upload it as a png or jpeg, and watch it magically convert to a functioning Adaptive Card";
        return content;
    };
    OpenImageDialog.prototype.renderUploadedImage = function () {
        this._imageElement = document.createElement("img");
        this._imageElement.className = "acd-image-placeholder";
        this._imageElement.setAttribute("src", this._uploadedImage);
        return this._imageElement;
    };
    OpenImageDialog.prototype.renderUploadButton = function (type) {
        var privacyLink = pic2card_1.Pic2Card.privacyLink;
        this._buttonContainer = document.createElement("div");
        this._buttonContainer.className = "acd-upload-button-container";
        var fileNote = document.createElement("div");
        fileNote.className = "acd-image-file-note";
        fileNote.innerHTML =
            "By using the upload feature you agree to our <a href=" + privacyLink + " target='_blank'><span class='link'> image usage policy</span></a>";
        type !== "file" &&
            this._buttonContainer.appendChild(this.renderCheckbox());
        this._buttonContainer.appendChild(type === "file"
            ? this.createFileButton()
            : this.createActionButton());
        this._buttonContainer.appendChild(fileNote);
        return this._buttonContainer;
    };
    OpenImageDialog.prototype.renderCheckbox = function () {
        var _this = this;
        var checkboxContainer = document.createElement("div");
        checkboxContainer.className = "acd-checkbox-container";
        var inputElement = document.createElement("INPUT");
        inputElement.className = "acd-checkbox-element";
        inputElement.setAttribute("id", "template-option");
        inputElement.setAttribute("type", "checkbox");
        inputElement.onclick = function () {
            var checkbox = document.getElementById("template-option");
            _this.isTemplateOptionChecked = checkbox.checked ? true : false;
        };
        inputElement.onfocus = function () {
            var customCheckbox = document.getElementById("acd-custom-checkbox-item");
            customCheckbox.className = "acd-custom-checkbox acd-custom-checkbox-foucs";
        };
        inputElement.addEventListener("focusout", function () {
            var customCheckbox = document.getElementById("acd-custom-checkbox-item");
            customCheckbox.className = "acd-custom-checkbox";
        });
        var customCheckboxElement = (document.createElement("SPAN"));
        customCheckboxElement.id = "acd-custom-checkbox-item";
        customCheckboxElement.className = "acd-custom-checkbox";
        checkboxContainer.appendChild(inputElement);
        checkboxContainer.appendChild(customCheckboxElement);
        checkboxContainer.appendChild(this.renderLabelText());
        return checkboxContainer;
    };
    OpenImageDialog.prototype.renderLabelText = function () {
        var labelElement = document.createElement("LABEL");
        labelElement.className = "acd-label-element";
        labelElement.setAttribute("for", "template-option");
        labelElement.innerHTML =
            "Create Adaptive Card with <a href='https://aka.ms/ACTemplating' target='_blank'><span class='link'>template bindings</span></a> and sample data";
        return labelElement;
    };
    OpenImageDialog.prototype.checkFileSize = function (file) {
        var filesize = parseInt((file.size / 1024 / 1024).toFixed(4)); // MB
        return filesize < this.allowedImageSize;
    };
    OpenImageDialog.prototype.createFileButton = function () {
        var _this = this;
        var inputElement = document.createElement("INPUT");
        inputElement.className = "acd-file-type";
        inputElement.setAttribute("type", "file");
        inputElement.setAttribute("button-name", "Browse File");
        inputElement.setAttribute("accept", "image/*");
        inputElement.setAttribute("aria-label", "Browse File");
        inputElement.onchange = function () {
            if (_this.checkFileSize(inputElement.files[0])) {
                var reader_1 = new FileReader();
                reader_1.readAsDataURL(inputElement.files[0]);
                reader_1.onload = function () { return _this.renderImage(reader_1.result, inputElement.files[0].name); };
                reader_1.onerror = function (error) { return console.log(error); };
            }
            else {
                _this._inputTemplate.removeChild(_this._buttonContainer);
                _this._inputTemplate.appendChild(_this.renderUploadButton("file"));
                _this.generateErrorText("Invalid file size. Try image under 2 MB");
                _this._uploadedImage =
                    "data:image/png;base64,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";
                _this._imageElement.setAttribute("src", _this._uploadedImage);
            }
        };
        return inputElement;
    };
    OpenImageDialog.prototype.generateErrorText = function (text) {
        var errorContent = document.createElement("div");
        errorContent.setAttribute("role", "status");
        errorContent.className = "acd-error-text";
        errorContent.innerText = text;
        this._buttonContainer.appendChild(errorContent);
    };
    OpenImageDialog.prototype.onCardFailure = function (spinnerElement) {
        this.removeContent(spinnerElement);
        this._inputTemplate.removeChild(this._buttonContainer);
        var uploadButton = this.renderUploadButton("file");
        this._inputTemplate.appendChild(uploadButton);
        this.generateErrorText("Failed to generate card for selected Image");
        uploadButton.focus();
    };
    OpenImageDialog.prototype.createActionButton = function () {
        var _this = this;
        var uploadButton = document.createElement("INPUT");
        uploadButton.className = "acd-card-button";
        uploadButton.setAttribute("type", "BUTTON");
        uploadButton.setAttribute("button-name", "Convert to Adaptive Card");
        uploadButton.setAttribute("value", "Convert to Adaptive Card");
        uploadButton.onclick = function () {
            uploadButton.setAttribute("aria-label", "Conversion to Adaptive card button pressed. Adaptive Card conversion in Progress");
            var spinnerElement = _this.loadSpinner();
            _this.setContent(spinnerElement);
            spinnerElement.focus();
            _this.fetchManager
                .getPredictedData(_this._uploadedImage, _this.isTemplateOptionChecked)
                .then(function (res) {
                if (!res || res.error) {
                    _this.onCardFailure(spinnerElement);
                }
                else {
                    _this._predictedCardJSON = res.card_json;
                    _this.close();
                }
            });
        };
        return uploadButton;
    };
    OpenImageDialog.prototype.loadSpinner = function () {
        var spinnerHostElement = document.createElement("div");
        spinnerHostElement.className = "acd-spinner-host";
        var spinnerElement = document.createElement("div");
        spinnerElement.className = "acd-spinner acd-image-spinner";
        var spinnerText = document.createElement("div");
        spinnerText.setAttribute("role", "status");
        spinnerText.className = "acd-conversion-text";
        spinnerText.innerText = "Adaptive Card conversion in progress";
        spinnerHostElement.appendChild(spinnerElement);
        spinnerHostElement.appendChild(spinnerText);
        return spinnerHostElement;
    };
    OpenImageDialog.prototype.renderImage = function (imageContent, imageName) {
        this._imageElement.setAttribute("src", imageContent);
        this._imageElement.setAttribute("alt", imageName);
        this._uploadedImage = imageContent;
        this._inputTemplate.removeChild(this._buttonContainer);
        this._inputTemplate.appendChild(this.renderUploadButton("action"));
    };
    OpenImageDialog.prototype.renderUploadControl = function () {
        this._inputTemplate = document.createElement("div");
        this._inputTemplate.className = "acd-upload-control";
        this._inputTemplate.appendChild(this.renderUploadedImage());
        this._inputTemplate.appendChild(this.renderUploadButton("file"));
        return this._inputTemplate;
    };
    OpenImageDialog.prototype.renderUploadContainer = function () {
        var uploadTemplate = document.createElement("div");
        uploadTemplate.className = "acd-image-file-container";
        uploadTemplate.appendChild(this.renderUploadControl());
        return uploadTemplate;
    };
    OpenImageDialog.prototype.renderImageContainer = function () {
        var template = document.createElement("div");
        template.className = "acd-image-upload-container";
        template.appendChild(this.renderTitle());
        template.appendChild(this.renderTitleContent());
        template.appendChild(this.renderUploadContainer());
        return template;
    };
    OpenImageDialog.prototype.renderSampleTemplate = function () {
        var _this = this;
        var sampleImageTemplate = document.createElement("div");
        sampleImageTemplate.id = "acd-sample-images";
        sampleImageTemplate.tabIndex = 0;
        sampleImageTemplate.className = "acd-sample-image-container";
        sampleImageTemplate.style.flexDirection = "column";
        var spinnerElement = document.createElement("div");
        spinnerElement.className = "acd-spinner";
        spinnerElement.style.width = "28px";
        spinnerElement.style.height = "28px";
        var message = document.createElement("div");
        message.className = "acd-dialog-message";
        message.innerText = "Loading Sample Images...";
        message.style.marginTop = "10px";
        sampleImageTemplate.appendChild(spinnerElement);
        sampleImageTemplate.appendChild(message);
        this.fetchManager.getSampleImages().then(function (res) {
            if (res) {
                var imageTitle = document.createElement("div");
                imageTitle.innerText = "Choose from our Sample Images";
                imageTitle.className = "acd-image-title sample-info-text";
                sampleImageTemplate.style.flexDirection = "row";
                sampleImageTemplate.removeChild(spinnerElement);
                sampleImageTemplate.removeChild(message);
                sampleImageTemplate.appendChild(imageTitle);
                var imageContainer_1 = document.createElement("div");
                imageContainer_1.className = "acd-sample-list";
                imageContainer_1.setAttribute("role", "list");
                res.templates.map(function (template, index) {
                    var sampleImage = new ImageItem(template, index + 1);
                    sampleImage.onClick = function (selectedImage, imageName) {
                        _this.renderImage(selectedImage, imageName);
                    };
                    imageContainer_1.appendChild(sampleImage.render());
                });
                sampleImageTemplate.appendChild(imageContainer_1);
                var firstChild = imageContainer_1.firstElementChild;
                firstChild.focus();
            }
            else {
                var errorElement = document.createElement("div");
                errorElement.innerText = "Failed to reach pic2card service";
                errorElement.className = "acd-image-title error-info";
                errorElement.setAttribute("role", "status");
                sampleImageTemplate.removeChild(message);
                sampleImageTemplate.removeChild(spinnerElement);
                sampleImageTemplate.appendChild(errorElement);
            }
        });
        return sampleImageTemplate;
    };
    OpenImageDialog.prototype.renderContent = function () {
        this._renderedElement = document.createElement("div");
        this._renderedElement.className = "acd-pic2card-container";
        var poweredByContainer = document.createElement("div");
        poweredByContainer.className = "acd-poweredby-title";
        poweredByContainer.innerHTML =
            "Powered By <a class='poweredby-link' href='https://www.bigthinkcode.com/' target='_blank'><span class='link'>BigThinkCode</span></a>";
        var container = document.createElement("div");
        container.className = "acd-sample-container";
        container.appendChild(this.renderImageContainer());
        container.appendChild(this.renderSampleTemplate());
        this.setContent(poweredByContainer);
        this.setContent(container);
        return this._renderedElement;
    };
    Object.defineProperty(OpenImageDialog.prototype, "predictedCardJSON", {
        get: function () {
            return this._predictedCardJSON;
        },
        enumerable: false,
        configurable: true
    });
    return OpenImageDialog;
}(dialog_1.Dialog));
exports.OpenImageDialog = OpenImageDialog;
var ImageItem = /** @class */ (function () {
    function ImageItem(template, itemIndex) {
        this.template = template;
        this.itemIndex = itemIndex;
    }
    ImageItem.prototype.render = function () {
        var _this = this;
        var sampleImageName = "Sample Image " + this.itemIndex;
        var imagePlaceholder = (document.createElement("img"));
        imagePlaceholder.className = "acd-sample-image";
        imagePlaceholder.tabIndex = 0;
        imagePlaceholder.setAttribute("role", "listitem");
        imagePlaceholder.setAttribute("alt", sampleImageName);
        imagePlaceholder.setAttribute("src", "data:image/png;base64," + this.template);
        imagePlaceholder.onclick = function (event) {
            _this.onClick(event.target.src, sampleImageName);
            imagePlaceholder.setAttribute("alt", sampleImageName + " selected");
        };
        imagePlaceholder.onfocus = function () {
            imagePlaceholder.setAttribute("alt", sampleImageName);
        };
        imagePlaceholder.onkeydown = function (event) {
            if (event.code === "Enter") {
                _this.onClick(event.target.src, sampleImageName);
                imagePlaceholder.setAttribute("alt", sampleImageName + " selected");
            }
        };
        return imagePlaceholder;
    };
    return ImageItem;
}());
exports.ImageItem = ImageItem;


/***/ }),

/***/ "./src/open-json-schema-dialog.ts":
/*!****************************************!*\
  !*** ./src/open-json-schema-dialog.ts ***!
  \****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OpenJsonSchemaDialog = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var adaptivecards_templating_1 = __webpack_require__(/*! adaptivecards-templating */ "adaptivecards-templating");
var OpenJsonSchemaDialog = /** @class */ (function (_super) {
    __extends(OpenJsonSchemaDialog, _super);
    function OpenJsonSchemaDialog() {
        var _this = _super.call(this) || this;
        _this.submitButton = new dialog_1.DialogButton("Create");
        _this.submitButton.onClick = function (sender) {
            _this.close();
        };
        _this.buttons = [_this.submitButton];
        return _this;
    }
    OpenJsonSchemaDialog.prototype.open = function () {
        _super.prototype.open.call(this);
        this._editor.layout();
    };
    OpenJsonSchemaDialog.prototype.renderPreview = function () {
        var _a;
        var renderedElement = document.createElement("div");
        renderedElement.className = "acd-open-code-dialog-preview";
        var card = new Adaptive.AdaptiveCard();
        if ((_a = this.output) === null || _a === void 0 ? void 0 : _a.cardPayload) {
            try {
                var cardData = JSON.parse(this.output.cardPayload);
                card.parse(cardData);
            }
            catch (e) {
                console.error(e);
            }
        }
        else {
            card.parse({
                "type": "AdaptiveCard",
                "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
                "version": "1.0",
                "body": [
                    {
                        "type": "TextBlock",
                        "text": "Input JSON Schema to create a card!",
                        "wrap": true,
                        "size": "Large"
                    }
                ]
            });
        }
        card.render();
        card.renderedElement.style.width = "100%";
        renderedElement.appendChild(card.renderedElement);
        return renderedElement;
    };
    OpenJsonSchemaDialog.prototype.refreshPreview = function () {
        this._previewContainer.removeChild(this._previewElement);
        this._previewElement = this.renderPreview();
        this._previewContainer.appendChild(this._previewElement);
    };
    OpenJsonSchemaDialog.prototype.renderEditor = function () {
        var _this = this;
        var renderedElement = document.createElement("div");
        renderedElement.className = "acd-open-code-dialog-editor";
        var monaco = window["monaco"];
        this._editor = monaco.editor.create(renderedElement, {
            folding: true,
            fontSize: 13.5,
            language: 'json',
        });
        this._editor.layout();
        this._editor.onDidChangeModelContent(function () {
            try {
                var model = _this._editor.getValue();
                var json = JSON.parse(model);
                var card = (0, adaptivecards_templating_1.JSONSchemaCard)(json);
                _this._output = {
                    cardPayload: JSON.stringify(card),
                };
                _this.refreshPreview();
            }
            catch (e) {
                console.error(e);
            }
        });
        return renderedElement;
    };
    OpenJsonSchemaDialog.prototype.renderContent = function () {
        var renderedElement = document.createElement("div");
        renderedElement.className = "acd-open-code-dialog-container";
        var editorContainer = document.createElement("div");
        editorContainer.className = "acd-open-code-dialog-editor-container";
        renderedElement.appendChild(editorContainer);
        var editorLabel = document.createElement("h3");
        editorLabel.innerText = "JSON Schema";
        editorContainer.appendChild(editorLabel);
        var editorElement = this.renderEditor();
        editorContainer.appendChild(editorElement);
        this._previewContainer = document.createElement("div");
        this._previewContainer.className = "acd-open-code-dialog-preview-container";
        renderedElement.appendChild(this._previewContainer);
        this._previewElement = this.renderPreview();
        this._previewContainer.appendChild(this._previewElement);
        return renderedElement;
    };
    Object.defineProperty(OpenJsonSchemaDialog.prototype, "output", {
        get: function () {
            return this._output;
        },
        enumerable: false,
        configurable: true
    });
    return OpenJsonSchemaDialog;
}(dialog_1.Dialog));
exports.OpenJsonSchemaDialog = OpenJsonSchemaDialog;


/***/ }),

/***/ "./src/open-sample-dialog.ts":
/*!***********************************!*\
  !*** ./src/open-sample-dialog.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OpenSampleDialog = void 0;
var ACData = __webpack_require__(/*! adaptivecards-templating */ "adaptivecards-templating");
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var dialog_1 = __webpack_require__(/*! ./dialog */ "./src/dialog.ts");
var OpenSampleItem = /** @class */ (function () {
    function OpenSampleItem(props) {
        this.props = props;
    }
    OpenSampleItem.getNewItemId = function (prefix) {
        var newId = prefix + "-" + OpenSampleItem._id;
        OpenSampleItem._id++;
        return newId;
    };
    OpenSampleItem.prototype.render = function () {
        var _this = this;
        var _a;
        var newItemId = OpenSampleItem.getNewItemId("acd-open-sample-item-title");
        var element = document.createElement("div");
        element.className = "acd-open-sample-item";
        element.tabIndex = 0;
        element.setAttribute("aria-labelledBy", newItemId);
        element.setAttribute("role", "listitem");
        element.onclick = (_a = this.props.onClick) !== null && _a !== void 0 ? _a : (function (e) {
            if (_this.onComplete) {
                if (_this.props.cardData instanceof Function) {
                    var cardData = _this.props.cardData(_this.onComplete);
                    if (cardData) {
                        _this.onComplete(cardData);
                    }
                }
                else if (_this.props.cardData) {
                    _this.onComplete(_this.props.cardData);
                }
            }
        });
        var thumbnailHost = document.createElement("div");
        thumbnailHost.className = "acd-open-sample-item-thumbnail";
        if (this.props.cardData instanceof Function) {
            var spinner_1 = document.createElement("div");
            spinner_1.className = "acd-spinner";
            spinner_1.style.width = "28px";
            spinner_1.style.height = "28px";
            thumbnailHost.appendChild(spinner_1);
            var cardData = this.props.cardData(function (cardData) {
                thumbnailHost.removeChild(spinner_1);
                if (cardData.thumbnail instanceof Function) {
                    thumbnailHost.appendChild(cardData.thumbnail());
                }
                else if (cardData.thumbnail) {
                    thumbnailHost.appendChild(cardData.thumbnail);
                }
            });
            if (cardData) {
                thumbnailHost.removeChild(spinner_1);
                if (cardData.thumbnail instanceof Function) {
                    thumbnailHost.appendChild(cardData.thumbnail());
                }
                else if (cardData.thumbnail) {
                    thumbnailHost.appendChild(cardData.thumbnail);
                }
            }
        }
        else if (this.props.cardData) {
            if (this.props.cardData.thumbnail instanceof Function) {
                thumbnailHost.appendChild(this.props.cardData.thumbnail());
            }
            else if (this.props.cardData.thumbnail) {
                thumbnailHost.appendChild(this.props.cardData.thumbnail);
            }
        }
        var displayNameElement = document.createElement("div");
        displayNameElement.className = "acd-open-sample-item-title";
        displayNameElement.id = newItemId;
        displayNameElement.innerText = this.props.label;
        element.appendChild(thumbnailHost);
        element.appendChild(displayNameElement);
        return element;
    };
    OpenSampleItem._id = 0;
    return OpenSampleItem;
}());
var OpenSampleDialog = /** @class */ (function (_super) {
    __extends(OpenSampleDialog, _super);
    function OpenSampleDialog(props) {
        var _this = _super.call(this) || this;
        _this.props = props;
        return _this;
    }
    OpenSampleDialog.prototype.renderSection = function (title, items) {
        var _this = this;
        var renderedElement = document.createElement("div");
        if (title) {
            var titleElement = document.createElement("div");
            titleElement.className = "acd-dialog-title";
            titleElement.innerText = title;
            titleElement.style.marginTop = "10px";
            renderedElement.appendChild(titleElement);
        }
        var listElement = document.createElement("div");
        listElement.className = "acd-open-sample-item-container";
        listElement.setAttribute("role", "list");
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            if (!item)
                continue;
            var itemElement = new OpenSampleItem(item);
            itemElement.onComplete = function (output) {
                _this._output = output;
                _this.close();
            };
            listElement.appendChild(itemElement.render());
        }
        renderedElement.appendChild(listElement);
        return renderedElement;
    };
    OpenSampleDialog.prototype.renderContent = function () {
        var _this = this;
        var renderedElement = document.createElement("div");
        renderedElement.style.overflow = "auto";
        var featuredSection = this.renderSection(null, OpenSampleDialog._builtinItems.concat(this.props.handlers));
        renderedElement.appendChild(featuredSection);
        if (this.props.catalogue) {
            var divider = document.createElement("hr");
            renderedElement.appendChild(divider);
            this.props.catalogue.onDownloaded = function (sender) {
                if (sender.isDownloaded) {
                    var catalogueSection = _this.renderSection("Explore", _this.props.catalogue.entries.map(function (entry) {
                        return {
                            label: entry.displayName,
                            cardData: function (callback) {
                                entry.onDownloaded = function (sender) {
                                    var success = sender.cardPayloadDownloaded;
                                    if (success) {
                                        try {
                                            var cardPayload = JSON.parse(sender.cardPayload);
                                            var card = new Adaptive.AdaptiveCard();
                                            var cardData = sender.sampleData ?
                                                new ACData.Template(cardPayload).expand({
                                                    $root: JSON.parse(sender.sampleData)
                                                })
                                                : cardPayload;
                                            card.parse(cardData);
                                            card.render();
                                            card.renderedElement.style.width = "100%";
                                            return callback({
                                                cardPayload: entry.cardPayload,
                                                sampleData: entry.sampleData,
                                                thumbnail: card.renderedElement,
                                            });
                                        }
                                        catch (e) {
                                            // Swallow the exception
                                            console.error("Unable to load card sample. Error: " + e);
                                            success = false;
                                        }
                                    }
                                };
                                entry.download();
                            },
                        };
                    }));
                    renderedElement.appendChild(catalogueSection);
                }
                else {
                    console.error("Sender is not downloaded");
                }
            };
            this.props.catalogue.download();
        }
        var firstChild = featuredSection.firstElementChild;
        firstChild.focus();
        return renderedElement;
    };
    Object.defineProperty(OpenSampleDialog.prototype, "output", {
        get: function () {
            return this._output;
        },
        enumerable: false,
        configurable: true
    });
    OpenSampleDialog._builtinItems = [
        {
            label: "Blank Card",
            cardData: {
                cardPayload: JSON.stringify({
                    type: "AdaptiveCard",
                    $schema: "http://adaptivecards.io/schemas/adaptive-card.json",
                    version: "1.0",
                    body: []
                }),
            },
        },
    ];
    return OpenSampleDialog;
}(dialog_1.Dialog));
exports.OpenSampleDialog = OpenSampleDialog;


/***/ }),

/***/ "./src/peer-command.ts":
/*!*****************************!*\
  !*** ./src/peer-command.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PeerCommand = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var PeerCommand = /** @class */ (function () {
    function PeerCommand(init) {
        this.alwaysShowName = false;
        this.toolTip = undefined;
        this.isPromotable = false;
        this.showInPropertySheet = false;
        Object.assign(this, init);
    }
    PeerCommand.prototype.internalRender = function () {
        var _this = this;
        var buttonElement = document.createElement("button");
        buttonElement.classList.add("acd-peerButton");
        buttonElement.type = "button";
        buttonElement.title = this.toolTip ? this.toolTip : this.name;
        if (this.iconClass) {
            var iconElement = document.createElement("div");
            iconElement.classList.add("acd-peerButton-icon", this.iconClass);
            buttonElement.appendChild(iconElement);
        }
        if (this.name && (!this.iconClass || this.alwaysShowName)) {
            var nameElement = document.createElement("div");
            nameElement.classList.add("acd-peerButton-text");
            nameElement.innerText = this.name;
            buttonElement.classList.add("variableWidth");
            buttonElement.appendChild(nameElement);
        }
        else {
            buttonElement.classList.add("fixedWidth");
        }
        buttonElement.onclick = function (e) {
            if (_this.execute) {
                _this.execute(_this, buttonElement);
            }
        };
        buttonElement.onpointerdown = function (e) { e.cancelBubble = true; };
        return buttonElement;
    };
    PeerCommand.prototype.render = function () {
        this._renderedElement = this.internalRender();
        return this._renderedElement;
    };
    Object.defineProperty(PeerCommand.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    return PeerCommand;
}());
exports.PeerCommand = PeerCommand;


/***/ }),

/***/ "./src/pic2card.ts":
/*!*************************!*\
  !*** ./src/pic2card.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Pic2Card = void 0;
var Pic2Card = /** @class */ (function () {
    function Pic2Card() {
    }
    Pic2Card.pic2cardService = "";
    Pic2Card.privacyLink = "../privacy";
    return Pic2Card;
}());
exports.Pic2Card = Pic2Card;


/***/ }),

/***/ "./src/settings-manager.ts":
/*!*********************************!*\
  !*** ./src/settings-manager.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SettingsManager = void 0;
var SettingsManager = /** @class */ (function () {
    function SettingsManager() {
    }
    SettingsManager.determineIfStorageIsAvailable = function (type) {
        try {
            var storage = window[type];
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            return true;
        }
        catch (e) {
            return e instanceof DOMException && (
            // everything except Firefox
            e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                storage.length !== 0;
        }
    };
    SettingsManager.trySaveSetting = function (name, value) {
        if (SettingsManager.isLocalStorageAvailable) {
            localStorage.setItem(name, value);
        }
    };
    SettingsManager.tryLoadStringSetting = function (name) {
        if (SettingsManager.isLocalStorageAvailable) {
            var returnValue = localStorage.getItem(name);
            return {
                succeeded: true,
                value: returnValue
            };
        }
        else {
            return { succeeded: false };
        }
    };
    SettingsManager.tryLoadNumberSetting = function (name) {
        if (SettingsManager.isLocalStorageAvailable) {
            var returnValue = localStorage.getItem(name);
            return {
                succeeded: true,
                value: returnValue ? parseFloat(returnValue) : undefined
            };
        }
        else {
            return { succeeded: false };
        }
    };
    SettingsManager.tryLoadBooleanSetting = function (name, defaultValue) {
        if (SettingsManager.isLocalStorageAvailable) {
            var returnValue = localStorage.getItem(name);
            return {
                succeeded: true,
                value: returnValue ? returnValue == "true" : defaultValue
            };
        }
        else {
            return { succeeded: false };
        }
    };
    Object.defineProperty(SettingsManager, "isLocalStorageAvailable", {
        get: function () {
            if (!SettingsManager._isLocalStorageAvailable) {
                SettingsManager._isLocalStorageAvailable = SettingsManager.determineIfStorageIsAvailable("localStorage");
            }
            return SettingsManager._isLocalStorageAvailable;
        },
        enumerable: false,
        configurable: true
    });
    SettingsManager._isLocalStorageAvailable = undefined;
    return SettingsManager;
}());
exports.SettingsManager = SettingsManager;


/***/ }),

/***/ "./src/shared.ts":
/*!***********************!*\
  !*** ./src/shared.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GlobalSettings = void 0;
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var GlobalSettings = /** @class */ (function () {
    function GlobalSettings() {
    }
    GlobalSettings.enableDataBindingSupport = false;
    GlobalSettings.showDataStructureToolbox = false;
    GlobalSettings.showSampleDataEditorToolbox = false;
    GlobalSettings.showVersionPicker = false;
    GlobalSettings.selectedHostContainerControlsTargetVersion = true;
    GlobalSettings.showTargetVersionMismatchWarning = true;
    GlobalSettings.supportedTargetVersions = [
        Adaptive.Versions.v1_0,
        Adaptive.Versions.v1_1,
        Adaptive.Versions.v1_2,
        Adaptive.Versions.v1_3,
        Adaptive.Versions.v1_4,
        Adaptive.Versions.v1_5
    ];
    return GlobalSettings;
}());
exports.GlobalSettings = GlobalSettings;


/***/ }),

/***/ "./src/side-panel.ts":
/*!***************************!*\
  !*** ./src/side-panel.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SidePanel = exports.SidePanelAlignment = void 0;
var splitter_1 = __webpack_require__(/*! ./splitter */ "./src/splitter.ts");
var tool_box_1 = __webpack_require__(/*! ./tool-box */ "./src/tool-box.ts");
var settings_manager_1 = __webpack_require__(/*! ./settings-manager */ "./src/settings-manager.ts");
var SidePanelAlignment;
(function (SidePanelAlignment) {
    SidePanelAlignment[SidePanelAlignment["Top"] = 0] = "Top";
    SidePanelAlignment[SidePanelAlignment["Right"] = 1] = "Right";
    SidePanelAlignment[SidePanelAlignment["Bottom"] = 2] = "Bottom";
    SidePanelAlignment[SidePanelAlignment["Left"] = 3] = "Left";
})(SidePanelAlignment = exports.SidePanelAlignment || (exports.SidePanelAlignment = {}));
var ToolboxInfo = /** @class */ (function () {
    function ToolboxInfo(toolbox) {
        var _this = this;
        this.toolbox = toolbox;
        toolbox.onToggled = function (sender) {
            if (sender.isExpanded) {
                _this.showSplitter();
                _this.toolbox.renderedElement.classList.remove("acd-hidden");
            }
            else {
                _this.hideSplitter();
                _this.toolbox.renderedElement.classList.add("acd-hidden");
            }
            if (_this.onToggled) {
                _this.onToggled(_this);
            }
        };
    }
    ToolboxInfo.prototype.resizeEnded = function () {
        if (this.onResizeEnded) {
            this.onResizeEnded(this);
        }
    };
    ToolboxInfo.prototype.resized = function () {
        if (this.onResized) {
            this.onResized(this);
        }
    };
    ToolboxInfo.prototype.showSplitter = function () {
        if (this.splitter) {
            this.splitter.attachedTo.classList.remove("acd-hidden");
        }
    };
    ToolboxInfo.prototype.hideSplitter = function () {
        if (this.splitter) {
            this.splitter.attachedTo.classList.add("acd-hidden");
        }
    };
    Object.defineProperty(ToolboxInfo.prototype, "splitter", {
        get: function () {
            return this._splitter;
        },
        set: function (value) {
            var _this = this;
            this._splitter = value;
            this._splitter.onResizeEnded = function (sender) {
                _this.resizeEnded();
            };
            this._splitter.onResized = function (sender) {
                _this.resized();
            };
        },
        enumerable: false,
        configurable: true
    });
    return ToolboxInfo;
}());
var SidePanel = /** @class */ (function () {
    function SidePanel(id, alignment, collapsedTabContainer) {
        this._toolboxes = [];
        this._isRestoring = false;
        this.isResizable = true;
        this.id = id;
        this._alignment = alignment;
        this._collapsedTabContainer = collapsedTabContainer;
    }
    SidePanel.prototype.updateLayout = function () {
        var expandedToolboxCount = 0;
        for (var _i = 0, _a = this._toolboxes; _i < _a.length; _i++) {
            var toolboxInfo = _a[_i];
            if (toolboxInfo.toolbox.isExpanded) {
                expandedToolboxCount++;
                if (expandedToolboxCount == 1) {
                    toolboxInfo.hideSplitter();
                    toolboxInfo.toolbox.stretch = true;
                }
                else {
                    toolboxInfo.showSplitter();
                    toolboxInfo.toolbox.stretch = false;
                }
            }
        }
        if (expandedToolboxCount > 0) {
            this._attachedTo.classList.remove("acd-hidden");
        }
        else {
            this._attachedTo.classList.add("acd-hidden");
        }
    };
    SidePanel.prototype.computeToolboxSize = function (toolbox) {
        var boundingRect = this._attachedTo.getBoundingClientRect();
        var toolboxBoundingRect = toolbox.renderedElement.getBoundingClientRect();
        if (this.isVertical) {
            toolbox.renderedElement.style.height = (100 / boundingRect.height * toolboxBoundingRect.height) + "%";
        }
        else {
            toolbox.renderedElement.style.width = (100 / boundingRect.width * toolboxBoundingRect.width) + "%";
        }
    };
    SidePanel.prototype.resized = function () {
        if (this.onResized) {
            this.onResized(this);
        }
        this.saveState();
    };
    SidePanel.prototype.toolboxResized = function (toolbox) {
        if (this.onToolboxResized) {
            this.onToolboxResized(this, toolbox);
        }
        this.saveState();
    };
    SidePanel.prototype.toolboxExpandedOrCollapsed = function (toolbox) {
        if (this.onToolboxExpandedOrCollapsed) {
            this.onToolboxExpandedOrCollapsed(this, toolbox);
        }
        this.saveState();
    };
    SidePanel.prototype.getDimensionSettingName = function () {
        return this.id + (this.isVertical ? "Height" : "Width");
    };
    Object.defineProperty(SidePanel.prototype, "isVertical", {
        get: function () {
            return this._alignment == SidePanelAlignment.Right || this._alignment == SidePanelAlignment.Left;
        },
        enumerable: false,
        configurable: true
    });
    SidePanel.prototype.addToolbox = function (toolbox) {
        var _this = this;
        var toolboxInfo = new ToolboxInfo(toolbox);
        toolboxInfo.onToggled = function (sender) {
            _this.updateLayout();
            _this.toolboxExpandedOrCollapsed(toolboxInfo.toolbox);
        };
        toolboxInfo.onResizeEnded = function (sender) {
            _this.computeToolboxSize(sender.toolbox);
            _this.toolboxResized(sender.toolbox);
        };
        toolboxInfo.onResized = function (sender) {
            _this.toolboxResized(sender.toolbox);
        };
        this._toolboxes.push(toolboxInfo);
    };
    SidePanel.prototype.attachTo = function (attachTo) {
        var _this = this;
        this._attachedTo = attachTo;
        this._attachedTo.classList.add("acd-sidepanel-parent");
        this._contentHost = document.createElement("div");
        this._contentHost.className = "acd-sidepanel-host";
        if (this.isVertical) {
            this._contentHost.classList.add("acd-sidepanel-host-vertical");
        }
        else {
            this._contentHost.classList.add("acd-sidepanel-host-horizontal");
        }
        for (var i = 0; i < this._toolboxes.length; i++) {
            var toolboxInfo = this._toolboxes[i];
            toolboxInfo.toolbox.render(this.isVertical ? tool_box_1.ToolboxOrientation.Vertical : tool_box_1.ToolboxOrientation.Horizontal, this._collapsedTabContainer);
            if (i > 0) {
                var splitterElement_1 = document.createElement("div");
                if (this.isVertical) {
                    splitterElement_1.className = "acd-horizontal-splitter";
                    toolboxInfo.toolbox.renderedElement.style.height = (100 / this._toolboxes.length) + "%";
                }
                else {
                    splitterElement_1.className = "acd-vertical-splitter";
                    toolboxInfo.toolbox.renderedElement.style.width = (100 / this._toolboxes.length) + "%";
                }
                toolboxInfo.toolbox.renderedElement.appendChild(splitterElement_1);
                toolboxInfo.splitter = new splitter_1.Splitter(splitterElement_1, toolboxInfo.toolbox.renderedElement, !this.isVertical);
            }
            this._contentHost.appendChild(toolboxInfo.toolbox.renderedElement);
        }
        var splitterElement = null;
        if (this.isResizable) {
            splitterElement = document.createElement("div");
            splitterElement.className = this.isVertical ? "acd-vertical-splitter" : "acd-horizontal-splitter";
            var splitter = new splitter_1.Splitter(splitterElement, this._attachedTo, this.isVertical, this._alignment == SidePanelAlignment.Left || this._alignment == SidePanelAlignment.Top);
            splitter.onResized = function (splitter) {
                _this.resized();
            };
        }
        this._attachedTo.innerHTML = "";
        if (this.isVertical) {
            if (this.size) {
                this._attachedTo.style.width = this.size + "px";
            }
            this._attachedTo.classList.add("acd-sidepanel-parent-vertical");
        }
        else {
            if (this.size) {
                this._attachedTo.style.height = this.size + "px";
            }
            this._attachedTo.classList.add("acd-sidepanel-parent-horizontal");
        }
        if (this._alignment == SidePanelAlignment.Right || this._alignment == SidePanelAlignment.Bottom) {
            if (splitterElement) {
                this._attachedTo.appendChild(splitterElement);
            }
            this._attachedTo.appendChild(this._contentHost);
        }
        else {
            this._attachedTo.appendChild(this._contentHost);
            if (splitterElement) {
                this._attachedTo.appendChild(splitterElement);
            }
        }
        this.restoreState();
        this.updateLayout();
    };
    SidePanel.prototype.saveState = function () {
        if (!this._isRestoring) {
            settings_manager_1.SettingsManager.trySaveSetting(this.getDimensionSettingName(), this.isVertical ? this._attachedTo.style.width : this._attachedTo.style.height);
            for (var _i = 0, _a = this._toolboxes; _i < _a.length; _i++) {
                var toolboxInfo = _a[_i];
                toolboxInfo.toolbox.saveState();
            }
        }
    };
    SidePanel.prototype.restoreState = function () {
        if (this._attachedTo && !this._isRestoring) {
            this._isRestoring = true;
            try {
                var dimensionSetting = settings_manager_1.SettingsManager.tryLoadStringSetting(this.getDimensionSettingName());
                if (dimensionSetting.succeeded && dimensionSetting.value != undefined && dimensionSetting.value != "") {
                    if (this.isVertical) {
                        this._attachedTo.style.width = dimensionSetting.value;
                    }
                    else {
                        this._attachedTo.style.height = dimensionSetting.value;
                    }
                }
                for (var _i = 0, _a = this._toolboxes; _i < _a.length; _i++) {
                    var toolboxInfo = _a[_i];
                    toolboxInfo.toolbox.restoreState();
                }
                this.updateLayout();
                this.resized();
            }
            finally {
                this._isRestoring = false;
            }
        }
    };
    Object.defineProperty(SidePanel.prototype, "contentHost", {
        get: function () {
            return this._contentHost;
        },
        enumerable: false,
        configurable: true
    });
    return SidePanel;
}());
exports.SidePanel = SidePanel;


/***/ }),

/***/ "./src/splitter.ts":
/*!*************************!*\
  !*** ./src/splitter.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Splitter = void 0;
var Splitter = /** @class */ (function () {
    function Splitter(attachedTo, sizedElement, isVertical, isAttachedAfter, minimumSize) {
        var _this = this;
        if (isVertical === void 0) { isVertical = false; }
        if (isAttachedAfter === void 0) { isAttachedAfter = false; }
        if (minimumSize === void 0) { minimumSize = 140; }
        this._isVertical = false;
        this._isAttachedAfter = false;
        this.minimum = 50;
        this.attachedTo = attachedTo;
        this._sizedELement = sizedElement;
        this._isVertical = isVertical;
        this._isAttachedAfter = isAttachedAfter;
        this.minimum = minimumSize;
        this.attachedTo.onmousedown = function (e) { e.preventDefault(); };
        this.attachedTo.onpointerdown = function (e) { _this.pointerDown(e); };
        this.attachedTo.onpointermove = function (e) { _this.pointerMove(e); };
        this.attachedTo.onpointerup = function (e) { _this.pointerUp(e); };
    }
    Splitter.prototype.resizeEnded = function () {
        if (this.onResizeEnded) {
            this.onResizeEnded(this);
        }
    };
    Splitter.prototype.pointerDown = function (e) {
        e.preventDefault();
        this.attachedTo.setPointerCapture(e.pointerId);
        this._lastClickedOffset = { x: e.x, y: e.y };
        this._isPointerDown = true;
    };
    Splitter.prototype.pointerMove = function (e) {
        if (this._isPointerDown) {
            e.preventDefault();
            var sizeApplied = false;
            var newSize = void 0;
            if (this._isVertical) {
                if (this._isAttachedAfter) {
                    newSize = this._sizedELement.getBoundingClientRect().width - (this._lastClickedOffset.x - e.x);
                }
                else {
                    newSize = this._sizedELement.getBoundingClientRect().width - (e.x - this._lastClickedOffset.x);
                }
                if (newSize >= this.minimum) {
                    this._sizedELement.style.width = newSize + "px";
                    sizeApplied = true;
                }
            }
            else {
                if (this._isAttachedAfter) {
                    newSize = this._sizedELement.getBoundingClientRect().height - (this._lastClickedOffset.y - e.y);
                }
                else {
                    newSize = this._sizedELement.getBoundingClientRect().height - (e.y - this._lastClickedOffset.y);
                }
                if (newSize >= this.minimum) {
                    this._sizedELement.style.height = newSize + "px";
                    sizeApplied = true;
                }
            }
            if (sizeApplied) {
                if (this.onResized) {
                    this.onResized(this);
                }
                this._lastClickedOffset = { x: e.x, y: e.y };
            }
        }
    };
    Splitter.prototype.pointerUp = function (e) {
        e.preventDefault();
        this.attachedTo.releasePointerCapture(e.pointerId);
        this.resizeEnded();
        this._isPointerDown = false;
    };
    return Splitter;
}());
exports.Splitter = Splitter;


/***/ }),

/***/ "./src/strings.ts":
/*!************************!*\
  !*** ./src/strings.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Strings = void 0;
var Strings = /** @class */ (function () {
    function Strings() {
    }
    Strings.toolboxes = {
        toolPalette: {
            title: "CARD ELEMENTS"
        },
        cardEditor: {
            title: "CARD PAYLOAD EDITOR"
        },
        sampleDataEditor: {
            title: "SAMPLE DATA EDITOR"
        },
        propertySheet: {
            title: "ELEMENT PROPERTIES",
            commands: {
                bindData: {
                    displayText: function () { return "..."; },
                    accessibleText: function (propertyLabel) { return "Data Binding"; }
                }
            }
        },
        cardStructure: {
            title: "CARD STRUCTURE"
        },
        dataStructure: {
            title: "DATA STRUCTURE"
        }
    };
    Strings.loadingEditor = "Loading editor...";
    return Strings;
}());
exports.Strings = Strings;


/***/ }),

/***/ "./src/tool-box.ts":
/*!*************************!*\
  !*** ./src/tool-box.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Toolbox = exports.ToolboxOrientation = void 0;
var settings_manager_1 = __webpack_require__(/*! ./settings-manager */ "./src/settings-manager.ts");
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var ToolboxOrientation;
(function (ToolboxOrientation) {
    ToolboxOrientation[ToolboxOrientation["Horizontal"] = 0] = "Horizontal";
    ToolboxOrientation[ToolboxOrientation["Vertical"] = 1] = "Vertical";
})(ToolboxOrientation = exports.ToolboxOrientation || (exports.ToolboxOrientation = {}));
var Toolbox = /** @class */ (function () {
    function Toolbox(id, title) {
        this._isExpanded = true;
        this._stretch = false;
        this._isRestoring = false;
        this.commands = null;
        this.id = id;
        this.title = title;
    }
    Toolbox.prototype.getDimensionSettingName = function () {
        return "Toolbox" + this.id + (this._orientation == ToolboxOrientation.Vertical ? "Height" : "Width");
    };
    Toolbox.prototype.updateContent = function () {
        if (this._contentHost) {
            this._contentHost.innerHTML = "";
            if (this._content) {
                this._contentHost.appendChild(this._content);
            }
        }
    };
    Toolbox.prototype.toggled = function () {
        if (this.onToggled) {
            this.onToggled(this);
        }
    };
    Toolbox.prototype.render = function (orientation, collapsedTabContainer) {
        var _this = this;
        this._orientation = orientation;
        this._collapsedTabContainer = collapsedTabContainer;
        this._renderedElement = document.createElement("div");
        this._renderedElement.classList.add("acd-toolbox");
        this.stretch = this.stretch; // trigger CSS class painting based on defaults
        this._headerRootElement = document.createElement("div");
        this._headerRootElement.innerHTML = "";
        this._headerRootElement.className = "acd-toolbox-header";
        var headerContentElement = document.createElement("div");
        headerContentElement.className = "acd-toolbox-header-content";
        var headerTitleElement = document.createElement("span");
        headerTitleElement.className = "acd-toolbox-header-title";
        headerTitleElement.innerText = this.title;
        headerContentElement.appendChild(headerTitleElement);
        var headerCommandsHostElement = document.createElement("span");
        headerCommandsHostElement.className = "acd-toolbox-header-commandsHost";
        this._customCommandsHost = document.createElement("div");
        this._customCommandsHost.style.display = "flex";
        if (this.commands) {
            var _loop_1 = function (command) {
                var commandButtonElement = document.createElement("div");
                commandButtonElement.className = "acd-toolbox-header-commandButton";
                commandButtonElement.title = command.title;
                commandButtonElement.onclick = function (e) {
                    command.execute(command);
                };
                var commandIconElement = document.createElement("div");
                commandIconElement.classList.add("acd-icon", command.iconClass);
                commandButtonElement.appendChild(commandIconElement);
                this_1._customCommandsHost.appendChild(commandButtonElement);
            };
            var this_1 = this;
            for (var _i = 0, _a = this.commands; _i < _a.length; _i++) {
                var command = _a[_i];
                _loop_1(command);
            }
        }
        headerCommandsHostElement.appendChild(this._customCommandsHost);
        this._expandCollapseButtonElement = document.createElement("span");
        this._expandCollapseButtonElement.className = "acd-toolbox-header-commandButton";
        this._expandCollapseButtonElement.title = "Hide " + this.title;
        this._expandCollapseButtonElement.tabIndex = 0;
        this._expandCollapseButtonElement.setAttribute("role", "button");
        this._expandCollapseButtonElement.setAttribute("aria-expanded", "true");
        this._headerIconElement = document.createElement("span");
        this._headerIconElement.classList.add("acd-icon", "acd-icon-header-expanded");
        this._expandCollapseButtonElement.appendChild(this._headerIconElement);
        this._expandCollapseButtonElement.onkeydown = function (e) {
            if (e.key === adaptivecards_controls_1.Constants.keys.enter || e.key === adaptivecards_controls_1.Constants.keys.space) {
                _this.toggle();
                e.preventDefault();
                _this._expandCollapseButtonElement.focus();
            }
            if (e.key === adaptivecards_controls_1.Constants.keys.escape) {
                _this.collapse();
                e.preventDefault();
                _this._expandCollapseButtonElement.focus();
            }
        };
        this._expandCollapseButtonElement.onclick = function (e) {
            _this.toggle();
            e.preventDefault();
            return true;
        };
        headerCommandsHostElement.appendChild(this._expandCollapseButtonElement);
        headerContentElement.appendChild(headerCommandsHostElement);
        this._headerRootElement.appendChild(headerContentElement);
        this._contentHost = document.createElement("div");
        this._contentHost.style.overflow = "auto";
        this._renderedElement.appendChild(this._headerRootElement);
        this._renderedElement.appendChild(this._contentHost);
        this.updateContent();
    };
    Toolbox.prototype.collapse = function () {
        if (this._isExpanded) {
            this._headerIconElement.classList.add("acd-icon-header-collapsed");
            this._headerIconElement.classList.remove("acd-icon-header-expanded");
            this._customCommandsHost.classList.add("acd-hidden");
            if (this._collapsedTabContainer) {
                this._renderedElement.removeChild(this._headerRootElement);
                this._collapsedTabContainer.appendChild(this._headerRootElement);
            }
            this._expandCollapseButtonElement.title = "Show " + this.title;
            this._expandCollapseButtonElement.setAttribute("aria-expanded", "false");
            this._isExpanded = false;
            this.toggled();
        }
    };
    Toolbox.prototype.expand = function () {
        if (!this._isExpanded) {
            this._headerIconElement.classList.add("acd-icon-header-expanded");
            this._headerIconElement.classList.remove("acd-icon-header-collapsed");
            this._customCommandsHost.classList.remove("acd-hidden");
            if (this._collapsedTabContainer) {
                this._collapsedTabContainer.removeChild(this._headerRootElement);
                this._renderedElement.insertBefore(this._headerRootElement, this._renderedElement.firstChild);
            }
            this._expandCollapseButtonElement.title = "Hide " + this.title;
            this._expandCollapseButtonElement.setAttribute("aria-expanded", "true");
            this._isExpanded = true;
            this.toggled();
        }
    };
    Toolbox.prototype.toggle = function () {
        if (this.isExpanded) {
            this.collapse();
        }
        else {
            this.expand();
        }
    };
    Toolbox.prototype.getHeaderBoundingRect = function () {
        return this._headerRootElement.getBoundingClientRect();
    };
    Toolbox.prototype.saveState = function () {
        if (!this._isRestoring) {
            settings_manager_1.SettingsManager.trySaveSetting("Toolbox" + this.id + "IsExpanded", this.isExpanded.toString());
            settings_manager_1.SettingsManager.trySaveSetting(this.getDimensionSettingName(), this.orientation == ToolboxOrientation.Vertical ? this.renderedElement.style.height : this.renderedElement.style.width);
        }
    };
    Toolbox.prototype.restoreState = function () {
        if (this.renderedElement && !this._isRestoring) {
            this._isRestoring = true;
            try {
                var dimensionSetting = settings_manager_1.SettingsManager.tryLoadStringSetting(this.getDimensionSettingName());
                if (dimensionSetting.succeeded && dimensionSetting.value != undefined && dimensionSetting.value != "") {
                    if (this.orientation == ToolboxOrientation.Vertical) {
                        this.renderedElement.style.height = dimensionSetting.value;
                    }
                    else {
                        this.renderedElement.style.width = dimensionSetting.value;
                    }
                }
                var isExpandedSetting = settings_manager_1.SettingsManager.tryLoadBooleanSetting("Toolbox" + this.id + "IsExpanded", true);
                if (isExpandedSetting.succeeded) {
                    if (isExpandedSetting.value) {
                        this.expand();
                    }
                    else {
                        this.collapse();
                    }
                }
            }
            finally {
                this._isRestoring = false;
            }
        }
    };
    Object.defineProperty(Toolbox.prototype, "orientation", {
        get: function () {
            return this._orientation;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "content", {
        get: function () {
            return this._content;
        },
        set: function (value) {
            this._content = value;
            this.updateContent();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "isExpanded", {
        get: function () {
            return this._isExpanded;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Toolbox.prototype, "stretch", {
        get: function () {
            return this._stretch;
        },
        set: function (value) {
            this._stretch = value;
            if (this._stretch) {
                this.renderedElement.classList.add("acd-toolbox-stretch");
                this.renderedElement.classList.remove("acd-toolbox-no-stretch");
            }
            else {
                this.renderedElement.classList.add("acd-toolbox-no-stretch");
                this.renderedElement.classList.remove("acd-toolbox-stretch");
            }
        },
        enumerable: false,
        configurable: true
    });
    return Toolbox;
}());
exports.Toolbox = Toolbox;


/***/ }),

/***/ "./src/tool-palette.ts":
/*!*****************************!*\
  !*** ./src/tool-palette.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SnippetPaletteItem = exports.CustomPaletteItem = exports.DataPaletteItem = exports.ElementPaletteItem = exports.BasePaletteItem = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Adaptive = __webpack_require__(/*! adaptivecards */ "adaptivecards");
var draggable_element_1 = __webpack_require__(/*! ./draggable-element */ "./src/draggable-element.ts");
var card_designer_surface_1 = __webpack_require__(/*! ./card-designer-surface */ "./src/card-designer-surface.ts");
var BasePaletteItem = /** @class */ (function (_super) {
    __extends(BasePaletteItem, _super);
    function BasePaletteItem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BasePaletteItem.prototype.internalRender = function () {
        var element = document.createElement("div");
        element.className = "acd-palette-item";
        element.style.display = "flex";
        element.setAttribute("role", "button");
        element.tabIndex = 0;
        var iconElement = document.createElement("div");
        iconElement.classList.add("acd-icon", "acd-toolPalette-icon", this.getIconClass());
        iconElement.style.flex = "0 0 auto";
        var labelElement = document.createElement("div");
        labelElement.className = "acd-palette-item-label";
        labelElement.style.flex = "1 1 100%";
        labelElement.innerText = this.getText();
        element.appendChild(iconElement);
        element.appendChild(labelElement);
        return element;
    };
    BasePaletteItem.prototype.renderDragVisual = function () {
        return this.internalRender();
    };
    return BasePaletteItem;
}(draggable_element_1.DraggableElement));
exports.BasePaletteItem = BasePaletteItem;
var ElementPaletteItem = /** @class */ (function (_super) {
    __extends(ElementPaletteItem, _super);
    function ElementPaletteItem(typeRegistration, peerRegistration) {
        var _this = _super.call(this) || this;
        _this.typeRegistration = typeRegistration;
        _this.peerRegistration = peerRegistration;
        return _this;
    }
    ElementPaletteItem.prototype.getText = function () {
        return this.typeRegistration.typeName;
    };
    ElementPaletteItem.prototype.getIconClass = function () {
        return this.peerRegistration.iconClass;
    };
    ElementPaletteItem.prototype.createPeer = function (context, designer) {
        return card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(designer, null, new this.typeRegistration.objectType(), true);
    };
    return ElementPaletteItem;
}(BasePaletteItem));
exports.ElementPaletteItem = ElementPaletteItem;
var DataPaletteItem = /** @class */ (function (_super) {
    __extends(DataPaletteItem, _super);
    function DataPaletteItem(field) {
        var _this = _super.call(this) || this;
        _this.field = field;
        return _this;
    }
    DataPaletteItem.prototype.getText = function () {
        return this.field.name;
    };
    DataPaletteItem.prototype.getIconClass = function () {
        return null;
    };
    DataPaletteItem.prototype.createPeer = function (context, designer) {
        var element;
        if (this.field.isCollection) {
            element = new Adaptive.Container();
            element.setCustomProperty("$data", "{" + this.field.getPath() + "}");
        }
        else {
            var textBlock = new Adaptive.TextBlock();
            textBlock.text = "{" + this.field.getPath() + "}";
            element = textBlock;
        }
        return card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(designer, null, element, true);
    };
    return DataPaletteItem;
}(BasePaletteItem));
exports.DataPaletteItem = DataPaletteItem;
var CustomPaletteItem = /** @class */ (function (_super) {
    __extends(CustomPaletteItem, _super);
    function CustomPaletteItem(category) {
        var _this = _super.call(this) || this;
        _this.category = category;
        return _this;
    }
    CustomPaletteItem.prototype.getIconClass = function () {
        return "acd-icon-customPaletteItem";
    };
    return CustomPaletteItem;
}(BasePaletteItem));
exports.CustomPaletteItem = CustomPaletteItem;
var SnippetPaletteItem = /** @class */ (function (_super) {
    __extends(SnippetPaletteItem, _super);
    function SnippetPaletteItem(category, name) {
        var _this = _super.call(this, category) || this;
        _this.name = name;
        return _this;
    }
    SnippetPaletteItem.prototype.getText = function () {
        return this.name;
    };
    SnippetPaletteItem.prototype.createPeer = function (context, designer) {
        if (this.snippet) {
            var rootElementTypeName = this.snippet["type"];
            if (rootElementTypeName) {
                var adaptiveElement = context.hostContainer.elementsRegistry.createInstance(rootElementTypeName, context.targetVersion);
                if (adaptiveElement) {
                    adaptiveElement.parse(this.snippet);
                    return card_designer_surface_1.CardDesignerSurface.cardElementPeerRegistry.createPeerInstance(designer, null, adaptiveElement, true);
                }
            }
        }
    };
    return SnippetPaletteItem;
}(CustomPaletteItem));
exports.SnippetPaletteItem = SnippetPaletteItem;


/***/ }),

/***/ "./src/toolbar.ts":
/*!************************!*\
  !*** ./src/toolbar.ts ***!
  \************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Toolbar = exports.ToolbarChoicePicker = exports.ToolbarButton = exports.ToolbarElement = exports.ToolbarElementAlignment = void 0;
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var adaptivecards_controls_1 = __webpack_require__(/*! adaptivecards-controls */ "../adaptivecards-controls/lib/adaptivecards-controls.js");
var uuid_1 = __webpack_require__(/*! uuid */ "./node_modules/uuid/dist/esm-browser/index.js");
var ToolbarElementAlignment;
(function (ToolbarElementAlignment) {
    ToolbarElementAlignment[ToolbarElementAlignment["Left"] = 0] = "Left";
    ToolbarElementAlignment[ToolbarElementAlignment["Right"] = 1] = "Right";
})(ToolbarElementAlignment = exports.ToolbarElementAlignment || (exports.ToolbarElementAlignment = {}));
var ToolbarElement = /** @class */ (function () {
    function ToolbarElement(id) {
        this._renderedElement = undefined;
        this.isVisible = true;
        this.separator = false;
        this.label = null;
        this.alignment = ToolbarElementAlignment.Left;
        if (!id || id === "") {
            throw new Error("Toolbar elements must have an Id.");
        }
        this.id = id;
    }
    ToolbarElement.prototype.internalUpdateLayout = function () {
        // Do nothing in base implementation
    };
    ToolbarElement.prototype.updateLayout = function () {
        if (this._renderedElement) {
            this.internalUpdateLayout();
        }
    };
    ToolbarElement.prototype.render = function () {
        this._renderedElement = this.internalRender();
        this.updateLayout();
        return this._renderedElement;
    };
    Object.defineProperty(ToolbarElement.prototype, "renderedElement", {
        get: function () {
            return this._renderedElement;
        },
        enumerable: false,
        configurable: true
    });
    return ToolbarElement;
}());
exports.ToolbarElement = ToolbarElement;
var ToolbarButton = /** @class */ (function (_super) {
    __extends(ToolbarButton, _super);
    function ToolbarButton(id, caption, iconClass, onClick) {
        if (onClick === void 0) { onClick = null; }
        var _this = _super.call(this, id) || this;
        _this._displayCaption = true;
        _this._iconClass = undefined;
        _this._toolTip = undefined;
        _this._isEnabled = true;
        _this._allowToggle = false;
        _this._isToggled = false;
        _this.caption = caption;
        _this.iconClass = iconClass;
        _this.onClick = onClick;
        return _this;
    }
    ToolbarButton.prototype.clicked = function () {
        if (this.isEnabled && this.onClick) {
            this.onClick(this);
        }
    };
    ToolbarButton.prototype.internalUpdateLayout = function () {
        this.renderedElement.className = "acd-toolbar-button";
        if (!this.isEnabled) {
            this.renderedElement.classList.add("acd-toolbar-button-disabled");
            this.renderedElement.setAttribute("aria-disabled", "true");
        }
        else {
            this.renderedElement.classList.remove("acd-toolbar-button-disabled");
            this.renderedElement.removeAttribute("aria-disabled");
        }
        if (this.isToggled) {
            this.renderedElement.classList.add("acd-toolbar-button-toggled");
        }
        else {
            this.renderedElement.classList.remove("acd-toolbar-button-toggled");
        }
        if (this.allowToggle) {
            this.renderedElement.setAttribute("aria-pressed", this.isToggled.toString());
        }
        if (this.iconClass) {
            this.renderedElement.classList.add(this.iconClass);
        }
        if (!this.displayCaption) {
            this.renderedElement.classList.add("acd-toolbar-button-iconOnly");
            this.renderedElement.innerText = "";
        }
        else {
            this.renderedElement.innerText = this.caption;
        }
        this.renderedElement.title = this.toolTip ? this.toolTip : "";
    };
    ToolbarButton.prototype.internalRender = function () {
        var _this = this;
        var element = document.createElement("button");
        element.type = "button";
        element.onclick = function (e) {
            if (_this.allowToggle) {
                _this.isToggled = !_this.isToggled;
            }
            _this.clicked();
        };
        return element;
    };
    Object.defineProperty(ToolbarButton.prototype, "allowToggle", {
        get: function () {
            return this._allowToggle;
        },
        set: function (value) {
            this._allowToggle = value;
            if (!this._allowToggle) {
                this.isToggled = false;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "isToggled", {
        get: function () {
            return this._isToggled;
        },
        set: function (value) {
            this._isToggled = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "caption", {
        get: function () {
            return this._caption;
        },
        set: function (value) {
            this._caption = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "displayCaption", {
        get: function () {
            return this._displayCaption;
        },
        set: function (value) {
            this._displayCaption = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "iconClass", {
        get: function () {
            return this._iconClass;
        },
        set: function (value) {
            this._iconClass = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "toolTip", {
        get: function () {
            return this._toolTip;
        },
        set: function (value) {
            this._toolTip = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarButton.prototype, "isEnabled", {
        get: function () {
            return this._isEnabled;
        },
        set: function (value) {
            this._isEnabled = value;
            this.updateLayout();
        },
        enumerable: false,
        configurable: true
    });
    return ToolbarButton;
}(ToolbarElement));
exports.ToolbarButton = ToolbarButton;
var ToolbarChoicePicker = /** @class */ (function (_super) {
    __extends(ToolbarChoicePicker, _super);
    function ToolbarChoicePicker() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.choices = [];
        _this.width = null;
        return _this;
    }
    ToolbarChoicePicker.prototype.internalRender = function () {
        var _this = this;
        this._dropDown = new adaptivecards_controls_1.DropDown();
        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {
            var choice = _a[_i];
            var dropDownItem = new adaptivecards_controls_1.DropDownItem(choice.value, choice.name);
            this._dropDown.items.add(dropDownItem);
        }
        this._dropDown.selectedIndex = 0;
        this._dropDown.onValueChanged = function (sender) {
            if (_this.onChanged) {
                _this.onChanged(_this);
            }
        };
        var pickerElement = document.createElement("div");
        if (this.width && this.width > 0) {
            pickerElement.style.width = this.width + "px";
        }
        // update label ids so we can generate correct aria
        if (this.label && !this._labelledById) {
            this._labelledById = (0, uuid_1.v4)();
            this._dropDown.parentLabelId = this._labelledById;
        }
        this._dropDown.attach(pickerElement);
        var pickerContainerElement = document.createElement("div");
        pickerContainerElement.className = "acd-toolbar-choicePicker";
        if (this.label) {
            var labelElement = document.createElement("div");
            labelElement.className = "acd-toolbar-label";
            labelElement.innerText = this.label;
            labelElement.id = this._labelledById;
            pickerContainerElement.appendChild(labelElement);
        }
        pickerContainerElement.appendChild(pickerElement);
        return pickerContainerElement;
    };
    Object.defineProperty(ToolbarChoicePicker.prototype, "value", {
        get: function () {
            return this._dropDown.value.key;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(ToolbarChoicePicker.prototype, "selectedIndex", {
        get: function () {
            return this._dropDown.selectedIndex;
        },
        set: function (value) {
            this._dropDown.selectedIndex = value;
        },
        enumerable: false,
        configurable: true
    });
    return ToolbarChoicePicker;
}(ToolbarElement));
exports.ToolbarChoicePicker = ToolbarChoicePicker;
var Toolbar = /** @class */ (function () {
    function Toolbar() {
        this._elements = [];
    }
    Toolbar.prototype.createSeparatorElement = function () {
        var separatorElement = document.createElement("div");
        separatorElement.className = "acd-toolbar-separator";
        return separatorElement;
    };
    Toolbar.prototype.renderElementsInto = function (container, elements, separatorPosition) {
        for (var i = 0; i < elements.length; i++) {
            if (elements[i].separator && separatorPosition == ToolbarElementAlignment.Left && i > 0) {
                container.appendChild(this.createSeparatorElement());
            }
            container.appendChild(elements[i].render());
            if (elements[i].separator && separatorPosition == ToolbarElementAlignment.Right && i < elements.length - 1) {
                container.appendChild(this.createSeparatorElement());
            }
        }
    };
    Toolbar.prototype.attachTo = function (element) {
        this._attachedTo = element;
        this._attachedTo.className = "acd-toolbar";
        this._attachedTo.innerHTML = "";
        var leftElements = [];
        var rightElements = [];
        for (var _i = 0, _a = this._elements; _i < _a.length; _i++) {
            var element_1 = _a[_i];
            if (element_1.isVisible) {
                if (element_1.alignment == ToolbarElementAlignment.Left) {
                    leftElements.push(element_1);
                }
                else {
                    rightElements.push(element_1);
                }
            }
        }
        var leftContainer = document.createElement("div");
        leftContainer.className = "acd-toolbar-content";
        var rightContainer = document.createElement("div");
        rightContainer.className = "acd-toolbar-content";
        this.renderElementsInto(leftContainer, leftElements, ToolbarElementAlignment.Left);
        this.renderElementsInto(rightContainer, rightElements, ToolbarElementAlignment.Right);
        this._attachedTo.appendChild(leftContainer);
        this._attachedTo.appendChild(rightContainer);
    };
    Toolbar.prototype.addElement = function (element) {
        this._elements.push(element);
    };
    Toolbar.prototype.getElementById = function (elementId) {
        for (var _i = 0, _a = this._elements; _i < _a.length; _i++) {
            var element = _a[_i];
            if (element.id == elementId) {
                return element;
            }
        }
        return null;
    };
    Toolbar.prototype.insertElementAfter = function (element, afterElementId) {
        for (var i = 0; i < this._elements.length; i++) {
            if (this._elements[i].id == afterElementId) {
                this._elements.splice(i + 1, 0, element);
                return;
            }
        }
        // Add as the last element if no element was found with the
        // specified id
        this._elements.push(element);
    };
    Toolbar.prototype.insertElementBefore = function (element, beforeElementId) {
        for (var i = this._elements.length - 1; i >= 0; i--) {
            if (this._elements[i].id == beforeElementId) {
                this._elements.splice(i, 0, element);
                return;
            }
        }
        // Insert as first element if no element was found with the
        // specified id
        this._elements.splice(0, 0, element);
    };
    return Toolbar;
}());
exports.Toolbar = Toolbar;


/***/ }),

/***/ "./src/tree-view.ts":
/*!**************************!*\
  !*** ./src/tree-view.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeView = void 0;
var TreeView = /** @class */ (function () {
    function TreeView(rootItem) {
        this.rootItem = rootItem;
        this._selectedItem = undefined;
    }
    TreeView.prototype.setupTreeItemEvents = function (treeItem) {
        var _this = this;
        treeItem.onSelectedChange = function (sender) {
            _this.selectedItem = sender;
        };
        for (var i = 0; i < treeItem.getChildCount(); i++) {
            this.setupTreeItemEvents(treeItem.getChildAt(i));
        }
    };
    TreeView.prototype.selectedItemChanged = function () {
        if (this.onSelectedItemChanged) {
            this.onSelectedItemChanged(this);
        }
    };
    TreeView.prototype.focus = function () {
        if (this.rootItem) {
            this.rootItem.focus();
        }
    };
    TreeView.prototype.render = function () {
        var treeRoot = document.createElement("ul");
        treeRoot.style.paddingLeft = "0";
        treeRoot.style.listStyleType = "none";
        treeRoot.className = "acd-treeView";
        treeRoot.setAttribute("role", "tree");
        treeRoot.appendChild(this.rootItem.render());
        this.setupTreeItemEvents(this.rootItem);
        return treeRoot;
    };
    Object.defineProperty(TreeView.prototype, "selectedItem", {
        get: function () {
            return this._selectedItem;
        },
        set: function (value) {
            if (value !== this._selectedItem) {
                if (this._selectedItem) {
                    this._selectedItem.isSelected = false;
                }
                this._selectedItem = value;
                if (this._selectedItem) {
                    this._selectedItem.isSelected = true;
                }
                this.selectedItemChanged();
            }
        },
        enumerable: false,
        configurable: true
    });
    return TreeView;
}());
exports.TreeView = TreeView;


/***/ }),

/***/ "adaptivecards":
/*!************************************************************************************************!*\
  !*** external {"commonjs2":"adaptivecards","commonjs":"adaptivecards","root":"AdaptiveCards"} ***!
  \************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_adaptivecards__;

/***/ }),

/***/ "adaptivecards-templating":
/*!***************************************************************************************************************!*\
  !*** external {"commonjs2":"adaptivecards-templating","commonjs":"adaptivecards-templating","root":"ACData"} ***!
  \***************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_adaptivecards_templating__;

/***/ }),

/***/ "./src/hostConfigs/sample.json":
/*!*************************************!*\
  !*** ./src/hostConfigs/sample.json ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"spacing":{"small":3,"default":8,"medium":20,"large":30,"extraLarge":40,"padding":10},"separator":{"lineThickness":1,"lineColor":"#EEEEEE"},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":"\'Segoe UI\', \'sans-serif\', \'Oxygen\', \'Ubuntu\', \'Cantarell\', \'Fira Sans\', \'Droid Sans\', \'Helvetica Neue\'","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}},"monospace":{"fontFamily":"\'Courier New\', Courier, monospace","fontSizes":{"small":12,"default":14,"medium":17,"large":21,"extraLarge":26},"fontWeights":{"lighter":200,"default":400,"bolder":600}}},"textStyles":{"heading":{"fontType":"default","size":"large","weight":"bolder","color":"default","isSubtle":false}},"textBlock":{"headingLevel":2},"containerStyles":{"default":{"borderColor":"#CCCCCC","backgroundColor":"#FFFFFF","foregroundColors":{"default":{"default":"#000000","subtle":"#6f6f6f"},"accent":{"default":"#0063B1","subtle":"#0063B1"},"attention":{"default":"#B00000","subtle":"#DDB00000"},"good":{"default":"#028A02","subtle":"#DD028A02"},"light":{"default":"#646464","subtle":"#767676"},"warning":{"default":"#B75C00","subtle":"#DDB75C00"}}},"emphasis":{"borderColor":"#666666","backgroundColor":"#F9F9F9","foregroundColors":{"default":{"default":"#000000","subtle":"#6f6f6f"},"accent":{"default":"#1F6BF1","subtle":"#881F6BF1"},"attention":{"default":"#E31B13","subtle":"#DDE31B13"},"good":{"default":"#0D860A","subtle":"#DD0D860A"},"warning":{"default":"#BD5400","subtle":"#DDBD5400"},"light":{"default":"#737373","subtle":"#DD737373"}}},"accent":{"borderColor":"#62A8F7","backgroundColor":"#D7E7FA","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#646464","subtle":"#33646464"},"accent":{"default":"#145FDD","subtle":"#88145FDD"},"attention":{"default":"#C42C07","subtle":"#DDC42C07"},"good":{"default":"#0B7814","subtle":"#DD0B7814"},"warning":{"default":"#935A10","subtle":"#DD935A10"}}},"good":{"borderColor":"#69E569","backgroundColor":"#CCFFCC","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#6E6E6E","subtle":"#336E6E6E"},"accent":{"default":"#2168E4","subtle":"#882168E4"},"attention":{"default":"#CC3300","subtle":"#DDCC3300"},"good":{"default":"#0F8109","subtle":"#DD0F8109"},"warning":{"default":"#9A630D","subtle":"#DD9A630D"}}},"attention":{"borderColor":"#FF764C","backgroundColor":"#FFC5B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#5A5A5A","subtle":"#335A5A5A"},"accent":{"default":"#0854C5","subtle":"#880854C5"},"attention":{"default":"#A92E0E","subtle":"#DDA92E0E"},"good":{"default":"#256824","subtle":"#DD256824"},"warning":{"default":"#775502","subtle":"#DD775502"}}},"warning":{"borderColor":"#FFBC51","backgroundColor":"#FFE2B2","foregroundColors":{"default":{"default":"#333333","subtle":"#EE333333"},"dark":{"default":"#000000","subtle":"#66000000"},"light":{"default":"#646464","subtle":"#33646464"},"accent":{"default":"#0F60DC","subtle":"#880F60DC"},"attention":{"default":"#BF3505","subtle":"#DDBF3505"},"good":{"default":"#207725","subtle":"#DD207725"},"warning":{"default":"#866107","subtle":"#DD866107"}}}},"imageSizes":{"small":40,"medium":80,"large":160},"actions":{"maxActions":5,"spacing":"default","buttonSpacing":8,"showCard":{"actionMode":"inline","inlineTopMargin":8},"actionsOrientation":"horizontal","actionAlignment":"stretch"},"adaptiveCard":{"allowCustomStyle":false},"imageSet":{"imageSize":"medium","maxImageHeight":100},"factSet":{"title":{"color":"default","size":"default","isSubtle":false,"weight":"bolder","wrap":true,"maxWidth":150},"value":{"color":"default","size":"default","isSubtle":false,"weight":"default","wrap":true},"spacing":8},"inputs":{"label":{"inputSpacing":"small","requiredInputs":{"suffix":" (required)","weight":"bolder","size":"medium"},"optionalInputs":{"color":"dark","isSubtle":true}},"errorMessage":{"spacing":"small","size":"small","weight":"bolder"}}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/adaptivecards-designer-standalone.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRhcHRpdmVjYXJkcy1kZXNpZ25lci1zdGFuZGFsb25lLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPOzs7Ozs7Ozs7O0FDVmE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQSxhQUFhLG1CQUFPLENBQUMsK0RBQWE7QUFDbEMsYUFBYSxtQkFBTyxDQUFDLHVEQUFTO0FBQzlCLGFBQWEsbUJBQU8sQ0FBQyx1REFBUztBQUM5QixhQUFhLG1CQUFPLENBQUMsaUVBQWM7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLHFFQUFnQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMseUVBQWtCO0FBQ3ZDLGFBQWEsbUJBQU8sQ0FBQyw2REFBWTtBQUNqQyxhQUFhLG1CQUFPLENBQUMsNkRBQVk7QUFDakMsYUFBYSxtQkFBTyxDQUFDLGlFQUFjO0FBQ25DLGFBQWEsbUJBQU8sQ0FBQyw2REFBWTtBQUNqQyxhQUFhLG1CQUFPLENBQUMsbUVBQWU7QUFDcEMsYUFBYSxtQkFBTyxDQUFDLDJEQUFXO0FBQ2hDLGFBQWEsbUJBQU8sQ0FBQywrREFBYTtBQUNsQzs7Ozs7Ozs7Ozs7QUMzQmE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZ0JBQWdCLEdBQUcsZUFBZTtBQUNsQztBQUNBO0FBQ0EsWUFBWSxtQkFBTyxDQUFDLHVEQUFTO0FBQzdCLGtCQUFrQixtQkFBTyxDQUFDLCtEQUFhO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLHFFQUFnQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNELG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx5QkFBeUI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztB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QU8sQ0FBQyx1REFBUztBQUM3QixxQkFBcUIsbUJBQU8sQ0FBQyxxRUFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7OztVRU5BO1VBQ0E7VUFDQTtVQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvY2FsZW5kYXIuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9jaGVja2JveC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL2NvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9kYXRlcGlja2VyLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvZHJvcGRvd24uanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi9lbnVtcy5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL2lucHV0Y29udHJvbC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbGliL2lucHV0d2l0aHBvcHVwLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvcG9wdXBtZW51LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvcmFkaW9idXR0b24uanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL2xpYi90ZXh0Ym94LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL25vZGVfbW9kdWxlcy91dWlkL2luZGV4LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi4vYWRhcHRpdmVjYXJkcy1jb250cm9scy9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4uL2FkYXB0aXZlY2FyZHMtY29udHJvbHMvbm9kZV9tb2R1bGVzL3V1aWQvdjEuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uLi9hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzL25vZGVfbW9kdWxlcy91dWlkL3Y0LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvY2xpcGJvYXJkL2Rpc3QvY2xpcGJvYXJkLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YxLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92ZXJzaW9uLmpzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvYWRhcHRpdmUtY2FyZC1zY2hlbWEudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9hZGFwdGl2ZWNhcmRzLWRlc2lnbmVyLXN0YW5kYWxvbmUudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9iYXNlLXRyZWUtaXRlbS50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2NhcmQtZGVzaWduZXItc3VyZmFjZS50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2NhcmQtZGVzaWduZXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jYXRhbG9ndWUudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jb250YWluZXJzL2RlZmF1bHQvZGVmYXVsdC1jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9jb250YWluZXJzL2hvc3QtY29udGFpbmVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZGF0YS10cmVlaXRlbS50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL2RhdGEudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9kZXNpZ25lci1wZWVyLXRyZWVpdGVtLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZGVzaWduZXItcGVlcnMudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9kaWFsb2cudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9kb3dubG9hZGVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvZHJhZ2dhYmxlLWVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9maWVsZC1waWNrZXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9mdWxsc2NyZWVuLWhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9oZWxwLWRpYWxvZy50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL21pc2NlbGxhbmVvdXMudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9vcGVuLWltYWdlLWRpYWxvZy50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL29wZW4tanNvbi1zY2hlbWEtZGlhbG9nLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvb3Blbi1zYW1wbGUtZGlhbG9nLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvcGVlci1jb21tYW5kLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvcGljMmNhcmQudHMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci8uL3NyYy9zZXR0aW5ncy1tYW5hZ2VyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvc2hhcmVkLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvc2lkZS1wYW5lbC50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3NwbGl0dGVyLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvc3RyaW5ncy50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3Rvb2wtYm94LnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvdG9vbC1wYWxldHRlLnRzIiwid2VicGFjazovL0FDRGVzaWduZXIvLi9zcmMvdG9vbGJhci50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyLy4vc3JjL3RyZWUtdmlldy50cyIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYWRhcHRpdmVjYXJkc1wiLFwiY29tbW9uanNcIjpcImFkYXB0aXZlY2FyZHNcIixcInJvb3RcIjpcIkFkYXB0aXZlQ2FyZHNcIn0iLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiLFwiY29tbW9uanNcIjpcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiLFwicm9vdFwiOlwiQUNEYXRhXCJ9Iiwid2VicGFjazovL0FDRGVzaWduZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0FDRGVzaWduZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9BQ0Rlc2lnbmVyL3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQUNEZXNpZ25lci93ZWJwYWNrL2FmdGVyLXN0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiYWRhcHRpdmVjYXJkc1wiKSwgcmVxdWlyZShcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbLCBdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkFDRGVzaWduZXJcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJhZGFwdGl2ZWNhcmRzXCIpLCByZXF1aXJlKFwiYWRhcHRpdmVjYXJkcy10ZW1wbGF0aW5nXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJBQ0Rlc2lnbmVyXCJdID0gZmFjdG9yeShyb290W1wiQWRhcHRpdmVDYXJkc1wiXSwgcm9vdFtcIkFDRGF0YVwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2FkYXB0aXZlY2FyZHNfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9hZGFwdGl2ZWNhcmRzX3RlbXBsYXRpbmdfXykge1xucmV0dXJuICIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH0pO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jb25zdGFudHNcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2VudW1zXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi91dGlsc1wiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY29sbGVjdGlvblwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9pbnB1dHdpdGhwb3B1cFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY2FsZW5kYXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2Ryb3Bkb3duXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9kYXRlcGlja2VyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9jaGVja2JveFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcmFkaW9idXR0b25cIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3RleHRib3hcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BvcHVwbWVudVwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZGFwdGl2ZWNhcmRzLWNvbnRyb2xzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2FsZW5kYXIgPSBleHBvcnRzLkRheUNlbGwgPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGlucHV0Y29udHJvbF8xID0gcmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpO1xudmFyIERheUNlbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF5Q2VsbChkYXRlKSB7XG4gICAgICAgIHRoaXMuX2lzU3ViZHVlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgfVxuICAgIERheUNlbGwucHJvdG90eXBlLnNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0ZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERheUNlbGwucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtY2FsZW5kYXJEYXlcIjtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5pbm5lclRleHQgPSB0aGlzLmRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9lbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkgeyBfdGhpcy5zZWxlY3RlZCgpOyB9O1xuICAgICAgICB0aGlzLl9lbGVtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT0gY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZW50ZXIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfTtcbiAgICBEYXlDZWxsLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5mb2N1cygpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERheUNlbGwucHJvdG90eXBlLCBcImlzU3ViZHVlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU3ViZHVlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU3ViZHVlZCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU3ViZHVlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInN1YmR1ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzdWJkdWVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERheUNlbGwucHJvdG90eXBlLCBcImlzU2VsZWN0ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1NlbGVjdGVkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faXNTZWxlY3RlZCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERheUNlbGw7XG59KCkpO1xuZXhwb3J0cy5EYXlDZWxsID0gRGF5Q2VsbDtcbnZhciBDYWxlbmRhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2FsZW5kYXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FsZW5kYXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9zZWxlY3RlZERheSA9IG51bGw7XG4gICAgICAgIF90aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICAgICAgICBfdGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1zbGlkZVwiO1xuICAgICAgICBfdGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudC5jZWxsUGFkZGluZyA9IFwiMHB4XCI7XG4gICAgICAgIF90aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmNlbGxTcGFjaW5nID0gXCIwcHhcIjtcbiAgICAgICAgdmFyIG1pbmlDYWxlbmRhckhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1pbmlDYWxlbmRhckhlYWRlci5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1jYWxlbmRhckhlYWRlclwiO1xuICAgICAgICBtaW5pQ2FsZW5kYXJIZWFkZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBfdGhpcy5fbW9udGhZZWFyTGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgX3RoaXMuX21vbnRoWWVhckxhYmVsRWxlbWVudC5zdHlsZS5mbGV4ID0gXCIxIDEgMTAwJVwiO1xuICAgICAgICBtaW5pQ2FsZW5kYXJIZWFkZXIuYXBwZW5kQ2hpbGQoX3RoaXMuX21vbnRoWWVhckxhYmVsRWxlbWVudCk7XG4gICAgICAgIHZhciBuYXZCdXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmF2QnV0dG9ucy5zdHlsZS5mbGV4ID0gXCIwIDAgYXV0b1wiO1xuICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgIGJ1dHRvbi5jbGFzc05hbWUgPSBcIm1zLWljb24gbXMtY3RybC1jYWxlbmRhck5hdkJ1dHRvbiBtcy1pY29uLWNoZXZyb25MZWZ0XCI7XG4gICAgICAgIGJ1dHRvbi50YWJJbmRleCA9IDA7XG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGUgPSBVdGlscy5hZGRNb250aHMoX3RoaXMuZGF0ZSwgLTEpO1xuICAgICAgICB9O1xuICAgICAgICBidXR0b24ub25rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy5lbnRlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmRhdGUgPSBVdGlscy5hZGRNb250aHMoX3RoaXMuZGF0ZSwgLTEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbmF2QnV0dG9ucy5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTmFtZSA9IFwibXMtaWNvbiBtcy1jdHJsLWNhbGVuZGFyTmF2QnV0dG9uIG1zLWljb24tY2hldnJvblJpZ2h0XCI7XG4gICAgICAgIGJ1dHRvbi50YWJJbmRleCA9IDA7XG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmRhdGUgPSBVdGlscy5hZGRNb250aHMoX3RoaXMuZGF0ZSwgMSk7XG4gICAgICAgIH07XG4gICAgICAgIGJ1dHRvbi5vbmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09IGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVudGVyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGF0ZSA9IFV0aWxzLmFkZE1vbnRocyhfdGhpcy5kYXRlLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5hdkJ1dHRvbnMuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgbWluaUNhbGVuZGFySGVhZGVyLmFwcGVuZENoaWxkKG5hdkJ1dHRvbnMpO1xuICAgICAgICBfdGhpcy5fcm9vdENvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBfdGhpcy5fcm9vdENvbnRhaW5lckVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtY2FsZW5kYXJcIjtcbiAgICAgICAgX3RoaXMuX3Jvb3RDb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKG1pbmlDYWxlbmRhckhlYWRlcik7XG4gICAgICAgIF90aGlzLl9yb290Q29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChfdGhpcy5fbWluaUNhbGVuZGFyRWxlbWVudCk7XG4gICAgICAgIF90aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhbGVuZGFyLnByb3RvdHlwZS5nZW5lcmF0ZURheUNlbGxzID0gZnVuY3Rpb24gKGJhc2VEYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2RheXMgPSBbXTtcbiAgICAgICAgdmFyIGlucHV0TW9udGggPSBiYXNlRGF0ZS5nZXRNb250aCgpO1xuICAgICAgICB2YXIgaW5wdXRZZWFyID0gYmFzZURhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gbmV3IERhdGUoaW5wdXRZZWFyLCBpbnB1dE1vbnRoLCAxKTtcbiAgICAgICAgdmFyIGVuZCA9IG5ldyBEYXRlKGlucHV0WWVhciwgaW5wdXRNb250aCwgVXRpbHMuZGF5c0luTW9udGgoaW5wdXRZZWFyLCBpbnB1dE1vbnRoKSk7XG4gICAgICAgIHZhciBzdGFydERhdGVEYXlPZldlZWsgPSBzdGFydC5nZXREYXkoKTtcbiAgICAgICAgaWYgKChzdGFydERhdGVEYXlPZldlZWsgLSBVdGlscy5DYWxlbmRhclNldHRpbmdzLmZpcnN0RGF5T2ZXZWVrKSA+IDApIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gVXRpbHMuYWRkRGF5cyhzdGFydCwgVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5maXJzdERheU9mV2VlayAtIHN0YXJ0RGF0ZURheU9mV2Vlayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZERhdGVEYXlPZldlZWsgPSBlbmQuZ2V0RGF5KCk7XG4gICAgICAgIHZhciBsYXN0RGF5T2ZXZWVrID0gVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5maXJzdERheU9mV2VlayArIDY7XG4gICAgICAgIGlmICgobGFzdERheU9mV2VlayAtIGVuZERhdGVEYXlPZldlZWspID4gMCkge1xuICAgICAgICAgICAgZW5kID0gVXRpbHMuYWRkRGF5cyhlbmQsIGxhc3REYXlPZldlZWsgLSBlbmREYXRlRGF5T2ZXZWVrKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kRGF0ZSA9IGVuZC5nZXREYXRlKCk7XG4gICAgICAgIHZhciBlbmRNb250aCA9IGVuZC5nZXRNb250aCgpO1xuICAgICAgICB2YXIgZW5kWWVhciA9IGVuZC5nZXRGdWxsWWVhcigpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgZGF5Q2VsbCA9IG5ldyBEYXlDZWxsKHN0YXJ0KTtcbiAgICAgICAgICAgIGRheUNlbGwub25TZWxlY3RlZCA9IGZ1bmN0aW9uIChjbGlja2VkQ2VsbCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkRGF5Q2VsbCA9IGNsaWNrZWRDZWxsO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vbkRhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRGF0ZUNoYW5nZWQoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9kYXlzLnB1c2goZGF5Q2VsbCk7XG4gICAgICAgICAgICB2YXIgZG9uZSA9IHN0YXJ0LmdldERhdGUoKSA9PSBlbmREYXRlICYmIHN0YXJ0LmdldE1vbnRoKCkgPT0gZW5kTW9udGggJiYgc3RhcnQuZ2V0RnVsbFllYXIoKSA9PSBlbmRZZWFyO1xuICAgICAgICAgICAgc3RhcnQgPSBVdGlscy5hZGREYXlzKHN0YXJ0LCAxKTtcbiAgICAgICAgfSB3aGlsZSAoIWRvbmUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbGVuZGFyLnByb3RvdHlwZSwgXCJzZWxlY3RlZERheUNlbGxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZERheTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZERheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkRGF5LmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkRGF5ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWREYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZERheS5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRlID0gdGhpcy5fc2VsZWN0ZWREYXkuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5pbml0aWFsaXplU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fZGF0ZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9kYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFV0aWxzLmFyZURhdGVzRXF1YWwodGhpcy5fZGF5c1tpXS5kYXRlLCB0aGlzLmRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXlDZWxsID0gdGhpcy5fZGF5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDYWxlbmRhci5wcm90b3R5cGUucmVidWlsZE1pbmlDYWxlbmRhciA9IGZ1bmN0aW9uIChuZXdEYXRlLCBvbGREYXRlKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVEYXlDZWxscyhuZXdEYXRlKTtcbiAgICAgICAgdmFyIG1vbnRoID0gbmV3RGF0ZS5nZXRNb250aCgpO1xuICAgICAgICB0aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuX21pbmlDYWxlbmRhckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlTGVmdFRvUmlnaHRcIiwgXCJtcy1jdHJsLXNsaWRlUmlnaHRUb0xlZnRcIik7XG4gICAgICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIHZhciBkYXlJbmRleCA9IFV0aWxzLkNhbGVuZGFyU2V0dGluZ3MuZmlyc3REYXlPZldlZWs7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5kYXlzSW5XZWVrOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgY2VsbC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1jYWxlbmRhckRheUhlYWRlclwiO1xuICAgICAgICAgICAgY2VsbC5pbm5lclRleHQgPSBVdGlscy5DYWxlbmRhclNldHRpbmdzLmdldEluaXRpYWxEYXlOYW1lKGRheUluZGV4KTtcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgIGRheUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoZGF5SW5kZXggPj0gVXRpbHMuQ2FsZW5kYXJTZXR0aW5ncy5kYXlzSW5XZWVrKSB7XG4gICAgICAgICAgICAgICAgZGF5SW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21pbmlDYWxlbmRhckVsZW1lbnQuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9kYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSAlIDcgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFibGVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgdGFibGVDZWxsLmFwcGVuZENoaWxkKHRoaXMuX2RheXNbaV0ucmVuZGVyKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RheXNbaV0uZGF0ZS5nZXRNb250aCgpICE9IG1vbnRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGF5c1tpXS5pc1N1YmR1ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKHRhYmxlQ2VsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZERhdGUpIHtcbiAgICAgICAgICAgIHZhciB0aW1lRGVsdGEgPSBuZXdEYXRlLmdldFRpbWUoKSAtIG9sZERhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgaWYgKHRpbWVEZWx0YSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5pQ2FsZW5kYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtcy1jdHJsLXNsaWRlXCIsIFwibXMtY3RybC1zbGlkZVJpZ2h0VG9MZWZ0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGltZURlbHRhIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbmlDYWxlbmRhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlTGVmdFRvUmlnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdHRhY2guY2FsbCh0aGlzLCByb290RWxlbWVudCk7XG4gICAgICAgIHJvb3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3Jvb3RDb250YWluZXJFbGVtZW50KTtcbiAgICB9O1xuICAgIENhbGVuZGFyLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkRGF5KSB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RlZERheS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FsZW5kYXIucHJvdG90eXBlLCBcImRhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHJlYnVpbGROZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHRpbWVEZWx0YSA9IDA7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZSA9IHZhbHVlID8gdmFsdWUgOiBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RhdGUpIHtcbiAgICAgICAgICAgICAgICByZWJ1aWxkTmVlZGVkID0gIXRoaXMuX2RheXMgfHwgbmV3RGF0ZS5nZXRGdWxsWWVhcigpICE9IHRoaXMuX2RhdGUuZ2V0RnVsbFllYXIoKSB8fCBuZXdEYXRlLmdldE1vbnRoKCkgIT0gdGhpcy5fZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYnVpbGROZWVkZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYnVpbGRNaW5pQ2FsZW5kYXIobmV3RGF0ZSwgdGhpcy5fZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kYXRlID0gbmV3RGF0ZTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fbW9udGhZZWFyTGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IFV0aWxzLkNhbGVuZGFyU2V0dGluZ3MuZ2V0TG9uZ01vbnRoTmFtZSh0aGlzLl9kYXRlLmdldE1vbnRoKCkpICsgXCIgXCIgKyB0aGlzLl9kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ2FsZW5kYXI7XG59KGlucHV0Y29udHJvbF8xLklucHV0Q29udHJvbCkpO1xuZXhwb3J0cy5DYWxlbmRhciA9IENhbGVuZGFyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsZW5kYXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGVja0JveCA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGlucHV0Y29udHJvbF8xID0gcmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpO1xudmFyIENoZWNrQm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaGVja0JveCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDaGVja0JveCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9sYWJlbCA9IFwiXCI7XG4gICAgICAgIF90aGlzLl9jaGVja2JveEVsZW1lbnQgPSBudWxsO1xuICAgICAgICBfdGhpcy5fc3BhbkVsZW1lbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENoZWNrQm94LmNyZWF0ZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gQ2hlY2tCb3guY3JlYXRpb25JbmRleDtcbiAgICAgICAgQ2hlY2tCb3guY3JlYXRpb25JbmRleCsrO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgQ2hlY2tCb3gucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGVja0JveC5wcm90b3R5cGUua2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZW50ZXI6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NoZWNrZWQgPSAhdGhpcy5pc0NoZWNrZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoZWNrQm94LnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5hdHRhY2guY2FsbCh0aGlzLCByb290RWxlbWVudCk7XG4gICAgICAgIHJvb3RFbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1jdHJsLWNoZWNrYm94XCI7XG4gICAgICAgIHJvb3RFbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAgICAgdmFyIGxhYmVsQXR0cmlidXRlID0gcm9vdEVsZW1lbnQuYXR0cmlidXRlc1tcImxhYmVsXCJdO1xuICAgICAgICBpZiAobGFiZWxBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gbGFiZWxBdHRyaWJ1dGUudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzQ2hlY2tlZEF0dHJpYnV0ZSA9IHJvb3RFbGVtZW50LmF0dHJpYnV0ZXNbXCJpc2NoZWNrZWRcIl07XG4gICAgICAgIGlmIChpc0NoZWNrZWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ2hlY2tlZCA9IGlzQ2hlY2tlZEF0dHJpYnV0ZS52YWx1ZSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuaWQgPSBcIm1zLWN0cmwtY2hlY2tib3gtXCIgKyBDaGVja0JveC5jcmVhdGVJZCgpO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuY2hlY2tlZCA9IHRoaXMuaXNDaGVja2VkO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQub25jaGFuZ2UgPSBmdW5jdGlvbiAoZSkgeyBfdGhpcy5jaGFuZ2VkKCk7IH07XG4gICAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGxhYmVsRWxlbWVudC5odG1sRm9yID0gdGhpcy5fY2hlY2tib3hFbGVtZW50LmlkO1xuICAgICAgICB0aGlzLl9zcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0aGlzLl9zcGFuRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLl9sYWJlbDtcbiAgICAgICAgbGFiZWxFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3NwYW5FbGVtZW50KTtcbiAgICAgICAgcm9vdEVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY2hlY2tib3hFbGVtZW50KTtcbiAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja0JveC5wcm90b3R5cGUsIFwibGFiZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYWJlbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3BhbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGFuRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLl9sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja0JveC5wcm90b3R5cGUsIFwiaXNDaGVja2VkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNDaGVja2VkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ2hlY2tlZCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQ2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGVja2JveEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LmNoZWNrZWQgPSB0aGlzLl9pc0NoZWNrZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSWRzXG4gICAgQ2hlY2tCb3guY3JlYXRpb25JbmRleCA9IDA7XG4gICAgcmV0dXJuIENoZWNrQm94O1xufShpbnB1dGNvbnRyb2xfMS5JbnB1dENvbnRyb2wpKTtcbmV4cG9ydHMuQ2hlY2tCb3ggPSBDaGVja0JveDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrYm94LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db2xsZWN0aW9uID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgQ29sbGVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb2xsZWN0aW9uKCkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLm9uSXRlbUFkZGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkl0ZW1SZW1vdmVkID0gbnVsbDtcbiAgICB9XG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1tpbmRleF07XG4gICAgfTtcbiAgICBDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICBpZiAodGhpcy5vbkl0ZW1BZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5vbkl0ZW1BZGRlZChpdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29sbGVjdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVtcyA9IHRoaXMuX2l0ZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uSXRlbVJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbGxlY3Rpb24ucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29sbGVjdGlvbjtcbn0oKSk7XG5leHBvcnRzLkNvbGxlY3Rpb24gPSBDb2xsZWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGVjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29uc3RhbnRzID0gZXhwb3J0cy5LRVlfREVMRVRFID0gZXhwb3J0cy5LRVlfRE9XTiA9IGV4cG9ydHMuS0VZX1VQID0gZXhwb3J0cy5LRVlfU1BBQ0UgPSBleHBvcnRzLktFWV9FU0NBUEUgPSBleHBvcnRzLktFWV9FTlRFUiA9IGV4cG9ydHMuS0VZX1RBQiA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ29uc3RhbnRzLmtleXMudGFiIGluc3RlYWQuXG4gKi9cbmV4cG9ydHMuS0VZX1RBQiA9IDk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDb25zdGFudHMua2V5cy5lbnRlciBpbnN0ZWFkLlxuICovXG5leHBvcnRzLktFWV9FTlRFUiA9IDEzO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ29uc3RhbnRzLmtleXMuZXNjYXBlIGluc3RlYWQuXG4gKi9cbmV4cG9ydHMuS0VZX0VTQ0FQRSA9IDI3O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ29uc3RhbnRzLmtleXMuc3BhY2UgaW5zdGVhZC5cbiAqL1xuZXhwb3J0cy5LRVlfU1BBQ0UgPSAzMjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENvbnN0YW50cy5rZXlzLnVwIGluc3RlYWQuXG4gKi9cbmV4cG9ydHMuS0VZX1VQID0gMzg7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBDb25zdGFudHMua2V5cy5kb3duIGluc3RlYWQuXG4gKi9cbmV4cG9ydHMuS0VZX0RPV04gPSA0MDtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIENvbnN0YW50cy5rZXlzLmRlbGV0ZSBpbnN0ZWFkLlxuICovXG5leHBvcnRzLktFWV9ERUxFVEUgPSA0NjtcbnZhciBDb25zdGFudHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29uc3RhbnRzKCkge1xuICAgIH1cbiAgICBDb25zdGFudHMua2V5cyA9IHtcbiAgICAgICAgdGFiOiBcIlRhYlwiLFxuICAgICAgICBlbnRlcjogXCJFbnRlclwiLFxuICAgICAgICBlc2NhcGU6IFwiRXNjYXBlXCIsXG4gICAgICAgIHNwYWNlOiBcIiBcIixcbiAgICAgICAgdXA6IFwiQXJyb3dVcFwiLFxuICAgICAgICBkb3duOiBcIkFycm93RG93blwiLFxuICAgICAgICBkZWxldGU6IFwiRGVsZXRlXCJcbiAgICB9O1xuICAgIHJldHVybiBDb25zdGFudHM7XG59KCkpO1xuZXhwb3J0cy5Db25zdGFudHMgPSBDb25zdGFudHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EYXRlUGlja2VyID0gZXhwb3J0cy5DYWxlbmRhclBvcHVwQ29udHJvbCA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIGlucHV0d2l0aHBvcHVwXzEgPSByZXF1aXJlKFwiLi9pbnB1dHdpdGhwb3B1cFwiKTtcbnZhciBjYWxlbmRhcl8xID0gcmVxdWlyZShcIi4vY2FsZW5kYXJcIik7XG52YXIgQ2FsZW5kYXJQb3B1cENvbnRyb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhbGVuZGFyUG9wdXBDb250cm9sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhbGVuZGFyUG9wdXBDb250cm9sKG93bmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9vd25lciA9IG93bmVyO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENhbGVuZGFyUG9wdXBDb250cm9sLnByb3RvdHlwZS5yZW5kZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWNhbGVuZGFyUG9wdXBcIjtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSBuZXcgY2FsZW5kYXJfMS5DYWxlbmRhcigpO1xuICAgICAgICB0aGlzLl9jYWxlbmRhci5kYXRlID0gdGhpcy5fb3duZXIudmFsdWU7XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLm9uRGF0ZUNoYW5nZWQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgX3RoaXMuX293bmVyLnZhbHVlID0gYy5kYXRlO1xuICAgICAgICAgICAgX3RoaXMuY2xvc2VQb3B1cChmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyLmF0dGFjaChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgICBDYWxlbmRhclBvcHVwQ29udHJvbC5wcm90b3R5cGUuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWxlbmRhcikge1xuICAgICAgICAgICAgdGhpcy5fY2FsZW5kYXIuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhbGVuZGFyUG9wdXBDb250cm9sO1xufShpbnB1dHdpdGhwb3B1cF8xLlBvcHVwQ29udHJvbCkpO1xuZXhwb3J0cy5DYWxlbmRhclBvcHVwQ29udHJvbCA9IENhbGVuZGFyUG9wdXBDb250cm9sO1xudmFyIERhdGVQaWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERhdGVQaWNrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGF0ZVBpY2tlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS52YWxpZGF0ZVJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJvb3RFbGVtZW50IGluc3RhbmNlb2YgSFRNTERpdkVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRlUGlja2VyIHJlcXVpcmVzIGEgRElWIGVsZW1lbnQgYXMgaXRzIHJvb3QuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5jcmVhdGVQb3B1cENvbnRyb2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsZW5kYXJQb3B1cENvbnRyb2wodGhpcyk7XG4gICAgfTtcbiAgICBEYXRlUGlja2VyLnByb3RvdHlwZS5nZXRWYWx1ZUFzU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcbiAgICB9O1xuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLmdldENzc0NsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwibXMtY3RybCBtcy1jdHJsLWRhdGVQaWNrZXJcIjtcbiAgICB9O1xuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLmdldEJ1dHRvbkljb25Dc3NDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIm1zLWljb24tY2FsZW5kYXJcIjtcbiAgICB9O1xuICAgIERhdGVQaWNrZXIucHJvdG90eXBlLnBvcHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnBvcHVwLmNhbGwodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5wb3B1cENvbnRyb2wuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERhdGVQaWNrZXI7XG59KGlucHV0d2l0aHBvcHVwXzEuSW5wdXRXaXRoUG9wdXApKTtcbmV4cG9ydHMuRGF0ZVBpY2tlciA9IERhdGVQaWNrZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlcGlja2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRHJvcERvd24gPSBleHBvcnRzLkRyb3BEb3duUG9wdXBDb250cm9sID0gZXhwb3J0cy5Ecm9wRG93bkl0ZW0gPSB2b2lkIDA7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKFwiLi9jb2xsZWN0aW9uXCIpO1xudmFyIGlucHV0d2l0aHBvcHVwXzEgPSByZXF1aXJlKFwiLi9pbnB1dHdpdGhwb3B1cFwiKTtcbnZhciBEcm9wRG93bkl0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRHJvcERvd25JdGVtKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIERyb3BEb3duSXRlbS5wcm90b3R5cGUuY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMub25DbGljayh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcERvd25JdGVtLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBEcm9wRG93bkl0ZW0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybCBtcy1jdHJsLWRyb3Bkb3duLWl0ZW1cIjtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm1lbnVpdGVtXCIpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50Lm9ubW91c2V1cCA9IGZ1bmN0aW9uIChlKSB7IF90aGlzLmNsaWNrKCk7IH07XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy5lbnRlcikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEcm9wRG93bkl0ZW0ucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmlubmVyVGV4dCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERyb3BEb3duSXRlbTtcbn0oKSk7XG5leHBvcnRzLkRyb3BEb3duSXRlbSA9IERyb3BEb3duSXRlbTtcbnZhciBEcm9wRG93blBvcHVwQ29udHJvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRHJvcERvd25Qb3B1cENvbnRyb2wsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRHJvcERvd25Qb3B1cENvbnRyb2wob3duZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3JlbmRlcmVkSXRlbXMgPSBbXTtcbiAgICAgICAgX3RoaXMuX3NlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgX3RoaXMuX293bmVyID0gb3duZXI7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRHJvcERvd25Qb3B1cENvbnRyb2wucHJvdG90eXBlLnJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtcG9wdXBcIjtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibWVudVwiKTtcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSB0aGlzLl9vd25lci5zZWxlY3RlZEluZGV4O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX293bmVyLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyZWRJdGVtID0gdGhpcy5fb3duZXIuaXRlbXMuZ2V0KGkpLnJlbmRlcigpO1xuICAgICAgICAgICAgcmVuZGVyZWRJdGVtLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQocmVuZGVyZWRJdGVtKTtcbiAgICAgICAgICAgIGlmIChpID09IHNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlZEl0ZW0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMucHVzaChyZW5kZXJlZEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgRHJvcERvd25Qb3B1cENvbnRyb2wucHJvdG90eXBlLmtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmtleURvd24uY2FsbCh0aGlzLCBlKTsgLy8gaGFuZGxlcyBFU0NcbiAgICAgICAgdmFyIHNlbGVjdGVkSXRlbUluZGV4ID0gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy50YWI6XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy5lbnRlcjpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3duZXIuc2VsZWN0ZWRJbmRleCA9IHRoaXMuc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLnVwOlxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW1JbmRleCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4ID0gdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXggPSB0aGlzLl9yZW5kZXJlZEl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJdGVtSW5kZXg7XG4gICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy5kb3duOlxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEl0ZW1JbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbUluZGV4ID49IHRoaXMuX3JlbmRlcmVkSXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWRJdGVtSW5kZXg7XG4gICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEcm9wRG93blBvcHVwQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50Qm91bmRzKSB7XG4gICAgICAgIHZhciByZW5kZXJlZEVsZW1lbnQgPSBfc3VwZXIucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsIHJvb3RFbGVtZW50Qm91bmRzKTtcbiAgICAgICAgcmVuZGVyZWRFbGVtZW50LnN0eWxlLm1pbldpZHRoID0gKHJvb3RFbGVtZW50Qm91bmRzLndpZHRoIC8gMikgKyBcInB4XCI7XG4gICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcERvd25Qb3B1cENvbnRyb2wucHJvdG90eXBlLCBcInNlbGVjdGVkSW5kZXhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3RlZEluZGV4O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLl9yZW5kZXJlZEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGRlc2VsZWN0IHByZXZpb3VzIGl0ZW0gKGlmIG9uZSB3YXMgc2VsZWN0ZWQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkSW5kZXggPj0gMCAmJiB0aGlzLl9zZWxlY3RlZEluZGV4IDwgdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtc1t0aGlzLl9zZWxlY3RlZEluZGV4XS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNlbGVjdCBuZXcgaXRlbVxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXNbaW5kZXhdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtc1tpbmRleF0uc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERyb3BEb3duUG9wdXBDb250cm9sO1xufShpbnB1dHdpdGhwb3B1cF8xLlBvcHVwQ29udHJvbCkpO1xuZXhwb3J0cy5Ecm9wRG93blBvcHVwQ29udHJvbCA9IERyb3BEb3duUG9wdXBDb250cm9sO1xudmFyIERyb3BEb3duID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEcm9wRG93biwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEcm9wRG93bigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2l0ZW1zID0gbmV3IGNvbGxlY3Rpb25fMS5Db2xsZWN0aW9uKCk7XG4gICAgICAgIF90aGlzLl9pdGVtcy5vbkl0ZW1BZGRlZCA9IGZ1bmN0aW9uIChpdGVtKSB7IGl0ZW0ub25DbGljayA9IGZ1bmN0aW9uIChjbGlja2VkSXRlbSkgeyBfdGhpcy5pdGVtQ2xpY2tlZChjbGlja2VkSXRlbSk7IH07IH07XG4gICAgICAgIF90aGlzLl9pdGVtcy5vbkl0ZW1SZW1vdmVkID0gZnVuY3Rpb24gKGl0ZW0pIHsgaXRlbS5vbkNsaWNrID0gbnVsbDsgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEcm9wRG93bi5wcm90b3R5cGUuaXRlbUNsaWNrZWQgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cChmYWxzZSk7XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQuZm9jdXMoKTtcbiAgICB9O1xuICAgIERyb3BEb3duLnByb3RvdHlwZS52YWxpZGF0ZVJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJvb3RFbGVtZW50IGluc3RhbmNlb2YgSFRNTERpdkVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEcm9wRG93biByZXF1aXJlcyBhIERJViBlbGVtZW50IGFzIGl0cyByb290LlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcERvd24ucHJvdG90eXBlLmNyZWF0ZVBvcHVwQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEcm9wRG93blBvcHVwQ29udHJvbCh0aGlzKTtcbiAgICB9O1xuICAgIERyb3BEb3duLnByb3RvdHlwZS5nZXRDc3NDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIm1zLWN0cmwgbXMtY3RybC1kcm9wZG93blwiO1xuICAgIH07XG4gICAgRHJvcERvd24ucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmF0dGFjaC5jYWxsKHRoaXMsIHJvb3RFbGVtZW50KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvb3RFbGVtZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRFbGVtZW50ID0gdGhpcy5yb290RWxlbWVudC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09IFwibXMtZHJvcGRvd24taXRlbVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBuZXcgRHJvcERvd25JdGVtKGNoaWxkRWxlbWVudC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImtleVwiKS52YWx1ZSwgY2hpbGRFbGVtZW50LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwidmFsdWVcIikudmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmFkZChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhZGQgYXJpYS1sYWJlbGxlZGJ5IHRhZyB3aXRoIGFsbCBwZXJ0aW5lbnQgbGFiZWwgaWRzXG4gICAgICAgIHZhciBhcmlhTGFiZWxsZWRCeUlkcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRMYWJlbElkKSB7XG4gICAgICAgICAgICBhcmlhTGFiZWxsZWRCeUlkcy5wdXNoKHRoaXMucGFyZW50TGFiZWxJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGFiZWxJZCkge1xuICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnlJZHMucHVzaCh0aGlzLmxhYmVsSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmlhTGFiZWxsZWRCeUlkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLCBhcmlhTGFiZWxsZWRCeUlkcy5qb2luKFwiIFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiwgXCJtZW51XCIpO1xuICAgIH07XG4gICAgRHJvcERvd24ucHJvdG90eXBlLnBvcHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnBvcHVwLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucG9wdXBDb250cm9sLnNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcERvd24ucHJvdG90eXBlLCBcIml0ZW1zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcERvd24ucHJvdG90eXBlLCBcInNlbGVjdGVkSXRlbVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcERvd24ucHJvdG90eXBlLCBcInNlbGVjdGVkSW5kZXhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmluZGV4T2YodGhpcy52YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSB0aGlzLml0ZW1zLmdldChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHJvcERvd24ucHJvdG90eXBlLCBcInBhcmVudExhYmVsSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnRMYWJlbElkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50TGFiZWxJZCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERyb3BEb3duO1xufShpbnB1dHdpdGhwb3B1cF8xLklucHV0V2l0aFBvcHVwKSk7XG5leHBvcnRzLkRyb3BEb3duID0gRHJvcERvd247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kcm9wZG93bi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGF5T2ZXZWVrID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgRGF5T2ZXZWVrO1xuKGZ1bmN0aW9uIChEYXlPZldlZWspIHtcbiAgICBEYXlPZldlZWtbRGF5T2ZXZWVrW1wiU3VuZGF5XCJdID0gMF0gPSBcIlN1bmRheVwiO1xuICAgIERheU9mV2Vla1tEYXlPZldlZWtbXCJNb25kYXlcIl0gPSAxXSA9IFwiTW9uZGF5XCI7XG4gICAgRGF5T2ZXZWVrW0RheU9mV2Vla1tcIlR1ZXNkYXlcIl0gPSAyXSA9IFwiVHVlc2RheVwiO1xuICAgIERheU9mV2Vla1tEYXlPZldlZWtbXCJXZWRuZXNkYXlcIl0gPSAzXSA9IFwiV2VkbmVzZGF5XCI7XG4gICAgRGF5T2ZXZWVrW0RheU9mV2Vla1tcIlRodXJzZGF5XCJdID0gNF0gPSBcIlRodXJzZGF5XCI7XG4gICAgRGF5T2ZXZWVrW0RheU9mV2Vla1tcIkZyaWRheVwiXSA9IDVdID0gXCJGcmlkYXlcIjtcbiAgICBEYXlPZldlZWtbRGF5T2ZXZWVrW1wiU2F0dXJkYXlcIl0gPSA2XSA9IFwiU2F0dXJkYXlcIjtcbn0pKERheU9mV2VlayA9IGV4cG9ydHMuRGF5T2ZXZWVrIHx8IChleHBvcnRzLkRheU9mV2VlayA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnVtcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW5wdXRDb250cm9sID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgSW5wdXRDb250cm9sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElucHV0Q29udHJvbCgpIHtcbiAgICB9XG4gICAgSW5wdXRDb250cm9sLnByb3RvdHlwZS52YWxpZGF0ZVJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgLSBhbGwgcm9vdCBlbGVtZW50IHR5cGVzIGFyZSB2YWxpZC5cbiAgICB9O1xuICAgIElucHV0Q29udHJvbC5wcm90b3R5cGUua2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaW4gYmFzZSBpbXBsZW1lbnRhdGlvblxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElucHV0Q29udHJvbC5wcm90b3R5cGUsIFwicm9vdEVsZW1lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb290RWxlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIElucHV0Q29udHJvbC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudmFsaWRhdGVSb290RWxlbWVudChyb290RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7IF90aGlzLmtleURvd24oZSk7IH07XG4gICAgfTtcbiAgICByZXR1cm4gSW5wdXRDb250cm9sO1xufSgpKTtcbmV4cG9ydHMuSW5wdXRDb250cm9sID0gSW5wdXRDb250cm9sO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5wdXRjb250cm9sLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW5wdXRXaXRoUG9wdXAgPSBleHBvcnRzLlBvcHVwQ29udHJvbCA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIFV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgaW5wdXRjb250cm9sXzEgPSByZXF1aXJlKFwiLi9pbnB1dGNvbnRyb2xcIik7XG52YXIgdXVpZF8xID0gcmVxdWlyZShcInV1aWRcIik7XG52YXIgUG9wdXBDb250cm9sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvcHVwQ29udHJvbCgpIHtcbiAgICAgICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICAgIFBvcHVwQ29udHJvbC5wcm90b3R5cGUua2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMuZXNjYXBlOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUG9wdXBDb250cm9sLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocm9vdEVsZW1lbnRCb3VuZHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC1wb3B1cC1jb250YWluZXJcIjtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZGlhbG9nXCIpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbW9kYWxcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBlbGVtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5rZXlEb3duKGUpO1xuICAgICAgICAgICAgcmV0dXJuICFlLmNhbmNlbEJ1YmJsZTtcbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckNvbnRlbnQoKSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgUG9wdXBDb250cm9sLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BvcHVwRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBvcHVwQ29udHJvbC5wcm90b3R5cGUucG9wdXAgPSBmdW5jdGlvbiAocm9vdEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXlFbGVtZW50LmNsYXNzTmFtZSA9IFwibXMtY3RybC1vdmVybGF5XCI7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXlFbGVtZW50LnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5vbmZvY3VzID0gZnVuY3Rpb24gKGUpIHsgX3RoaXMuY2xvc2VQb3B1cCh0cnVlKTsgfTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fb3ZlcmxheUVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIHJvb3RFbGVtZW50Qm91bmRzID0gcm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSB0aGlzLnJlbmRlcihyb290RWxlbWVudEJvdW5kcyk7XG4gICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlTGVmdFRvUmlnaHRcIiwgXCJtcy1jdHJsLXNsaWRlUmlnaHRUb0xlZnRcIiwgXCJtcy1jdHJsLXNsaWRlVG9wVG9Cb3R0b21cIiwgXCJtcy1jdHJsLXNsaWRlUmlnaHRUb0xlZnRcIik7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbiAoZSkgeyBfdGhpcy5jbG9zZVBvcHVwKHRydWUpOyB9KTtcbiAgICAgICAgICAgIHZhciByb290RWxlbWVudExhYmVsID0gcm9vdEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKTtcbiAgICAgICAgICAgIGlmIChyb290RWxlbWVudExhYmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgcm9vdEVsZW1lbnRMYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9wb3B1cEVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIHBvcHVwRWxlbWVudEJvdW5kcyA9IHRoaXMuX3BvcHVwRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVTcGFjZUJlbG93ID0gd2luZG93LmlubmVySGVpZ2h0IC0gcm9vdEVsZW1lbnRCb3VuZHMuYm90dG9tO1xuICAgICAgICAgICAgdmFyIGF2YWlsYWJsZVNwYWNlQWJvdmUgPSByb290RWxlbWVudEJvdW5kcy50b3A7XG4gICAgICAgICAgICB2YXIgYXZhaWxhYmxlU3BhY2VSaWdodCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gcm9vdEVsZW1lbnRCb3VuZHMubGVmdDtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVTcGFjZVJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLSByb290RWxlbWVudEJvdW5kcy5yaWdodDtcbiAgICAgICAgICAgIHZhciBhdmFpbGFibGVTcGFjZUxlZnQgPSByb290RWxlbWVudEJvdW5kcy5sZWZ0O1xuICAgICAgICAgICAgdmFyIGxlZnQgPSByb290RWxlbWVudEJvdW5kcy5sZWZ0ICsgVXRpbHMuZ2V0U2Nyb2xsWCgpO1xuICAgICAgICAgICAgdmFyIHRvcDtcbiAgICAgICAgICAgIGlmIChhdmFpbGFibGVTcGFjZUFib3ZlIDwgcG9wdXBFbGVtZW50Qm91bmRzLmhlaWdodCAmJiBhdmFpbGFibGVTcGFjZUJlbG93IDwgcG9wdXBFbGVtZW50Qm91bmRzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIC8vIE5vdCBlbm91Z2ggc3BhY2UgYWJvdmUgb3IgYmVsb3cgcm9vdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgdmFyIGFjdHVhbFBvcHVwSGVpZ2h0ID0gTWF0aC5taW4ocG9wdXBFbGVtZW50Qm91bmRzLmhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0ID0gYWN0dWFsUG9wdXBIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgaWYgKGFjdHVhbFBvcHVwSGVpZ2h0IDwgcG9wdXBFbGVtZW50Qm91bmRzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSBVdGlscy5nZXRTY3JvbGxZKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSBVdGlscy5nZXRTY3JvbGxZKCkgKyByb290RWxlbWVudEJvdW5kcy50b3AgKyAocm9vdEVsZW1lbnRCb3VuZHMuaGVpZ2h0IC0gYWN0dWFsUG9wdXBIZWlnaHQpIC8gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVNwYWNlTGVmdCA8IHBvcHVwRWxlbWVudEJvdW5kcy53aWR0aCAmJiBhdmFpbGFibGVTcGFjZVJpZ2h0IDwgcG9wdXBFbGVtZW50Qm91bmRzLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdCBlbm91Z2ggc3BhY2UgbGVmdCBvciByaWdodCBvZiByb290IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdHVhbFBvcHVwV2lkdGggPSBNYXRoLm1pbihwb3B1cEVsZW1lbnRCb3VuZHMud2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnN0eWxlLm1heFdpZHRoID0gYWN0dWFsUG9wdXBXaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdHVhbFBvcHVwV2lkdGggPCBwb3B1cEVsZW1lbnRCb3VuZHMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBVdGlscy5nZXRTY3JvbGxYKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gVXRpbHMuZ2V0U2Nyb2xsWCgpICsgcm9vdEVsZW1lbnRCb3VuZHMubGVmdCArIChyb290RWxlbWVudEJvdW5kcy53aWR0aCAtIGFjdHVhbFBvcHVwV2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5vdWdoIHNwYWNlIG9uIHRoZSBsZWZ0IG9yIHJpZ2h0IG9mIHRoZSByb290IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJsZVNwYWNlUmlnaHQgPj0gcG9wdXBFbGVtZW50Qm91bmRzLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gVXRpbHMuZ2V0U2Nyb2xsWCgpICsgcm9vdEVsZW1lbnRCb3VuZHMucmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1zLWN0cmwtc2xpZGVcIiwgXCJtcy1jdHJsLXNsaWRlTGVmdFRvUmlnaHRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gVXRpbHMuZ2V0U2Nyb2xsWCgpICsgcm9vdEVsZW1lbnRCb3VuZHMubGVmdCAtIHBvcHVwRWxlbWVudEJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibXMtY3RybC1zbGlkZVwiLCBcIm1zLWN0cmwtc2xpZGVSaWdodFRvTGVmdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVub3VnaCBzcGFjZSBhYm92ZSBvciBiZWxvdyByb290IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoYXZhaWxhYmxlU3BhY2VCZWxvdyA+PSBwb3B1cEVsZW1lbnRCb3VuZHMuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IFV0aWxzLmdldFNjcm9sbFkoKSArIHJvb3RFbGVtZW50Qm91bmRzLmJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtcy1jdHJsLXNsaWRlXCIsIFwibXMtY3RybC1zbGlkZVRvcFRvQm90dG9tXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gVXRpbHMuZ2V0U2Nyb2xsWSgpICsgcm9vdEVsZW1lbnRCb3VuZHMudG9wIC0gcG9wdXBFbGVtZW50Qm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtcy1jdHJsLXNsaWRlXCIsIFwibXMtY3RybC1zbGlkZUJvdHRvbVRvVG9wXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXZhaWxhYmxlU3BhY2VSaWdodCA8IHBvcHVwRWxlbWVudEJvdW5kcy53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gVXRpbHMuZ2V0U2Nyb2xsWCgpICsgcm9vdEVsZW1lbnRCb3VuZHMucmlnaHQgLSBwb3B1cEVsZW1lbnRCb3VuZHMud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2lzT3BlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBvcHVwQ29udHJvbC5wcm90b3R5cGUuY2xvc2VQb3B1cCA9IGZ1bmN0aW9uICh3YXNDYW5jZWxsZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzT3Blbikge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9vdmVybGF5RWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2UodGhpcywgd2FzQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvcHVwQ29udHJvbC5wcm90b3R5cGUsIFwiaXNPcGVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNPcGVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFBvcHVwQ29udHJvbDtcbn0oKSk7XG5leHBvcnRzLlBvcHVwQ29udHJvbCA9IFBvcHVwQ29udHJvbDtcbnZhciBJbnB1dFdpdGhQb3B1cCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5wdXRXaXRoUG9wdXAsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5wdXRXaXRoUG9wdXAoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLmtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmVudGVyOlxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLnVwZGF0ZUxhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbGFiZWxFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYWJlbEVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5nZXRWYWx1ZUFzU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFiZWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwbGFjZWhvbGRlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLl9wbGFjZWhvbGRlclRleHQgPyB0aGlzLl9wbGFjZWhvbGRlclRleHQgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhYmVsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicGxhY2Vob2xkZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUsIFwicG9wdXBDb250cm9sXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9wdXBDb250cm9sO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLmdldEJ1dHRvbkljb25Dc3NDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIm1zLWljb24tY2hldnJvbkRvd25cIjtcbiAgICB9O1xuICAgIElucHV0V2l0aFBvcHVwLnByb3RvdHlwZS5nZXRWYWx1ZUFzU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIElucHV0V2l0aFBvcHVwLnByb3RvdHlwZS52YWx1ZUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uVmFsdWVDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUuYXR0YWNoID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYXR0YWNoLmNhbGwodGhpcywgcm9vdEVsZW1lbnQpO1xuICAgICAgICByb290RWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgIHJvb3RFbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMuZ2V0Q3NzQ2xhc3NOYW1lKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uIChlKSB7IF90aGlzLmNsb3NlUG9wdXAodHJ1ZSk7IH0pO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlUG9wdXAodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3B1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgcGxhY2VIb2xkZXJEb21JdGVtID0gdGhpcy5yb290RWxlbWVudC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInBsYWNlaG9sZGVyXCIpO1xuICAgICAgICBpZiAocGxhY2VIb2xkZXJEb21JdGVtKSB7XG4gICAgICAgICAgICB0aGlzLl9wbGFjZWhvbGRlclRleHQgPSBwbGFjZUhvbGRlckRvbUl0ZW0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHRoaXMuX2xhYmVsRWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtZHJvcGRvd24tbGFiZWxcIjtcbiAgICAgICAgdGhpcy5fbGFiZWxFbGVtZW50LmlkID0gdXVpZF8xLnY0KCk7IC8vIGdlbmVyYXRlIHVuaXF1ZSBpZCBmb3Igb3VyIGxhYmVsIGVsZW1lbnRcbiAgICAgICAgdGhpcy5fZHJvcERvd25CdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgIHRoaXMuX2Ryb3BEb3duQnV0dG9uRWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWljb24gbXMtY3RybC1kcm9wZG93bi1idXR0b24gXCIgKyB0aGlzLmdldEJ1dHRvbkljb25Dc3NDbGFzc05hbWUoKTtcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9sYWJlbEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2Ryb3BEb3duQnV0dG9uRWxlbWVudCk7XG4gICAgICAgIHRoaXMudXBkYXRlTGFiZWwoKTtcbiAgICB9O1xuICAgIElucHV0V2l0aFBvcHVwLnByb3RvdHlwZS5wb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcG9wdXBDb250cm9sID0gdGhpcy5jcmVhdGVQb3B1cENvbnRyb2woKTtcbiAgICAgICAgdGhpcy5fcG9wdXBDb250cm9sLm9uQ2xvc2UgPSBmdW5jdGlvbiAoc2VuZGVyLCB3YXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIF90aGlzLmNsb3NlUG9wdXAod2FzQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgIF90aGlzLnJvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BvcHVwQ29udHJvbC5wb3B1cCh0aGlzLnJvb3RFbGVtZW50KTtcbiAgICB9O1xuICAgIElucHV0V2l0aFBvcHVwLnByb3RvdHlwZS5jbG9zZVBvcHVwID0gZnVuY3Rpb24gKHdhc0NhbmNlbGxlZCkge1xuICAgICAgICBpZiAodGhpcy5wb3B1cENvbnRyb2wpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXBDb250cm9sLmNsb3NlUG9wdXAod2FzQ2FuY2VsbGVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KElucHV0V2l0aFBvcHVwLnByb3RvdHlwZSwgXCJsYWJlbElkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGFiZWxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhYmVsRWxlbWVudC5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLCBcImlzT3BlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BvcHVwQ29udHJvbCA/IHRoaXMuX3BvcHVwQ29udHJvbC5pc09wZW4gOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnB1dFdpdGhQb3B1cC5wcm90b3R5cGUsIFwicGxhY2Vob2xkZXJUZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxhY2Vob2xkZXJUZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXJUZXh0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5wdXRXaXRoUG9wdXAucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdmFsdWUgIT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGFiZWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIElucHV0V2l0aFBvcHVwO1xufShpbnB1dGNvbnRyb2xfMS5JbnB1dENvbnRyb2wpKTtcbmV4cG9ydHMuSW5wdXRXaXRoUG9wdXAgPSBJbnB1dFdpdGhQb3B1cDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlucHV0d2l0aHBvcHVwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9wdXBNZW51ID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZShcIi4vY29sbGVjdGlvblwiKTtcbnZhciBpbnB1dHdpdGhwb3B1cF8xID0gcmVxdWlyZShcIi4vaW5wdXR3aXRocG9wdXBcIik7XG52YXIgUG9wdXBNZW51ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb3B1cE1lbnUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9wdXBNZW51KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faXRlbXMgPSBuZXcgY29sbGVjdGlvbl8xLkNvbGxlY3Rpb24oKTtcbiAgICAgICAgX3RoaXMuX3JlbmRlcmVkSXRlbXMgPSBbXTtcbiAgICAgICAgX3RoaXMuX3NlbGVjdGVkSW5kZXggPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQb3B1cE1lbnUucHJvdG90eXBlLnJlbmRlckNvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtcG9wdXBcIjtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdGJveFwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVkSXRlbSA9IHRoaXMuX2l0ZW1zLmdldChpKS5yZW5kZXIoKTtcbiAgICAgICAgICAgIHJlbmRlcmVkSXRlbS50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHJlbmRlcmVkSXRlbSk7XG4gICAgICAgICAgICBpZiAoaSA9PSB0aGlzLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlZEl0ZW0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMucHVzaChyZW5kZXJlZEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgUG9wdXBNZW51LnByb3RvdHlwZS5rZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5rZXlEb3duLmNhbGwodGhpcywgZSk7XG4gICAgICAgIHZhciBzZWxlY3RlZEl0ZW1JbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMudGFiOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLmVudGVyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB0aGlzLnNlbGVjdGVkSW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuQ29uc3RhbnRzLmtleXMudXA6XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbUluZGV4IDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSW5kZXggPSB0aGlzLl9yZW5kZXJlZEl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCA9IHRoaXMuX3JlbmRlcmVkSXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEl0ZW1JbmRleDtcbiAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkNvbnN0YW50cy5rZXlzLmRvd246XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtSW5kZXggPj0gdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZEl0ZW1JbmRleDtcbiAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3B1cE1lbnUucHJvdG90eXBlLCBcIml0ZW1zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9wdXBNZW51LnByb3RvdHlwZSwgXCJzZWxlY3RlZEluZGV4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fcmVuZGVyZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zW2luZGV4XS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBQb3B1cE1lbnU7XG59KGlucHV0d2l0aHBvcHVwXzEuUG9wdXBDb250cm9sKSk7XG5leHBvcnRzLlBvcHVwTWVudSA9IFBvcHVwTWVudTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHVwbWVudS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJhZGlvQnV0dG9uID0gdm9pZCAwO1xuLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgaW5wdXRjb250cm9sXzEgPSByZXF1aXJlKFwiLi9pbnB1dGNvbnRyb2xcIik7XG52YXIgUmFkaW9CdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJhZGlvQnV0dG9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJhZGlvQnV0dG9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2xhYmVsID0gXCJcIjtcbiAgICAgICAgX3RoaXMuX2NoZWNrYm94RWxlbWVudCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9zcGFuRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmFkaW9CdXR0b24uY3JlYXRlSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBSYWRpb0J1dHRvbi5jcmVhdGlvbkluZGV4O1xuICAgICAgICBSYWRpb0J1dHRvbi5jcmVhdGlvbkluZGV4Kys7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5rZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5Db25zdGFudHMua2V5cy5lbnRlcjpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hlY2tlZCA9ICF0aGlzLmlzQ2hlY2tlZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmF0dGFjaC5jYWxsKHRoaXMsIHJvb3RFbGVtZW50KTtcbiAgICAgICAgcm9vdEVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtcmFkaW9idXR0b25cIjtcbiAgICAgICAgcm9vdEVsZW1lbnQudGFiSW5kZXggPSAwO1xuICAgICAgICB2YXIgbGFiZWxBdHRyaWJ1dGUgPSByb290RWxlbWVudC5hdHRyaWJ1dGVzW1wibGFiZWxcIl07XG4gICAgICAgIGlmIChsYWJlbEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fbGFiZWwgPSBsYWJlbEF0dHJpYnV0ZS52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNDaGVja2VkQXR0cmlidXRlID0gcm9vdEVsZW1lbnQuYXR0cmlidXRlc1tcImlzY2hlY2tlZFwiXTtcbiAgICAgICAgaWYgKGlzQ2hlY2tlZEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhpcy5faXNDaGVja2VkID0gaXNDaGVja2VkQXR0cmlidXRlLnZhbHVlID09PSBcInRydWVcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudC5pZCA9IFwibXMtY3RybC1yYWRpby1cIiArIFJhZGlvQnV0dG9uLmNyZWF0ZUlkKCk7XG4gICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudC50eXBlID0gXCJyYWRpb1wiO1xuICAgICAgICB0aGlzLl9jaGVja2JveEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudC5jaGVja2VkID0gdGhpcy5pc0NoZWNrZWQ7XG4gICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudC5vbmNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7IF90aGlzLmNoYW5nZWQoKTsgfTtcbiAgICAgICAgdmFyIGdyb3VwTmFtZUF0dHJpYnV0ZSA9IHJvb3RFbGVtZW50LmF0dHJpYnV0ZXNbXCJncm91cG5hbWVcIl07XG4gICAgICAgIGlmIChncm91cE5hbWVBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrYm94RWxlbWVudC5uYW1lID0gZ3JvdXBOYW1lQXR0cmlidXRlLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGxhYmVsRWxlbWVudC5odG1sRm9yID0gdGhpcy5fY2hlY2tib3hFbGVtZW50LmlkO1xuICAgICAgICB0aGlzLl9zcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICB0aGlzLl9zcGFuRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLl9sYWJlbDtcbiAgICAgICAgbGFiZWxFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3NwYW5FbGVtZW50KTtcbiAgICAgICAgcm9vdEVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY2hlY2tib3hFbGVtZW50KTtcbiAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYWRpb0J1dHRvbi5wcm90b3R5cGUsIFwibGFiZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYWJlbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3BhbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGFuRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLl9sYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSYWRpb0J1dHRvbi5wcm90b3R5cGUsIFwiaXNDaGVja2VkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNDaGVja2VkO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ2hlY2tlZCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQ2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGVja2JveEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tib3hFbGVtZW50LmNoZWNrZWQgPSB0aGlzLl9pc0NoZWNrZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSWRzXG4gICAgUmFkaW9CdXR0b24uY3JlYXRpb25JbmRleCA9IDA7XG4gICAgcmV0dXJuIFJhZGlvQnV0dG9uO1xufShpbnB1dGNvbnRyb2xfMS5JbnB1dENvbnRyb2wpKTtcbmV4cG9ydHMuUmFkaW9CdXR0b24gPSBSYWRpb0J1dHRvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhZGlvYnV0dG9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVGV4dEJveCA9IHZvaWQgMDtcbnZhciBVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGlucHV0Y29udHJvbF8xID0gcmVxdWlyZShcIi4vaW5wdXRjb250cm9sXCIpO1xudmFyIEVkaXRCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRWRpdEJveCgpIHtcbiAgICB9XG4gICAgRWRpdEJveC5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEVkaXRCb3g7XG59KCkpO1xudmFyIFNpbmdsZUxpbmVFZGl0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW5nbGVMaW5lRWRpdEJveCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW5nbGVMaW5lRWRpdEJveCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2lucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgX3RoaXMuX2lucHV0RWxlbWVudC5jbGFzc05hbWUgPSBcIm1zLWN0cmwgbXMtY3RybC10ZXh0Ym94XCI7XG4gICAgICAgIF90aGlzLl9pbnB1dEVsZW1lbnQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBfdGhpcy5faW5wdXRFbGVtZW50Lm9uaW5wdXQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuY2hhbmdlZCgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW5nbGVMaW5lRWRpdEJveC5wcm90b3R5cGUsIFwiZWxlbWVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0RWxlbWVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW5nbGVMaW5lRWRpdEJveC5wcm90b3R5cGUsIFwicGxhY2Vob2xkZXJcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50LnBsYWNlaG9sZGVyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2luZ2xlTGluZUVkaXRCb3gucHJvdG90eXBlLCBcImxpbmVDb3VudFwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBsaW5lQ291bnQgY2FuJ3QgYmUgc2V0IG9uIGEgU2luZ2xlTGluZUVkaXRCb3hcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaW5nbGVMaW5lRWRpdEJveC5wcm90b3R5cGUsIFwibWF4TGVuZ3RoXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnB1dEVsZW1lbnQubWF4TGVuZ3RoICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50Lm1heExlbmd0aCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2luZ2xlTGluZUVkaXRCb3gucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50LnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU2luZ2xlTGluZUVkaXRCb3g7XG59KEVkaXRCb3gpKTtcbnZhciBNdWx0aWxpbmVFZGl0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNdWx0aWxpbmVFZGl0Qm94LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE11bHRpbGluZUVkaXRCb3goKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl90ZXh0YXJlYUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgICAgIF90aGlzLl90ZXh0YXJlYUVsZW1lbnQuY2xhc3NOYW1lID0gXCJtcy1jdHJsIG1zLWN0cmwtdGV4dGJveCBtcy1jdHJsLXRleHRib3gtbXVsdGlsaW5lXCI7XG4gICAgICAgIF90aGlzLl90ZXh0YXJlYUVsZW1lbnQub25pbnB1dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5jaGFuZ2VkKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE11bHRpbGluZUVkaXRCb3gucHJvdG90eXBlLCBcImVsZW1lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0YXJlYUVsZW1lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVsdGlsaW5lRWRpdEJveC5wcm90b3R5cGUsIFwicGxhY2Vob2xkZXJcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGV4dGFyZWFFbGVtZW50LnBsYWNlaG9sZGVyID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVsdGlsaW5lRWRpdEJveC5wcm90b3R5cGUsIFwibGluZUNvdW50XCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHRhcmVhRWxlbWVudC5yb3dzID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVsdGlsaW5lRWRpdEJveC5wcm90b3R5cGUsIFwibWF4TGVuZ3RoXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0YXJlYUVsZW1lbnQubWF4TGVuZ3RoICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dGFyZWFFbGVtZW50Lm1heExlbmd0aCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTXVsdGlsaW5lRWRpdEJveC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0YXJlYUVsZW1lbnQudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0YXJlYUVsZW1lbnQudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBNdWx0aWxpbmVFZGl0Qm94O1xufShFZGl0Qm94KSk7XG52YXIgVGV4dEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dEJveCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZXh0Qm94KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2lzTXVsdGlsaW5lID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9saW5lQ291bnQgPSAzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRleHRCb3gucHJvdG90eXBlLmVkaXRCb3hDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGV4dEJveC5wcm90b3R5cGUucmVjcmVhdGVFZGl0Qm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2VkaXRCb3gpIHtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHRoaXMuX2VkaXRCb3gudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSB0aGlzLnJvb3RFbGVtZW50LmlubmVyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNNdWx0aWxpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRCb3ggPSBuZXcgTXVsdGlsaW5lRWRpdEJveCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWRpdEJveCA9IG5ldyBTaW5nbGVMaW5lRWRpdEJveCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2VkaXRCb3gudmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZWRpdEJveC5saW5lQ291bnQgPSB0aGlzLl9saW5lQ291bnQ7XG4gICAgICAgIHRoaXMuX2VkaXRCb3gubWF4TGVuZ3RoID0gdGhpcy5fbWF4TGVuZ3RoO1xuICAgICAgICB0aGlzLl9lZGl0Qm94LnBsYWNlaG9sZGVyID0gdGhpcy5fcGxhY2Vob2xkZXI7XG4gICAgICAgIHRoaXMuX2VkaXRCb3gub25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IF90aGlzLmVkaXRCb3hDaGFuZ2VkKCk7IH07XG4gICAgICAgIHRoaXMucm9vdEVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy5yb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9lZGl0Qm94LmVsZW1lbnQpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRCb3gucHJvdG90eXBlLCBcImVkaXRCb3hcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZWRpdEJveCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjcmVhdGVFZGl0Qm94KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZWRpdEJveDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFRleHRCb3gucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmF0dGFjaC5jYWxsKHRoaXMsIHJvb3RFbGVtZW50KTtcbiAgICAgICAgdGhpcy5faXNNdWx0aWxpbmUgPSBVdGlscy5nZXRBdHRyaWJ1dGVWYWx1ZUFzQm9vbChyb290RWxlbWVudCwgXCJpc211bHRpbGluZVwiLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX2xpbmVDb3VudCA9IFV0aWxzLmdldEF0dHJpYnV0ZVZhbHVlQXNJbnQocm9vdEVsZW1lbnQsIFwibGluZXNcIiwgMyk7XG4gICAgICAgIHRoaXMuX21heExlbmd0aCA9IFV0aWxzLmdldEF0dHJpYnV0ZVZhbHVlQXNJbnQocm9vdEVsZW1lbnQsIFwibWF4bGVuZ3RoXCIsIDUwMDAwKTtcbiAgICAgICAgdGhpcy5fcGxhY2Vob2xkZXIgPSBVdGlscy5nZXRBdHRyaWJ1dGVWYWx1ZUFzU3RyaW5nKHJvb3RFbGVtZW50LCBcInBsYWNlaG9sZGVyXCIsIG51bGwpO1xuICAgICAgICB0aGlzLnJlY3JlYXRlRWRpdEJveCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRCb3gucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lZGl0Qm94LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0Qm94LnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dEJveC5wcm90b3R5cGUsIFwicGxhY2Vob2xkZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbGFjZWhvbGRlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3BsYWNlaG9sZGVyID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmVkaXRCb3gucGxhY2Vob2xkZXIgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0Qm94LnByb3RvdHlwZSwgXCJpc011bHRpbGluZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzTXVsdGlsaW5lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzTXVsdGlsaW5lICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNNdWx0aWxpbmUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3JlYXRlRWRpdEJveCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRCb3gucHJvdG90eXBlLCBcImxpbmVDb3VudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVDb3VudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lQ291bnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRCb3gubGluZUNvdW50ID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dEJveC5wcm90b3R5cGUsIFwibWF4TGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21heExlbmd0aCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdEJveC5tYXhMZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0Qm94O1xufShpbnB1dGNvbnRyb2xfMS5JbnB1dENvbnRyb2wpKTtcbmV4cG9ydHMuVGV4dEJveCA9IFRleHRCb3g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0Ym94LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRBdHRyaWJ1dGVWYWx1ZUFzSW50ID0gZXhwb3J0cy5nZXRBdHRyaWJ1dGVWYWx1ZUFzU3RyaW5nID0gZXhwb3J0cy5nZXRBdHRyaWJ1dGVWYWx1ZUFzQm9vbCA9IGV4cG9ydHMuZ2V0U2Nyb2xsWSA9IGV4cG9ydHMuZ2V0U2Nyb2xsWCA9IGV4cG9ydHMuYXJlRGF0ZXNFcXVhbCA9IGV4cG9ydHMuYWRkTW9udGhzID0gZXhwb3J0cy5hZGREYXlzID0gZXhwb3J0cy5kYXlzSW5Nb250aCA9IGV4cG9ydHMuQ2FsZW5kYXJTZXR0aW5ncyA9IHZvaWQgMDtcbi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxudmFyIEVudW1zID0gcmVxdWlyZShcIi4vZW51bXNcIik7XG52YXIgQ2FsZW5kYXJTZXR0aW5ncyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWxlbmRhclNldHRpbmdzKCkge1xuICAgIH1cbiAgICBDYWxlbmRhclNldHRpbmdzLmdldExvbmdEYXlOYW1lID0gZnVuY3Rpb24gKGRheUluZGV4KSB7XG4gICAgICAgIGlmIChkYXlJbmRleCA+PSAwICYmIGRheUluZGV4IDwgQ2FsZW5kYXJTZXR0aW5ncy5sb25nRGF5TmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FsZW5kYXJTZXR0aW5ncy5sb25nRGF5TmFtZXNbZGF5SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRheSBpbmRleCBvdXQgb2YgcmFuZ2U6IFwiICsgZGF5SW5kZXgpO1xuICAgIH07XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5nZXRTaG9ydERheU5hbWUgPSBmdW5jdGlvbiAoZGF5SW5kZXgpIHtcbiAgICAgICAgaWYgKGRheUluZGV4ID49IDAgJiYgZGF5SW5kZXggPCBDYWxlbmRhclNldHRpbmdzLnNob3J0RGF5TmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FsZW5kYXJTZXR0aW5ncy5zaG9ydERheU5hbWVzW2RheUluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXkgaW5kZXggb3V0IG9mIHJhbmdlOiBcIiArIGRheUluZGV4KTtcbiAgICB9O1xuICAgIENhbGVuZGFyU2V0dGluZ3MuZ2V0SW5pdGlhbERheU5hbWUgPSBmdW5jdGlvbiAoZGF5SW5kZXgpIHtcbiAgICAgICAgaWYgKGRheUluZGV4ID49IDAgJiYgZGF5SW5kZXggPCBDYWxlbmRhclNldHRpbmdzLm1pbmltYWxEYXlOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBDYWxlbmRhclNldHRpbmdzLm1pbmltYWxEYXlOYW1lc1tkYXlJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF5IGluZGV4IG91dCBvZiByYW5nZTogXCIgKyBkYXlJbmRleCk7XG4gICAgfTtcbiAgICBDYWxlbmRhclNldHRpbmdzLmdldExvbmdNb250aE5hbWUgPSBmdW5jdGlvbiAobW9udGhJbmRleCkge1xuICAgICAgICBpZiAobW9udGhJbmRleCA+PSAwICYmIG1vbnRoSW5kZXggPCBDYWxlbmRhclNldHRpbmdzLmxvbmdNb250aE5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIENhbGVuZGFyU2V0dGluZ3MubG9uZ01vbnRoTmFtZXNbbW9udGhJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTW9udGggaW5kZXggb3V0IG9mIHJhbmdlOiBcIiArIG1vbnRoSW5kZXgpO1xuICAgIH07XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5nZXRTaG9ydE1vbnRoTmFtZSA9IGZ1bmN0aW9uIChtb250aEluZGV4KSB7XG4gICAgICAgIGlmIChtb250aEluZGV4ID49IDAgJiYgbW9udGhJbmRleCA8IENhbGVuZGFyU2V0dGluZ3Muc2hvcnRNb250aE5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIENhbGVuZGFyU2V0dGluZ3Muc2hvcnRNb250aE5hbWVzW21vbnRoSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1vbnRoIGluZGV4IG91dCBvZiByYW5nZTogXCIgKyBtb250aEluZGV4KTtcbiAgICB9O1xuICAgIENhbGVuZGFyU2V0dGluZ3MubW9udGhzSW5ZZWFyID0gMTI7XG4gICAgQ2FsZW5kYXJTZXR0aW5ncy5kYXlzSW5XZWVrID0gNztcbiAgICBDYWxlbmRhclNldHRpbmdzLmZpcnN0RGF5T2ZXZWVrID0gRW51bXMuRGF5T2ZXZWVrLlN1bmRheTtcbiAgICBDYWxlbmRhclNldHRpbmdzLmxvbmdEYXlOYW1lcyA9IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdO1xuICAgIENhbGVuZGFyU2V0dGluZ3Muc2hvcnREYXlOYW1lcyA9IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXTtcbiAgICBDYWxlbmRhclNldHRpbmdzLm1pbmltYWxEYXlOYW1lcyA9IFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGhcIiwgXCJGclwiLCBcIlNhXCJdO1xuICAgIENhbGVuZGFyU2V0dGluZ3MubG9uZ01vbnRoTmFtZXMgPSBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXTtcbiAgICBDYWxlbmRhclNldHRpbmdzLnNob3J0TW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcbiAgICByZXR1cm4gQ2FsZW5kYXJTZXR0aW5ncztcbn0oKSk7XG5leHBvcnRzLkNhbGVuZGFyU2V0dGluZ3MgPSBDYWxlbmRhclNldHRpbmdzO1xuZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICBzd2l0Y2ggKG1vbnRoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiAoeWVhciAlIDQgPT0gMCAmJiB5ZWFyICUgMTAwKSB8fCB5ZWFyICUgNDAwID09IDAgPyAyOSA6IDI4O1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgcmV0dXJuIDMwO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIDMxO1xuICAgIH1cbn1cbmV4cG9ydHMuZGF5c0luTW9udGggPSBkYXlzSW5Nb250aDtcbmZ1bmN0aW9uIGFkZERheXMoZGF0ZSwgZGF5cykge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgcmVzdWx0LnNldERhdGUocmVzdWx0LmdldERhdGUoKSArIGRheXMpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmFkZERheXMgPSBhZGREYXlzO1xuZnVuY3Rpb24gYWRkTW9udGhzKGRhdGUsIG1vbnRocykge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgdmFyIG5ld01vbnRoID0gcmVzdWx0LmdldE1vbnRoKCkgKyBtb250aHM7XG4gICAgcmVzdWx0LnNldE1vbnRoKG5ld01vbnRoKTtcbiAgICAvLyBXZSB3YW50IHRvIG1haW50YWluIHRoZSBzYW1lIGRheS1vZi1tb250aCwgYnV0IHRoYXQgbWF5IG5vdCBiZSBwb3NzaWJsZSBpZiB0aGUgbmV3IG1vbnRoIGRvZXNuJ3QgaGF2ZSBlbm91Z2ggZGF5cy5cbiAgICAvLyBMb29wIHVudGlsIHdlIGJhY2sgdXAgdG8gYSBkYXkgdGhlIG5ldyBtb250aCBoYXMuXG4gICAgLy8gKFdlaXJkIG1vZHVsbyBtYXRoIGlzIGR1ZSB0byBKYXZhc2NyaXB0J3MgdHJlYXRtZW50IG9mIG5lZ2F0aXZlIG51bWJlcnMgaW4gbW9kdWxvKVxuICAgIGlmIChyZXN1bHQuZ2V0TW9udGgoKSAhPT0gKChuZXdNb250aCAlIENhbGVuZGFyU2V0dGluZ3MubW9udGhzSW5ZZWFyKSArIENhbGVuZGFyU2V0dGluZ3MubW9udGhzSW5ZZWFyKSAlIENhbGVuZGFyU2V0dGluZ3MubW9udGhzSW5ZZWFyKSB7XG4gICAgICAgIHJlc3VsdCA9IGFkZERheXMocmVzdWx0LCAtcmVzdWx0LmdldERhdGUoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmFkZE1vbnRocyA9IGFkZE1vbnRocztcbmZ1bmN0aW9uIGFyZURhdGVzRXF1YWwoZGF0ZTEsIGRhdGUyKSB7XG4gICAgcmV0dXJuIGRhdGUxLmdldEZ1bGxZZWFyKCkgPT0gZGF0ZTIuZ2V0RnVsbFllYXIoKSAmJlxuICAgICAgICBkYXRlMS5nZXRNb250aCgpID09IGRhdGUyLmdldE1vbnRoKCkgJiZcbiAgICAgICAgZGF0ZTEuZ2V0RGF0ZSgpID09IGRhdGUyLmdldERhdGUoKTtcbn1cbmV4cG9ydHMuYXJlRGF0ZXNFcXVhbCA9IGFyZURhdGVzRXF1YWw7XG5mdW5jdGlvbiBnZXRTY3JvbGxYKCkge1xuICAgIHJldHVybiB3aW5kb3cucGFnZVhPZmZzZXQ7XG59XG5leHBvcnRzLmdldFNjcm9sbFggPSBnZXRTY3JvbGxYO1xuZnVuY3Rpb24gZ2V0U2Nyb2xsWSgpIHtcbiAgICByZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0O1xufVxuZXhwb3J0cy5nZXRTY3JvbGxZID0gZ2V0U2Nyb2xsWTtcbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlQXNCb29sKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBhdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgaWYgKGF0dHJpYnV0ZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlLnZhbHVlID09PSBcInRydWVcIjtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn1cbmV4cG9ydHMuZ2V0QXR0cmlidXRlVmFsdWVBc0Jvb2wgPSBnZXRBdHRyaWJ1dGVWYWx1ZUFzQm9vbDtcbmZ1bmN0aW9uIGdldEF0dHJpYnV0ZVZhbHVlQXNTdHJpbmcoZWxlbWVudCwgYXR0cmlidXRlTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIGF0dHJpYnV0ZSA9IGVsZW1lbnQuYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGUudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG59XG5leHBvcnRzLmdldEF0dHJpYnV0ZVZhbHVlQXNTdHJpbmcgPSBnZXRBdHRyaWJ1dGVWYWx1ZUFzU3RyaW5nO1xuZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWVBc0ludChlbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICB2YXIgYXR0cmlidXRlID0gZWxlbWVudC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgdmFyIG4gPSBwYXJzZUludChhdHRyaWJ1dGUudmFsdWUpO1xuICAgICAgICBpZiAoIWlzTmFOKG4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xufVxuZXhwb3J0cy5nZXRBdHRyaWJ1dGVWYWx1ZUFzSW50ID0gZ2V0QXR0cmlidXRlVmFsdWVBc0ludDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsInZhciB2MSA9IHJlcXVpcmUoJy4vdjEnKTtcbnZhciB2NCA9IHJlcXVpcmUoJy4vdjQnKTtcblxudmFyIHV1aWQgPSB2NDtcbnV1aWQudjEgPSB2MTtcbnV1aWQudjQgPSB2NDtcblxubW9kdWxlLmV4cG9ydHMgPSB1dWlkO1xuIiwiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cblxuLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvXG4vLyBpbXBsZW1lbnRhdGlvbi4gQWxzbywgZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihtc0NyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpO1xuXG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG52YXIgX2Nsb2Nrc2VxO1xuXG4vLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBbXTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTtcblxuICAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IHJuZygpO1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbXG4gICAgICAgIHNlZWRCeXRlc1swXSB8IDB4MDEsXG4gICAgICAgIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXG4gICAgICBdO1xuICAgIH1cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH1cblxuICAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgdmFyIGR0ID0gKG1zZWNzIC0gX2xhc3RNU2VjcykgKyAobnNlY3MgLSBfbGFzdE5TZWNzKS8xMDAwMDtcblxuICAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH1cblxuICAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9XG5cbiAgLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3V1aWQudjEoKTogQ2FuXFwndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWMnKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7XG5cbiAgLy8gYHRpbWVfbG93YFxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmO1xuXG4gIC8vIGB0aW1lX21pZGBcbiAgdmFyIHRtaCA9IChtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDApICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmO1xuXG4gIC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7XG5cbiAgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDtcblxuICAvLyBgY2xvY2tfc2VxX2xvd2BcbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmO1xuXG4gIC8vIGBub2RlYFxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgPyBidWYgOiBieXRlc1RvVXVpZChiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2MTtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSAocm5kc1s2XSAmIDB4MGYpIHwgMHg0MDtcbiAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG4gICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYgfHwgYnl0ZXNUb1V1aWQocm5kcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjQ7XG4iLCIvKiFcbiAqIGNsaXBib2FyZC5qcyB2Mi4wLjhcbiAqIGh0dHBzOi8vY2xpcGJvYXJkanMuY29tL1xuICpcbiAqIExpY2Vuc2VkIE1JVCDCqSBaZW5vIFJvY2hhXG4gKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkNsaXBib2FyZEpTXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkNsaXBib2FyZEpTXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKCkgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfbW9kdWxlc19fID0gKHtcblxuLyoqKi8gMTM0OlxuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyBFWFBPUlRTXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywge1xuICBcImRlZmF1bHRcIjogZnVuY3Rpb24oKSB7IHJldHVybiAvKiBiaW5kaW5nICovIGNsaXBib2FyZDsgfVxufSk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvdGlueS1lbWl0dGVyL2luZGV4LmpzXG52YXIgdGlueV9lbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNzkpO1xudmFyIHRpbnlfZW1pdHRlcl9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubih0aW55X2VtaXR0ZXIpO1xuLy8gRVhURVJOQUwgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9nb29kLWxpc3RlbmVyL3NyYy9saXN0ZW4uanNcbnZhciBsaXN0ZW4gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCk7XG52YXIgbGlzdGVuX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKGxpc3Rlbik7XG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3NlbGVjdC9zcmMvc2VsZWN0LmpzXG52YXIgc3JjX3NlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oODE3KTtcbnZhciBzZWxlY3RfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oc3JjX3NlbGVjdCk7XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY2xpcGJvYXJkLWFjdGlvbi5qc1xuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cblxuLyoqXG4gKiBJbm5lciBjbGFzcyB3aGljaCBwZXJmb3JtcyBzZWxlY3Rpb24gZnJvbSBlaXRoZXIgYHRleHRgIG9yIGB0YXJnZXRgXG4gKiBwcm9wZXJ0aWVzIGFuZCB0aGVuIGV4ZWN1dGVzIGNvcHkgb3IgY3V0IG9wZXJhdGlvbnMuXG4gKi9cblxudmFyIENsaXBib2FyZEFjdGlvbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gQ2xpcGJvYXJkQWN0aW9uKG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2xpcGJvYXJkQWN0aW9uKTtcblxuICAgIHRoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIERlZmluZXMgYmFzZSBwcm9wZXJ0aWVzIHBhc3NlZCBmcm9tIGNvbnN0cnVjdG9yLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmRBY3Rpb24sIFt7XG4gICAga2V5OiBcInJlc29sdmVPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcbiAgICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XG4gICAgICB0aGlzLmVtaXR0ZXIgPSBvcHRpb25zLmVtaXR0ZXI7XG4gICAgICB0aGlzLnRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgICAgdGhpcy50cmlnZ2VyID0gb3B0aW9ucy50cmlnZ2VyO1xuICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjaWRlcyB3aGljaCBzZWxlY3Rpb24gc3RyYXRlZ3kgaXMgZ29pbmcgdG8gYmUgYXBwbGllZCBiYXNlZFxuICAgICAqIG9uIHRoZSBleGlzdGVuY2Ugb2YgYHRleHRgIGFuZCBgdGFyZ2V0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdFNlbGVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudGV4dCkge1xuICAgICAgICB0aGlzLnNlbGVjdEZha2UoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RUYXJnZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZha2UgdGV4dGFyZWEgZWxlbWVudCwgc2V0cyBpdHMgdmFsdWUgZnJvbSBgdGV4dGAgcHJvcGVydHksXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVGYWtlRWxlbWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGYWtlRWxlbWVudCgpIHtcbiAgICAgIHZhciBpc1JUTCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpID09PSAncnRsJztcbiAgICAgIHRoaXMuZmFrZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOyAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXG5cbiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUuZm9udFNpemUgPSAnMTJwdCc7IC8vIFJlc2V0IGJveCBtb2RlbFxuXG4gICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcbiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnOyAvLyBNb3ZlIGVsZW1lbnQgb3V0IG9mIHNjcmVlbiBob3Jpem9udGFsbHlcblxuICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICB0aGlzLmZha2VFbGVtLnN0eWxlW2lzUlRMID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSAnLTk5OTlweCc7IC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XG5cbiAgICAgIHZhciB5UG9zaXRpb24gPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wID0gXCJcIi5jb25jYXQoeVBvc2l0aW9uLCBcInB4XCIpO1xuICAgICAgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgdGhpcy5mYWtlRWxlbS52YWx1ZSA9IHRoaXMudGV4dDtcbiAgICAgIHJldHVybiB0aGlzLmZha2VFbGVtO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQncyB0aGUgdmFsdWUgb2YgZmFrZUVsZW0sXG4gICAgICogYW5kIG1ha2VzIGEgc2VsZWN0aW9uIG9uIGl0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2VsZWN0RmFrZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RGYWtlKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIGZha2VFbGVtID0gdGhpcy5jcmVhdGVGYWtlRWxlbWVudCgpO1xuXG4gICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmZha2VIYW5kbGVyID0gdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XG4gICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChmYWtlRWxlbSk7XG4gICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9IHNlbGVjdF9kZWZhdWx0KCkoZmFrZUVsZW0pO1xuICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9ubHkgcmVtb3ZlcyB0aGUgZmFrZSBlbGVtZW50IGFmdGVyIGFub3RoZXIgY2xpY2sgZXZlbnQsIHRoYXQgd2F5XG4gICAgICogYSB1c2VyIGNhbiBoaXQgYEN0cmwrQ2AgdG8gY29weSBiZWNhdXNlIHNlbGVjdGlvbiBzdGlsbCBleGlzdHMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVGYWtlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZha2UoKSB7XG4gICAgICBpZiAodGhpcy5mYWtlSGFuZGxlcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayk7XG4gICAgICAgIHRoaXMuZmFrZUhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5mYWtlRWxlbSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcbiAgICAgICAgdGhpcy5mYWtlRWxlbSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGNvbnRlbnQgZnJvbSBlbGVtZW50IHBhc3NlZCBvbiBgdGFyZ2V0YCBwcm9wZXJ0eS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbGVjdFRhcmdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RUYXJnZXQoKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9IHNlbGVjdF9kZWZhdWx0KCkodGhpcy50YXJnZXQpO1xuICAgICAgdGhpcy5jb3B5VGV4dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY29weSBvcGVyYXRpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29weVRleHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRleHQoKSB7XG4gICAgICB2YXIgc3VjY2VlZGVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzdWNjZWVkZWQgPSBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KHN1Y2NlZWRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpcmVzIGFuIGV2ZW50IGJhc2VkIG9uIHRoZSBjb3B5IG9wZXJhdGlvbiByZXN1bHQuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBzdWNjZWVkZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVJlc3VsdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoc3VjY2VlZGVkKSB7XG4gICAgICB0aGlzLmVtaXR0ZXIuZW1pdChzdWNjZWVkZWQgPyAnc3VjY2VzcycgOiAnZXJyb3InLCB7XG4gICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXG4gICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxuICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsXG4gICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcylcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBmb2N1cyBhd2F5IGZyb20gYHRhcmdldGAgYW5kIGJhY2sgdG8gdGhlIHRyaWdnZXIsIHJlbW92ZXMgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclNlbGVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclNlbGVjdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnRyaWdnZXIpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyLmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgYWN0aW9uYCB0byBiZSBwZXJmb3JtZWQgd2hpY2ggY2FuIGJlIGVpdGhlciAnY29weScgb3IgJ2N1dCcuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBsaWZlY3ljbGUuXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLnJlbW92ZUZha2UoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWN0aW9uXCIsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnY29weSc7XG4gICAgICB0aGlzLl9hY3Rpb24gPSBhY3Rpb247XG5cbiAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcImFjdGlvblwiIHZhbHVlLCB1c2UgZWl0aGVyIFwiY29weVwiIG9yIFwiY3V0XCInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYGFjdGlvbmAgcHJvcGVydHkuXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgICxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0YXJnZXRgIHByb3BlcnR5IHVzaW5nIGFuIGVsZW1lbnRcbiAgICAgKiB0aGF0IHdpbGwgYmUgaGF2ZSBpdHMgY29udGVudCBjb3BpZWQuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRhcmdldFwiLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0YXJnZXQgJiYgX3R5cGVvZih0YXJnZXQpID09PSAnb2JqZWN0JyAmJiB0YXJnZXQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2N1dCcgJiYgKHRhcmdldC5oYXNBdHRyaWJ1dGUoJ3JlYWRvbmx5JykgfHwgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gWW91IGNhblxcJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoIFwicmVhZG9ubHlcIiBvciBcImRpc2FibGVkXCIgYXR0cmlidXRlcycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0YXJnZXRgIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ3xIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICAsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNsaXBib2FyZF9hY3Rpb24gPSAoQ2xpcGJvYXJkQWN0aW9uKTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jbGlwYm9hcmQuanNcbmZ1bmN0aW9uIGNsaXBib2FyZF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IGNsaXBib2FyZF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgY2xpcGJvYXJkX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBjbGlwYm9hcmRfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gY2xpcGJvYXJkX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gY2xpcGJvYXJkX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBjbGlwYm9hcmRfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBjbGlwYm9hcmRfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGNsaXBib2FyZF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChjbGlwYm9hcmRfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuXG5cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gcmV0cmlldmUgYXR0cmlidXRlIHZhbHVlLlxuICogQHBhcmFtIHtTdHJpbmd9IHN1ZmZpeFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XG4gIHZhciBhdHRyaWJ1dGUgPSBcImRhdGEtY2xpcGJvYXJkLVwiLmNvbmNhdChzdWZmaXgpO1xuXG4gIGlmICghZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xufVxuLyoqXG4gKiBCYXNlIGNsYXNzIHdoaWNoIHRha2VzIG9uZSBvciBtb3JlIGVsZW1lbnRzLCBhZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGVtLFxuICogYW5kIGluc3RhbnRpYXRlcyBhIG5ldyBgQ2xpcGJvYXJkQWN0aW9uYCBvbiBlYWNoIGNsaWNrLlxuICovXG5cblxudmFyIENsaXBib2FyZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0VtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKENsaXBib2FyZCwgX0VtaXR0ZXIpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQ2xpcGJvYXJkKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgY2xpcGJvYXJkX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaXBib2FyZCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICBfdGhpcy5saXN0ZW5DbGljayh0cmlnZ2VyKTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogRGVmaW5lcyBpZiBhdHRyaWJ1dGVzIHdvdWxkIGJlIHJlc29sdmVkIHVzaW5nIGludGVybmFsIHNldHRlciBmdW5jdGlvbnNcbiAgICogb3IgY3VzdG9tIGZ1bmN0aW9ucyB0aGF0IHdlcmUgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG5cblxuICBjbGlwYm9hcmRfY3JlYXRlQ2xhc3MoQ2xpcGJvYXJkLCBbe1xuICAgIGtleTogXCJyZXNvbHZlT3B0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT3B0aW9ucygpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XG4gICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xuICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XG4gICAgICB0aGlzLmNvbnRhaW5lciA9IGNsaXBib2FyZF90eXBlb2Yob3B0aW9ucy5jb250YWluZXIpID09PSAnb2JqZWN0JyA/IG9wdGlvbnMuY29udGFpbmVyIDogZG9jdW1lbnQuYm9keTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBwYXNzZWQgdHJpZ2dlci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdHJpZ2dlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuQ2xpY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdGVuQ2xpY2sodHJpZ2dlcikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5fZGVmYXVsdCgpKHRyaWdnZXIsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIGEgbmV3IGBDbGlwYm9hcmRBY3Rpb25gIG9uIGVhY2ggY2xpY2sgZXZlbnQuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25DbGlja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgIHZhciB0cmlnZ2VyID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7XG5cbiAgICAgIGlmICh0aGlzLmNsaXBib2FyZEFjdGlvbikge1xuICAgICAgICB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IGNsaXBib2FyZF9hY3Rpb24oe1xuICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uKHRyaWdnZXIpLFxuICAgICAgICB0YXJnZXQ6IHRoaXMudGFyZ2V0KHRyaWdnZXIpLFxuICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXG4gICAgICAgIGVtaXR0ZXI6IHRoaXNcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGBhY3Rpb25gIGxvb2t1cCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRyaWdnZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRBY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdEFjdGlvbih0cmlnZ2VyKSB7XG4gICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ2FjdGlvbicsIHRyaWdnZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGB0YXJnZXRgIGxvb2t1cCBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRyaWdnZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRUYXJnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XG5cbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1cHBvcnQgb2YgdGhlIGdpdmVuIGFjdGlvbiwgb3IgYWxsIGFjdGlvbnMgaWYgbm8gYWN0aW9uIGlzXG4gICAgICogZ2l2ZW4uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFthY3Rpb25dXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWZhdWx0VGV4dFwiLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBgdGV4dGAgbG9va3VwIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdHJpZ2dlclxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGV4dCh0cmlnZ2VyKSB7XG4gICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBsaWZlY3ljbGUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZXN0cm95XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKTtcblxuICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImlzU3VwcG9ydGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICAgICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogWydjb3B5JywgJ2N1dCddO1xuICAgICAgdmFyIGFjdGlvbnMgPSB0eXBlb2YgYWN0aW9uID09PSAnc3RyaW5nJyA/IFthY3Rpb25dIDogYWN0aW9uO1xuICAgICAgdmFyIHN1cHBvcnQgPSAhIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDtcbiAgICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHN1cHBvcnQgPSBzdXBwb3J0ICYmICEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKGFjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzdXBwb3J0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGlwYm9hcmQ7XG59KCh0aW55X2VtaXR0ZXJfZGVmYXVsdCgpKSk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gdmFyIGNsaXBib2FyZCA9IChDbGlwYm9hcmQpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gODI4OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG52YXIgRE9DVU1FTlRfTk9ERV9UWVBFID0gOTtcblxuLyoqXG4gKiBBIHBvbHlmaWxsIGZvciBFbGVtZW50Lm1hdGNoZXMoKVxuICovXG5pZiAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmICFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG4gICAgdmFyIHByb3RvID0gRWxlbWVudC5wcm90b3R5cGU7XG5cbiAgICBwcm90by5tYXRjaGVzID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIHByb3RvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcjtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwYXJlbnQgdGhhdCBtYXRjaGVzIGEgc2VsZWN0b3IuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBjbG9zZXN0IChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IERPQ1VNRU5UX05PREVfVFlQRSkge1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQubWF0Y2hlcyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIDQzODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgY2xvc2VzdCA9IF9fd2VicGFja19yZXF1aXJlX18oODI4KTtcblxuLyoqXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gX2RlbGVnYXRlKGVsZW1lbnQsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIERlbGVnYXRlcyBldmVudCB0byBhIHNlbGVjdG9yLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd8QXJyYXl9IFtlbGVtZW50c11cbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudHMsIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaywgdXNlQ2FwdHVyZSkge1xuICAgIC8vIEhhbmRsZSB0aGUgcmVndWxhciBFbGVtZW50IHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cy5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgRWxlbWVudC1sZXNzIHVzYWdlLCBpdCBkZWZhdWx0cyB0byBnbG9iYWwgZGVsZWdhdGlvblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBVc2UgYGRvY3VtZW50YCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyLCB0aGVuIGFwcGx5IGFyZ3VtZW50c1xuICAgICAgICAvLyBUaGlzIGlzIGEgc2hvcnQgd2F5IHRvIC51bnNoaWZ0IGBhcmd1bWVudHNgIHdpdGhvdXQgcnVubmluZyBpbnRvIGRlb3B0aW1pemF0aW9uc1xuICAgICAgICByZXR1cm4gX2RlbGVnYXRlLmJpbmQobnVsbCwgZG9jdW1lbnQpLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFNlbGVjdG9yLWJhc2VkIHVzYWdlXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50cyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgQXJyYXktbGlrZSBiYXNlZCB1c2FnZVxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBfZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxuICpcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBsaXN0ZW5lcihlbGVtZW50LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmRlbGVnYXRlVGFyZ2V0ID0gY2xvc2VzdChlLnRhcmdldCwgc2VsZWN0b3IpO1xuXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA4Nzk6XG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydHMubm9kZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5leHBvcnRzLm5vZGVMaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG5cbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxuICAgICAgICAmJiAoJ2xlbmd0aCcgaW4gdmFsdWUpXG4gICAgICAgICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgZXhwb3J0cy5ub2RlKHZhbHVlWzBdKSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5zdHJpbmcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXG4gICAgICAgIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0cy5mbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuXG4gICAgcmV0dXJuIHR5cGUgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAzNzA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxudmFyIGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NzkpO1xudmFyIGRlbGVnYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MzgpO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhbGwgcGFyYW1zIGFuZCBjYWxscyB0aGUgcmlnaHRcbiAqIGxpc3RlbmVyIGZ1bmN0aW9uIGJhc2VkIG9uIGl0cyB0YXJnZXQgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxIVE1MQ29sbGVjdGlvbnxOb2RlTGlzdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRhcmdldCAmJiAhdHlwZSAmJiAhY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghaXMuc3RyaW5nKHR5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzLm5vZGUodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZSh0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXMubm9kZUxpc3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gbGlzdGVuTm9kZUxpc3QodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzLnN0cmluZyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5TZWxlY3Rvcih0YXJnZXQsIHR5cGUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3QnKTtcbiAgICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIEhUTUwgZWxlbWVudFxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEFkZCBhbiBldmVudCBsaXN0ZW5lciB0byBhIGxpc3Qgb2YgSFRNTCBlbGVtZW50c1xuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtOb2RlTGlzdHxIVE1MQ29sbGVjdGlvbn0gbm9kZUxpc3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ob2RlTGlzdChub2RlTGlzdCwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobm9kZUxpc3QsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgc2VsZWN0b3JcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBkZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCBzZWxlY3RvciwgdHlwZSwgY2FsbGJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RlbjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gODE3OlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5mdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xuICAgIHZhciBzZWxlY3RlZFRleHQ7XG5cbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1RFWFRBUkVBJykge1xuICAgICAgICB2YXIgaXNSZWFkT25seSA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpO1xuXG4gICAgICAgIGlmICghaXNSZWFkT25seSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKCFpc1JlYWRPbmx5KSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncmVhZG9ubHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XG4gICAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbGVtZW50KTtcbiAgICAgICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xuXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2VsZWN0O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyAyNzk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cbmZ1bmN0aW9uIEUgKCkge1xuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXG4gIC8vICh2aWEgaHR0cHM6Ly9naXRodWIuY29tL2xpcHNtYWNrIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9pc3N1ZXMvMylcbn1cblxuRS5wcm90b3R5cGUgPSB7XG4gIG9uOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XG5cbiAgICAoZVtuYW1lXSB8fCAoZVtuYW1lXSA9IFtdKSkucHVzaCh7XG4gICAgICBmbjogY2FsbGJhY2ssXG4gICAgICBjdHg6IGN0eFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25jZTogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xuICAgICAgc2VsZi5vZmYobmFtZSwgbGlzdGVuZXIpO1xuICAgICAgY2FsbGJhY2suYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBsaXN0ZW5lci5fID0gY2FsbGJhY2tcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcbiAgfSxcblxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBkYXRhID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBldnRBcnIgPSAoKHRoaXMuZSB8fCAodGhpcy5lID0ge30pKVtuYW1lXSB8fCBbXSkuc2xpY2UoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGxlbiA9IGV2dEFyci5sZW5ndGg7XG5cbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xuICAgICAgZXZ0QXJyW2ldLmZuLmFwcGx5KGV2dEFycltpXS5jdHgsIGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9mZjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGUgPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KTtcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XG4gICAgdmFyIGxpdmVFdmVudHMgPSBbXTtcblxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXZ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoZXZ0c1tpXS5mbiAhPT0gY2FsbGJhY2sgJiYgZXZ0c1tpXS5mbi5fICE9PSBjYWxsYmFjaylcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGV2ZW50IGZyb20gcXVldWUgdG8gcHJldmVudCBtZW1vcnkgbGVha1xuICAgIC8vIFN1Z2dlc3RlZCBieSBodHRwczovL2dpdGh1Yi5jb20vbGF6ZFxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcblxuICAgIChsaXZlRXZlbnRzLmxlbmd0aClcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcbiAgICAgIDogZGVsZXRlIGVbbmFtZV07XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFO1xubW9kdWxlLmV4cG9ydHMuVGlueUVtaXR0ZXIgPSBFO1xuXG5cbi8qKiovIH0pXG5cbi8qKioqKiovIFx0fSk7XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuLyoqKioqKi8gXHRcdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqLyBcdFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQgKi9cbi8qKioqKiovIFx0IWZ1bmN0aW9uKCkge1xuLyoqKioqKi8gXHRcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdH0oKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyAqL1xuLyoqKioqKi8gXHQhZnVuY3Rpb24oKSB7XG4vKioqKioqLyBcdFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcbi8qKioqKiovIFx0XHRcdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcbi8qKioqKiovIFx0XHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdH0oKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQgKi9cbi8qKioqKiovIFx0IWZ1bmN0aW9uKCkge1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH1cbi8qKioqKiovIFx0fSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyBcdC8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vKioqKioqLyBcdC8vIHN0YXJ0dXBcbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG4vKioqKioqLyB9KSgpXG4uZGVmYXVsdDtcbn0pOyIsImV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjMgfSBmcm9tICcuL3YzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjQgfSBmcm9tICcuL3Y0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjUgfSBmcm9tICcuL3Y1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTklMIH0gZnJvbSAnLi9uaWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnOyIsIi8qXG4gKiBCcm93c2VyLWNvbXBhdGlibGUgSmF2YVNjcmlwdCBNRDVcbiAqXG4gKiBNb2RpZmljYXRpb24gb2YgSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIHZhciBsZW5ndGgzMiA9IGlucHV0Lmxlbmd0aCAqIDMyO1xuICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIHZhciB4ID0gaW5wdXRbaSA+PiA1XSA+Pj4gaSAlIDMyICYgMHhmZjtcbiAgICB2YXIgaGV4ID0gcGFyc2VJbnQoaGV4VGFiLmNoYXJBdCh4ID4+PiA0ICYgMHgwZikgKyBoZXhUYWIuY2hhckF0KHggJiAweDBmKSwgMTYpO1xuICAgIG91dHB1dC5wdXNoKGhleCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgb3V0cHV0IGxlbmd0aCB3aXRoIHBhZGRpbmcgYW5kIGJpdCBsZW5ndGhcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE91dHB1dExlbmd0aChpbnB1dExlbmd0aDgpIHtcbiAgcmV0dXJuIChpbnB1dExlbmd0aDggKyA2NCA+Pj4gOSA8PCA0KSArIDE0ICsgMTtcbn1cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gd29yZHNUb01kNSh4LCBsZW4pIHtcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjtcbiAgeFtnZXRPdXRwdXRMZW5ndGgobGVuKSAtIDFdID0gbGVuO1xuICB2YXIgYSA9IDE3MzI1ODQxOTM7XG4gIHZhciBiID0gLTI3MTczMzg3OTtcbiAgdmFyIGMgPSAtMTczMjU4NDE5NDtcbiAgdmFyIGQgPSAyNzE3MzM4Nzg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xuICAgIHZhciBvbGRhID0gYTtcbiAgICB2YXIgb2xkYiA9IGI7XG4gICAgdmFyIG9sZGMgPSBjO1xuICAgIHZhciBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBsZW5ndGg4ID0gaW5wdXQubGVuZ3RoICogODtcbiAgdmFyIG91dHB1dCA9IG5ldyBVaW50MzJBcnJheShnZXRPdXRwdXRMZW5ndGgobGVuZ3RoOCkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgb3V0cHV0W2kgPj4gNV0gfD0gKGlucHV0W2kgLyA4XSAmIDB4ZmYpIDw8IGkgJSAzMjtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKlxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNhZmVBZGQoeCwgeSkge1xuICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiBtc3cgPDwgMTYgfCBsc3cgJiAweGZmZmY7XG59XG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5cblxuZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xuICByZXR1cm4gbnVtIDw8IGNudCB8IG51bSA+Pj4gMzIgLSBjbnQ7XG59XG4vKlxuICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gIHJldHVybiBzYWZlQWRkKGJpdFJvdGF0ZUxlZnQoc2FmZUFkZChzYWZlQWRkKGEsIHEpLCBzYWZlQWRkKHgsIHQpKSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGMgfCB+YiAmIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVnZyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVoaChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aWkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiLCJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICB2YXIgdjtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsIi8vIEFkYXB0ZWQgZnJvbSBDaHJpcyBWZW5lc3MnIFNIQTEgY29kZSBhdFxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9zaGExLmh0bWxcbmZ1bmN0aW9uIGYocywgeCwgeSwgeikge1xuICBzd2l0Y2ggKHMpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4geCAmIHkgXiB+eCAmIHo7XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHggJiB5IF4geCAmIHogXiB5ICYgejtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG4gIH1cbn1cblxuZnVuY3Rpb24gUk9UTCh4LCBuKSB7XG4gIHJldHVybiB4IDw8IG4gfCB4ID4+PiAzMiAtIG47XG59XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgdmFyIEsgPSBbMHg1YTgyNzk5OSwgMHg2ZWQ5ZWJhMSwgMHg4ZjFiYmNkYywgMHhjYTYyYzFkNl07XG4gIHZhciBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlcy5wdXNoKG1zZy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgLy8gQ29udmVydCBBcnJheS1saWtlIHRvIEFycmF5XG4gICAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIH1cblxuICBieXRlcy5wdXNoKDB4ODApO1xuICB2YXIgbCA9IGJ5dGVzLmxlbmd0aCAvIDQgKyAyO1xuICB2YXIgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICB2YXIgTSA9IG5ldyBBcnJheShOKTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTjsgKytfaSkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICBhcnJbal0gPSBieXRlc1tfaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMV0gPDwgMTYgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAyXSA8PCA4IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtfaV0gPSBhcnI7XG4gIH1cblxuICBNW04gLSAxXVsxNF0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4IC8gTWF0aC5wb3coMiwgMzIpO1xuICBNW04gLSAxXVsxNF0gPSBNYXRoLmZsb29yKE1bTiAtIDFdWzE0XSk7XG4gIE1bTiAtIDFdWzE1XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggJiAweGZmZmZmZmZmO1xuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IE47ICsrX2kyKSB7XG4gICAgdmFyIFcgPSBuZXcgVWludDMyQXJyYXkoODApO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAxNjsgKyt0KSB7XG4gICAgICBXW3RdID0gTVtfaTJdW3RdO1xuICAgIH1cblxuICAgIGZvciAodmFyIF90ID0gMTY7IF90IDwgODA7ICsrX3QpIHtcbiAgICAgIFdbX3RdID0gUk9UTChXW190IC0gM10gXiBXW190IC0gOF0gXiBXW190IC0gMTRdIF4gV1tfdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBIWzBdO1xuICAgIHZhciBiID0gSFsxXTtcbiAgICB2YXIgYyA9IEhbMl07XG4gICAgdmFyIGQgPSBIWzNdO1xuICAgIHZhciBlID0gSFs0XTtcblxuICAgIGZvciAodmFyIF90MiA9IDA7IF90MiA8IDgwOyArK190Mikge1xuICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKF90MiAvIDIwKTtcbiAgICAgIHZhciBUID0gUk9UTChhLCA1KSArIGYocywgYiwgYywgZCkgKyBlICsgS1tzXSArIFdbX3QyXSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7IC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG5cbnZhciBfY2xvY2tzZXE7IC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXG5cbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcblxuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgdmFyIGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDsgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH0gLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuXG5cbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH0gLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuXG5cbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7IC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOyAvLyBgdGltZV9sb3dgXG5cbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIHZhciB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgbWQ1IGZyb20gJy4vbWQ1LmpzJztcbnZhciB2MyA9IHYzNSgndjMnLCAweDMwLCBtZDUpO1xuZXhwb3J0IGRlZmF1bHQgdjM7IiwiaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTsgLy8gVVRGOCBlc2NhcGVcblxuICB2YXIgYnl0ZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgdmFyIEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IHZhciBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQodmFsdWUsIG5hbWVzcGFjZSwgYnVmLCBvZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ05hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSknKTtcbiAgICB9IC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG5cblxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDE2ICsgdmFsdWUubGVuZ3RoKTtcbiAgICBieXRlcy5zZXQobmFtZXNwYWNlKTtcbiAgICBieXRlcy5zZXQodmFsdWUsIG5hbWVzcGFjZS5sZW5ndGgpO1xuICAgIGJ5dGVzID0gaGFzaGZ1bmMoYnl0ZXMpO1xuICAgIGJ5dGVzWzZdID0gYnl0ZXNbNl0gJiAweDBmIHwgdmVyc2lvbjtcbiAgICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdpZnkoYnl0ZXMpO1xuICB9IC8vIEZ1bmN0aW9uI25hbWUgaXMgbm90IHNldHRhYmxlIG9uIHNvbWUgcGxhdGZvcm1zICgjMjcwKVxuXG5cbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbnZhciB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuZXhwb3J0IGNvbnN0IGFkYXB0aXZlQ2FyZFNjaGVtYSA9XG57XG4gIFwiJHNjaGVtYVwiOiBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDYvc2NoZW1hI1wiLFxuICBcImlkXCI6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIixcbiAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gIFwidGl0bGVcIjogXCJNaWNyb3NvZnQgQWRhcHRpdmUgQ2FyZCBTY2hlbWFcIixcbiAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICBcImFsbE9mXCI6IFtcbiAgICB7XG4gICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FkYXB0aXZlQ2FyZFwiXG4gICAgfVxuICBdLFxuICBcInByb3BlcnRpZXNcIjoge1xuICAgIFwidmVyc2lvblwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJ2ZXJzaW9uIG9mIHNjaGVtYSB0aGF0IHRoaXMgY2FyZCB3YXMgYXV0aG9yZWQgXCJcbiAgICB9LFxuICAgIFwibWluVmVyc2lvblwiOiB7XG4gICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJpZiBhIGNsaWVudCBkb2Vzbid0IHN1cHBvcnQgdGhlIG1pblZlcnNpb24gdGhlIGNhcmQgc2hvdWxkIGJlIHJlamVjdGVkIGFuZCByZXR1cm4gdGhlIGZhbGxiYWNrVGV4dC4gIElmIGl0IGRvZXMsIHRoZW4gdGhlIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCBzdXBwb3J0ZWQgYXJlIHNhZmUgdG8gaWdub3JlXCJcbiAgICB9LFxuICAgIFwiZmFsbGJhY2tUZXh0XCI6IHtcbiAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImlmIGEgY2xpZW50IGlzIG5vdCBhYmxlIHRvIHNob3cgdGhlIGNhcmQsIHNob3cgZmFsbGJhY2tUZXh0IHRvIHRoZSB1c2VyLiBUaGlzIGNhbiBiZSBpbiBtYXJrZG93biBmb3JtYXQuIFwiXG4gICAgfSxcbiAgICBcInNwZWFrXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlNwZWNpZmllcyB3aGF0IHNob3VsZCBiZSBzcG9rZW4gZm9yIHRoaXMgZW50aXJlIEl0ZW0uIFRoaXMgaXMgc2ltcGxlIHRleHQgb3IgU1NNTCBmcmFnbWVudFwiXG4gICAgfVxuICB9LFxuICBcInJlcXVpcmVkXCI6IFtcbiAgICBcInZlcnNpb25cIlxuICBdLFxuICBcImRlZmluaXRpb25zXCI6IHtcbiAgICBcIkFjdGlvblwiOiB7XG4gICAgICBcImFueU9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQWN0aW9uLlN1Ym1pdFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FjdGlvbi5TaG93Q2FyZFwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FjdGlvbi5PcGVuVXJsXCJcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgXCJBY3Rpb24uT3BlblVybFwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiV2hlbiBBY3Rpb24uT3BlblVybCBpcyBpbnZva2VkIGl0IHdpbGwgc2hvdyB0aGUgZ2l2ZW4gdXJsLCBlaXRoZXIgYnkgbGF1bmNoaW5nIGl0IHRvIGFuIGV4dGVybmFsIHdlYiBicm93c2VyIG9yIHNob3dpbmcgaW4tc2l0dSB3aXRoIGVtYmVkZGVkIHdlYiBicm93c2VyLlwiLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJ0aXRsZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkxhYmVsIGZvciBidXR0b24gb3IgbGluayB0aGF0IHJlcHJlc2VudHMgdGhpcyBhY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIEFjdGlvbi5PcGVuVXJsXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiQWN0aW9uLk9wZW5VcmxcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cmxcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgVVJMIHRvIG9wZW5cIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwidHlwZVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCJcbiAgICB9LFxuICAgIFwiQWN0aW9uLlNob3dDYXJkXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkFjdGlvbi5TaG93Q2FyZCBkZWZpbmVzIGFuIGlubGluZSBBZGFwdGl2ZUNhcmQgd2hpY2ggaXMgc2hvd24gdG8gdGhlIHVzZXIgd2hlbiBpdCBpcyBjbGlja2VkLlwiLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBBY3Rpb24uU2hvd0NhcmRcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJBY3Rpb24uU2hvd0NhcmRcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0aXRsZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkxhYmVsIGZvciBidXR0b24gb3IgbGluayB0aGF0IHJlcHJlc2VudHMgdGhpcyBhY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICBcImNhcmRcIjoge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQWRhcHRpdmVDYXJkXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInR5cGVcIixcbiAgICAgICAgXCJjYXJkXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQWN0aW9uLlN1Ym1pdFwiOiB7XG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTdWJtaXQgYWN0aW9uIGdhdGhlcnMgdXAgaW5wdXQgZmllbGRzLCBtZXJnZXMgd2l0aCBvcHRpb25hbCBkYXRhIGZpZWxkIGFuZCBnZW5lcmF0ZXMgZXZlbnQgdG8gY2xpZW50IGFza2luZyBmb3IgZGF0YSB0byBiZSBzdWJtaXR0ZWQuIEl0IGlzIHVwIHRvIHRoZSBjbGllbnQgdG8gZGV0ZXJtaW5lIGhvdyB0aGF0IGRhdGEgaXMgcHJvY2Vzc2VkLiBGb3IgZXhhbXBsZTogV2l0aCBCb3RGcmFtZXdvcmsgYm90cyB0aGUgY2xpZW50IHdvdWxkIHNlbmQgYW4gYWN0aXZpdHkgdGhyb3VnaCB0aGUgbWVzc2FnaW5nIG1lZGl1bSB0byB0aGUgYm90LlwiLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBBY3Rpb24uU3VibWl0XCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiQWN0aW9uLlN1Ym1pdFwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInRpdGxlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTGFiZWwgZm9yIGJ1dHRvbiBvciBsaW5rIHRoYXQgcmVwcmVzZW50cyB0aGlzIGFjdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFsgXCJzdHJpbmdcIiwgXCJvYmplY3RcIiBdLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJpbml0aWFsIGRhdGEgdGhhdCBpbnB1dCBmaWVsZHMgd2lsbCBiZSBjb21iaW5lZCB3aXRoLiBUaGlzIGlzIGVzc2VudGlhbGx5ICdoaWRkZW4nIHByb3BlcnRpZXNcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwidHlwZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkFjdGlvbnNcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsSXRlbXNcIjogdHJ1ZSxcbiAgICAgIFwiaXRlbXNcIjoge1xuICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FjdGlvblwiXG4gICAgICB9LFxuICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIlxuICAgIH0sXG4gICAgXCJBZGFwdGl2ZUNhcmRcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ2FyZCBzY2hlbWEgZm9yIGFuIGFkYXB0aXZlIGNhcmRcIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiQWRhcHRpdmVDYXJkXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiYWN0aW9uc1wiOiB7XG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBBY3Rpb25zIHRvIHNob3cgaW4gdGhlIGNhcmQncyBhY3Rpb24gYmFyXCIsXG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb25zXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJib2R5XCI6IHtcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIENhcmQgRWxlbWVudHMgdG8gc2hvdyBpbiB0aGUgcHJpbWFyeSBjYXJkIHJlZ2lvblwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRzXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInR5cGVcIixcbiAgICAgICAgXCJ2ZXJzaW9uXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQ2FyZEVsZW1lbnRcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICB9LFxuICAgICAgICBcImlkXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQSB1bmlxdWUgSWQgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzcGFjaW5nXCI6IHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL1NwYWNpbmdTdHlsZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VwYXJhdG9yXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBTZXBhcmF0b3Igb2JqZWN0IHR5cGUgZGVzY3JpYmVzIHRoZSBsb29rIGFuZCBmZWVsIG9mIGEgc2VwYXJhdGlvbiBsaW5lIGJldHdlZW4gdHdvIGVsZW1lbnRzLlwiLFxuICAgICAgICAgIFwiZGVmYXVsdFwiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwidHlwZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkNhcmRFbGVtZW50c1wiOiB7XG4gICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgXCJhZGRpdGlvbmFsSXRlbXNcIjogdHJ1ZSxcbiAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJhbnlPZlwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvVGV4dEJsb2NrXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW1hZ2VcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9Db250YWluZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9Db2x1bW5TZXRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9GYWN0U2V0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW1hZ2VTZXRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbnB1dC5UZXh0XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW5wdXQuTnVtYmVyXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW5wdXQuRGF0ZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0lucHV0LlRpbWVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbnB1dC5Ub2dnbGVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9JbnB1dC5DaG9pY2VTZXRcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbnB1dC5DaG9pY2VcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGVzY3JpYmVzIGEgQ2hvaWNlIGlucHV0LiBUaGUgdmFsdWUgc2hvdWxkIGJlIGEgc2ltcGxlIHN0cmluZyB3aXRob3V0IGEgXFxcIixcXFwiXCIsXG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcInR5cGVcIjp7XG4gICAgICAgICAgXCJ0eXBlXCI6XCJzdHJpbmdcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJJbnB1dC5DaG9pY2VcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0aXRsZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSB0ZXh0IGZvciBhIGNob2ljZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgcmF3IHZhbHVlIGZvciB0aGUgY2hvaWNlLiBOT1RFOiBkbyBub3QgdXNlIGEgXFxcIixcXFwiIGluIHRoZSB2YWx1ZSwgc2luY2UgTXVsdGlTZWxlY3QgQ2hvaWNlU2V0IHJldHVybnMgYSBjb21tYS1kZWxpbWl0ZWQgc3RyaW5nIG9mIGNob2ljZSB2YWx1ZXNcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwidGl0bGVcIixcbiAgICAgICAgXCJ2YWx1ZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkNob2ljZUlucHV0U3R5bGVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU3R5bGUgaGludCBmb3IgSW5wdXQuQ2hvaWNlU2V0XCIsXG4gICAgICBcImVudW1cIjogW1xuICAgICAgICBcImNvbXBhY3RcIixcbiAgICAgICAgXCJleHBhbmRlZFwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkNvbHVtblwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEZWZpbmVzIGEgY29udGFpbmVyIHRoYXQgaXMgcGFydCBvZiBhIENvbHVtblNldFwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiaXRlbXNcIjoge1xuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgQ2FyZCBFbGVtZW50cyB0byBpbmNsdWRlIGluIHRoZSBDb2x1bW5cIixcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50c1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VsZWN0QWN0aW9uXCI6IHtcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQW4gQWN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIENvbHVtbiBpcyB0YXBwZWQgb3Igc2VsZWN0ZWRcIixcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0FjdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIFwid2lkdGhcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBbXG4gICAgICAgICAgICBcInN0cmluZ1wiLFxuICAgICAgICAgICAgXCJudW1iZXJcIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlxcXCJhdXRvXFxcIiwgXFxcInN0cmV0Y2hcXFwiLCBvciBhIG51bWJlciByZXByZXNlbnRpbmcgcmVsYXRpdmUgd2lkdGggb2YgdGhlIGNvbHVtbiBpbiB0aGUgY29sdW1uIGdyb3VwXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBDb2x1bW5cIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJDb2x1bW5cIlxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcIml0ZW1zXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiQ29sdW1uU2V0XCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkNvbHVtblNldCBkaXZpZGVzIGEgcmVnaW9uIGludG8gQ29sdW1uJ3MgYWxsb3dpbmcgZWxlbWVudHMgdG8gc2l0IHNpZGUtYnktc2lkZVwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiY29sdW1uc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGFycmF5IG9mIENvbHVtbnMgdG8gZGl2aWRlIHRoZSByZWdpb24gaW50b1wiLFxuICAgICAgICAgIFwiaXRlbXNcIjoge1xuICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9Db2x1bW5cIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWxlY3RBY3Rpb25cIjoge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQWN0aW9uXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBBY3Rpb24gdGhhdCBpcyBleGVjdXRlZCB3aGVuIHRoZSBDb2x1bW5TZXQgaXMgY2xpY2tlZC90YXBwZWRcIlxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIENvbHVtblNldFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkNvbHVtblNldFwiXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBcIkNvbnRhaW5lclwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJDb250YWluZXJzIGdyb3VwIGl0ZW1zIHRvZ2V0aGVyXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBDYXJkIEVsZW1lbnRzIHRvIHJlbmRlciBpbnNpZGUgdGhlIENvbnRhaW5lclwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRzXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZWxlY3RBY3Rpb25cIjoge1xuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBbiBBY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgSW1hZ2UgaXMgdGFwcGVkIG9yIHNlbGVjdGVkXCIsXG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9BY3Rpb25cIlxuICAgICAgICB9LFxuICAgICAgICBcInN0eWxlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU3R5bGUgaGludCBmb3IgQ29udGFpbmVyXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgXCJlbXBoYXNpc1wiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJNdXN0IGJlIENvbnRhaW5lclwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkNvbnRhaW5lclwiXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwiaXRlbXNcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJGYWN0XCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkRlc2NyaWJlcyBhIEZhY3QgaW4gYSBGYWN0U2V0IGFzIGEga2V5L3ZhbHVlIHBhaXJcIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiRmFjdFwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInRpdGxlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHRpdGxlIG9mIHRoZSBmYWN0XCJcblxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHZhbHVlIG9mIHRoZSBmYWN0XCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcInRpdGxlXCIsXG4gICAgICAgIFwidmFsdWVcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJGYWN0U2V0XCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBGYWN0U2V0IEl0ZW0gbWFrZXMgaXQgc2ltcGxlIHRvIGRpc3BsYXkgYSBzZXJpZXMgb2YgZmFjdHMgKGUuZy4gbmFtZS92YWx1ZSBwYWlycykgaW4gYSB0YWJ1bGFyIGZvcm0uXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJmYWN0c1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGFycmF5IG9mIEZhY3RzXCIsXG4gICAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0ZhY3RcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBGYWN0U2V0XCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiRmFjdFNldFwiXG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwiZmFjdHNcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJIb3Jpem9udGFsQWxpZ25tZW50XCI6IHtcbiAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkNvbnRyb2xzIGhvdyBJdGVtcyBhcmUgaG9yaXpvbnRhbGx5IHBvc2l0aW9uZWQgd2l0aGluIHRoZWlyIGNvbnRhaW5lci5cIixcbiAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgIFwibGVmdFwiLFxuICAgICAgICBcImNlbnRlclwiLFxuICAgICAgICBcInJpZ2h0XCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW1hZ2VcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIEltYWdlIEl0ZW0gYWxsb3dzIGZvciB0aGUgaW5jbHVzaW9uIG9mIGltYWdlcyBpbiBhbiBBZGFwdGl2ZSBDYXJkLlwiLFxuICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0NhcmRFbGVtZW50XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiYWx0VGV4dFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkFsdGVybmF0ZSB0ZXh0IGZvciB0aGUgaW1hZ2UgZm9yIGFjY2Vzc2liaWxpdHlcIlxuICAgICAgICB9LFxuICAgICAgICBcImhvcml6b250YWxBbGlnbm1lbnRcIjoge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSG9yaXpvbnRhbEFsaWdubWVudFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VsZWN0QWN0aW9uXCI6IHtcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQW4gQWN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIEltYWdlIGlzIHRhcHBlZCBvciBzZWxlY3RlZFwiLFxuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQWN0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzaXplXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL0ltYWdlU2l6ZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic3R5bGVcIjoge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW1hZ2VTdHlsZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgSW1hZ2VcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJJbWFnZVwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInVybFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBVUkwgdG8gdGhlIGltYWdlLlwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbWFnZVNldFwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgSW1hZ2VTZXQgYWxsb3dzIGZvciB0aGUgaW5jbHVzaW9uIG9mIGEgY29sbGVjdGlvbiBpbWFnZXMgbGlrZSBhIHBob3RvZ2FsbGVyeS5cIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImltYWdlc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGFycmF5IG9mIEltYWdlIGVsZW1lbnRzIHRvIHNob3dcIixcbiAgICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW1hZ2VcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpbWFnZVNpemVcIjoge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW1hZ2VTaXplXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBJbWFnZVNldFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIkltYWdlU2V0XCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJpbWFnZXNcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJJbWFnZVNpemVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29udHJvbHMgdGhlIGFwcHJveGltYXRlIHNpemUgb2YgdGhlIGltYWdlLiBUaGUgcGh5c2ljYWwgZGltZW5zaW9ucyB3aWxsIHZhcnkgcGVyIGhvc3QuIFNwZWNpZnkgXFxcImF1dG9cXFwiIGZvciB0cnVlIGltYWdlIGRpbWVuc2lvbiBvciBcXFwic3RyZXRjaFxcXCIgdG8gZm9yY2UgaXQgdG8gZmlsbCB0aGUgY29udGFpbmVyXCIsXG4gICAgICBcImRlZmF1bHRcIjogXCJhdXRvXCIsXG4gICAgICBcImVudW1cIjogW1xuICAgICAgICBcImF1dG9cIixcbiAgICAgICAgXCJzdHJldGNoXCIsXG4gICAgICAgIFwic21hbGxcIixcbiAgICAgICAgXCJtZWRpdW1cIixcbiAgICAgICAgXCJsYXJnZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIkltYWdlU3R5bGVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29udHJvbHMgdGhlIHdheSBJbWFnZXMgYXJlIGRpc3BsYXllZFwiLFxuICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgXCJkZWZhdWx0XCIsXG4gICAgICAgIFwicGVyc29uXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW5wdXQuQ2hvaWNlU2V0XCI6IHtcbiAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogdHJ1ZSxcbiAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlNob3dzIGFuIGFycmF5IG9mIENob2ljZSBvYmplY3RzXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJjaG9pY2VzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJ0aGUgY2hvaWNlIG9wdGlvbnNcIixcbiAgICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvSW5wdXQuQ2hvaWNlXCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJZCBmb3IgdGhlIHZhbHVlICh3aWxsIGJlIHVzZWQgdG8gaWRlbnRpZnkgY29sbGVjdGVkIGlucHV0IHdoZW4gU1VCTUlUIGlzIGNsaWNrZWQpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJpc011bHRpU2VsZWN0XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImFsbG93IG11bHRpcGxlIGNob2ljZXMgdG8gYmUgc2VsZWN0ZWRcIixcbiAgICAgICAgICBcImRlZmF1bHRcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJzdHlsZVwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DaG9pY2VJbnB1dFN0eWxlXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTXVzdCBiZSBJbnB1dC5DaG9pY2VJbnB1dFwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIklucHV0LkNob2ljZVNldFwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIlxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGluaXRpYWwgY2hvaWNlIChvciBzZXQgb2YgY2hvaWNlcykgdGhhdCBzaG91bGQgYmUgc2VsZWN0ZWQuIEZvciBtdWx0aS1zZWxlY3QsIHNwZWNpZmN5IGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZyBvZiB2YWx1ZXNcIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgIFwiaWRcIixcbiAgICAgICAgXCJjaG9pY2VzXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW5wdXQuRGF0ZVwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbnB1dC5EYXRlIGNvbGxlY3RzIERhdGUgZnJvbSB0aGUgdXNlcixcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImlkXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSWQgZm9yIHRoZSB2YWx1ZSAod2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IGNvbGxlY3RlZCBpbnB1dCB3aGVuIFNVQk1JVCBpcyBjbGlja2VkKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWF4XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtYXhpbXVtIHZhbHVlIGV4cHJlc3NlZCBpbiBJU08tODYwMSBmb3JtYXQgKG1heSBiZSBpZ25vcmVkIGJ5IHNvbWUgY2xpZW50cylcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1pblwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImhpbnQgb2YgbWluaW11bSB2YWx1ZSBleHByZXNzZWQgaW4gSVNPLTg2MDEgZm9ybWF0IChtYXkgYmUgaWdub3JlZCBieSBzb21lIGNsaWVudHMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbGFjZWhvbGRlclwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRpdGxlIERlc2NyaXB0aW9uIG9mIHRoZSBpbnB1dCBkZXNpcmVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHR5cGUgbXVzdCBiZSBJbnB1dC5EYXRlXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiSW5wdXQuRGF0ZVwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGluaXRpYWwgdmFsdWUgZm9yIGEgZmllbGQgZXhwcmVzc2VkIGluIElTTy04NjAxIGZvcm1hdFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJpZFwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIklucHV0Lk51bWJlclwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbnB1dC5OdW1iZXIgY29sbGVjdHMgbnVtYmVyIGZyb20gdGhlIHVzZXIsXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJpZFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklkIGZvciB0aGUgdmFsdWUgKHdpbGwgYmUgdXNlZCB0byBpZGVudGlmeSBjb2xsZWN0ZWQgaW5wdXQgd2hlbiBTVUJNSVQgaXMgY2xpY2tlZClcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1heFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImhpbnQgb2YgbWF4aW11bSB2YWx1ZSAobWF5IGJlIGlnbm9yZWQgYnkgc29tZSBjbGllbnRzKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtaW5pbXVtIHZhbHVlIChtYXkgYmUgaWdub3JlZCBieSBzb21lIGNsaWVudHMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbGFjZWhvbGRlclwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRpdGxlIERlc2NyaXB0aW9uIG9mIHRoZSBpbnB1dCBkZXNpcmVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHR5cGUgbXVzdCBiZSBJbnB1dC5OdW1iZXJcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJJbnB1dC5OdW1iZXJcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBpbml0aWFsIHZhbHVlIGZvciBhIGZpZWxkXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcImlkXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiSW5wdXQuVGV4dFwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbnB1dC5UZXh0IGNvbGxlY3RzIHRleHQgZnJvbSB0aGUgdXNlcixcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImlkXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSWQgZm9yIHRoZSB2YWx1ZSAod2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IGNvbGxlY3RlZCBpbnB1dCB3aGVuIFNVQk1JVCBpcyBjbGlja2VkKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiaXNNdWx0aWxpbmVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRG8geW91IHdhbnQgdG8gYWxsb3cgbXVsdGlwbGUgbGluZXMgb2YgaW5wdXRcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1heExlbmd0aFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImhpbnQgb2YgbWF4aW11bSBsZW5ndGggY2hhcmFjdGVycyB0byBjb2xsZWN0IChtYXkgYmUgaWdub3JlZCBieSBzb21lIGNsaWVudHMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbGFjZWhvbGRlclwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRpdGxlIERlc2NyaXB0aW9uIG9mIHRoZSBpbnB1dCBkZXNpcmVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzdHlsZVwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9UZXh0SW5wdXRTdHlsZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklucHV0LlRleHRcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJJbnB1dC5UZXh0XCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidmFsdWVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgaW5pdGlhbCB2YWx1ZSBmb3IgYSBmaWVsZFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJpZFwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIklucHV0LlRpbWVcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSW5wdXQuVGltZSBjb2xsZWN0cyBUaW1lIGZyb20gdGhlIHVzZXIsXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJpZFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklkIGZvciB0aGUgdmFsdWUgKHdpbGwgYmUgdXNlZCB0byBpZGVudGlmeSBjb2xsZWN0ZWQgaW5wdXQgd2hlbiBTVUJNSVQgaXMgY2xpY2tlZClcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1heFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImhpbnQgb2YgbWF4aW11bSB2YWx1ZSAobWF5IGJlIGlnbm9yZWQgYnkgc29tZSBjbGllbnRzKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiaGludCBvZiBtaW5pbXVtIHZhbHVlIChtYXkgYmUgaWdub3JlZCBieSBzb21lIGNsaWVudHMpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbGFjZWhvbGRlclwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRpdGxlIERlc2NyaXB0aW9uIG9mIHRoZSBpbnB1dCBkZXNpcmVkXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHR5cGUgbXVzdCBiZSBJbnB1dC5UaW1lXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiSW5wdXQuVGltZVwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGluaXRpYWwgdmFsdWUgZm9yIGEgZmllbGQgZXhwcmVzc2VkIGluIElTTy04NjAxIGZvcm1hdFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJpZFwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIklucHV0LlRvZ2dsZVwiOiB7XG4gICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHRydWUsXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbnB1dC5Ub2dnbGUgY29sbGVjdHMgYSB0cnVlL2ZhbHNlIHJlc3BvbnNlIGZyb20gdGhlIHVzZXJcIixcbiAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9DYXJkRWxlbWVudFwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcImlkXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSWQgZm9yIHRoZSB2YWx1ZSAod2lsbCBiZSB1c2VkIHRvIGlkZW50aWZ5IGNvbGxlY3RlZCBpbnB1dCB3aGVuIFNVQk1JVCBpcyBjbGlja2VkKVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidGl0bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaXRsZSBmb3IgdGhlIHRvZ2dsZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklucHV0LlRvZ2dsZVwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcIklucHV0LlRvZ2dsZVwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInZhbHVlXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIGN1cnJlbnQgc2VsZWN0ZWQgdmFsdWUgKGRlZmF1bHQ6ZmFsc2UpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZU9mZlwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSB2YWx1ZSB3aGVuIHRvZ2dsZSBpcyBvZmYgKGRlZmF1bHQ6ZmFsc2UpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ2YWx1ZU9uXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHZhbHVlIHdoZW4gdG9nZ2xlIGlzIG9uIChkZWZhdWx0OnRydWUpXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgICBcImlkXCIsXG4gICAgICAgIFwidGl0bGVcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJUZXh0QmxvY2tcIjoge1xuICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB0cnVlLFxuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFRleHRCbG9jayBJdGVtIGFsbG93cyBmb3IgdGhlIGluY2x1c2lvbiBvZiB0ZXh0LCB3aXRoIHZhcmlvdXMgZm9udCBzaXplcywgd2VpZ2h0IGFuZCBjb2xvciwgaW4gQWRhcHRpdmUgQ2FyZHMuXCIsXG4gICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvQ2FyZEVsZW1lbnRcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCJjb2xvclwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkNvbnRyb2xzIHRoZSBjb2xvciBvZiBUZXh0QmxvY2sgSXRlbXMuXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgXCJkYXJrXCIsXG4gICAgICAgICAgICBcImxpZ2h0XCIsXG4gICAgICAgICAgICBcImFjY2VudFwiLFxuICAgICAgICAgICAgXCJnb29kXCIsXG4gICAgICAgICAgICBcIndhcm5pbmdcIixcbiAgICAgICAgICAgIFwiYXR0ZW50aW9uXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiaG9yaXpvbnRhbEFsaWdubWVudFwiOiB7XG4gICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9Ib3Jpem9udGFsQWxpZ25tZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJpc1N1YnRsZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbmRpY2F0ZXMgd2hldGhlciB0aGUgY29sb3Igb2YgdGhlIHRleHQgc2hvdWxkIGJlIHNsaWdodGx5IHRvbmVkIGRvd24gdG8gYXBwZWFyIGxlc3MgcHJvbWluZW50XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhMaW5lc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIldoZW4gV3JhcCBpcyB0cnVlLCB5b3UgY2FuIHNwZWNpZnkgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxpbmVzIHRvIGFsbG93IHRoZSB0ZXh0QmxvY2sgdG8gdXNlLlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwic2l6ZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcImNvbnRyb2xzIHNpemUgb2YgdGhlIHRleHQuXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwic21hbGxcIixcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgXCJtZWRpdW1cIixcbiAgICAgICAgICAgIFwibGFyZ2VcIixcbiAgICAgICAgICAgIFwiZXh0cmFMYXJnZVwiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInRleHRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgYWN0dWFsIHRleHQgdG8gZGlzcGxheVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidHlwZVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIk11c3QgYmUgVGV4dEJsb2NrXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiVGV4dEJsb2NrXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwid2VpZ2h0XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29udHJvbHMgdGhlIHdlaWdodCBvZiBUZXh0QmxvY2sgSXRlbXNcIixcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJsaWdodGVyXCIsXG4gICAgICAgICAgICBcImRlZmF1bHRcIixcbiAgICAgICAgICAgIFwiYm9sZGVyXCJcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwid3JhcFwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUcnVlIGlmIGJlIGlzIGFsbG93ZWQgdG8gd3JhcFwiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgXCJ0ZXh0XCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiU2VwYXJhdG9yU3R5bGVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSW5kaWNhdGVzIHdoZXRoZXIgdGhlcmUgc2hvdWxkIGJlIGEgdmlzaWJsZSBzZXBhcmF0b3IgKGUuZy4gYSBsaW5lKSBiZXR3ZWVuIHRoZSBlbGVtZW50IGFuZCB0aGUgb25lIGJlZm9yZSBpdC4gSWYgdGhpcyBwcm9wZXJ0eSBpcyBub3Qgc3BlY2lmaWVkLCBubyBzZXBhcmF0b3IgaXMgZGlzcGxheWVkLiBJZiBpdCBpcywgYSBzZXBhcmF0b3IgbGluZSBpcyBkaXNwbGF5ZWQuIEEgc2VwYXJhdG9yIHdpbGwgb25seSBhcHBlYXIgaWYgdGhlcmUgd2FzIGEgcHJlY2VkaW5nIGVsZW1lbnQuXCIsXG4gICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICBcInRoaWNrbmVzc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlNwZWNpZmllcyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzZXBhcmF0aW9uIGxpbmUuXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgXCJ0aGlja1wiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcImNvbG9yXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU3BlY2lmaWVzIHRoZSBjb2xvciBvZiB0aGUgc2VwYXJhdGlvbiBsaW5lLlwiLFxuICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICBcImRlZmF1bHRcIixcbiAgICAgICAgICAgIFwiYWNjZW50XCJcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFwiU3BhY2luZ1N0eWxlXCI6IHtcbiAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkNvbnRyb2xzIHRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIHRoaXMgZWxlbWVudCBhbmQgdGhlIHByZXZpb3VzIGVsZW1lbnQuXCIsXG4gICAgICBcImVudW1cIjogW1xuICAgICAgICBcIm5vbmVcIixcbiAgICAgICAgXCJzbWFsbFwiLFxuICAgICAgICBcImRlZmF1bHRcIixcbiAgICAgICAgXCJtZWRpdW1cIixcbiAgICAgICAgXCJsYXJnZVwiLFxuICAgICAgICBcImV4dHJhTGFyZ2VcIixcbiAgICAgICAgXCJwYWRkaW5nXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiVGV4dElucHV0U3R5bGVcIjoge1xuICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU3R5bGUgaGludCBmb3IgSW5wdXQuVGV4dC5cIixcbiAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgIFwidGV4dFwiLFxuICAgICAgICBcInRlbFwiLFxuICAgICAgICBcInVybFwiLFxuICAgICAgICBcImVtYWlsXCJcbiAgICAgIF1cbiAgICB9XG4gIH1cbn07XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmV4cG9ydCAqIGZyb20gXCIuL3N0cmluZ3NcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NoYXJlZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29udGFpbmVycy9ob3N0LWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29udGFpbmVycy9kZWZhdWx0L2RlZmF1bHQtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9maWVsZC1waWNrZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NhcmQtZGVzaWduZXItc3VyZmFjZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY2FyZC1kZXNpZ25lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kcmFnZ2FibGUtZWxlbWVudFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGVzaWduZXItcGVlcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3BlZXItY29tbWFuZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWlzY2VsbGFuZW91c1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2V0dGluZ3MtbWFuYWdlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2lkZS1wYW5lbFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vdG9vbC1ib3hcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3Rvb2xiYXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3Rvb2wtcGFsZXR0ZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vc3BsaXR0ZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3RyZWUtdmlld1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vYmFzZS10cmVlLWl0ZW1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Rlc2lnbmVyLXBlZXItdHJlZWl0ZW1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RhdGFcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NhdGFsb2d1ZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29udGFpbmVycy9ob3N0LWNvbnRhaW5lclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29udGFpbmVycy9kZWZhdWx0L2RlZmF1bHQtY29udGFpbmVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9waWMyY2FyZFwiO1xuIiwiaW1wb3J0IHsgRHJhZ2dhYmxlRWxlbWVudCB9IGZyb20gXCIuL2RyYWdnYWJsZS1lbGVtZW50XCI7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkcy1jb250cm9sc1wiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VUcmVlSXRlbSBleHRlbmRzIERyYWdnYWJsZUVsZW1lbnQge1xuICAgIHByaXZhdGUgc3RhdGljIGNvbGxhcHNlZEljb25DbGFzcyA9IFwiYWNkLWljb24tY2hldnJvblJpZ2h0XCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgZXhwYW5kZWRJY29uQ2xhc3MgPSBcImFjZC1pY29uLWNoZXZyb25Eb3duXCI7XG5cbiAgICBwcml2YXRlIF9pc0V4cGFuZGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9pc1NlbGVjdGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfcm9vdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3RyZWVJdGVtRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfZXhwYW5kQ29sbGFwc2VFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9jaGlsZENvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBuZWVkc1RvQmVTY3JvbGxlZCgpIHtcbiAgICAgICAgLy8gZGV0ZWN0IHRoZSBjYXNlIHdoZXJlIHRoZSB0cmVlVmlld0hvc3QncyBwYXJlbnQgaXNuJ3QgY3VycmVudGx5XG4gICAgICAgIC8vIG92ZXJmbG93ZWQuIGlmIGl0ICppcyogb3ZlcmZsb3dlZCAoaGFzIHNjcm9sbGJhciksIHRoZW4gc2Nyb2xsaW5nIGlzXG4gICAgICAgIC8vIGFwcHJvcHJpYXRlLiBvdGhlcndpc2UsIHdlIG1pZ2h0IGJlIGluIGEgc21hbGwtc2NyZWVuIHNpdHVhdGlvblxuICAgICAgICAvLyAoc2luZ2xlIGNvbHVtbiByZW5kZXJpbmcpIHdoZXJlIHNjcm9sbGluZyBpcyB1bmRlc2lyZWFibGVcbiAgICAgICAgY29uc3QgdHJlZVZpZXdIb3N0UGFyZW50ID0gdGhpcy5fcm9vdEVsZW1lbnQuY2xvc2VzdChcIi5hY2QtdHJlZVZpZXctaG9zdFwiKS5wYXJlbnRFbGVtZW50O1xuICAgICAgICByZXR1cm4gKHRyZWVWaWV3SG9zdFBhcmVudCAmJiB0cmVlVmlld0hvc3RQYXJlbnQuc2Nyb2xsSGVpZ2h0ID4gdHJlZVZpZXdIb3N0UGFyZW50LmNsaWVudEhlaWdodCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRJc1NlbGVjdGVkKHZhbHVlOiBib29sZWFuLCBzY3JvbGxJbnRvVmlldzogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5faXNTZWxlY3RlZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmVlSXRlbUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCB0aGlzLl9pc1NlbGVjdGVkLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2hhbmdlZChzY3JvbGxJbnRvVmlldyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0TGFiZWxUZXh0KCk6IHN0cmluZztcblxuICAgIHByb3RlY3RlZCBjbGljayhlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHN1cGVyLmNsaWNrKGUpO1xuXG4gICAgICAgIHRoaXMuc2V0SXNTZWxlY3RlZCh0cnVlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEljb25DbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0QWRkaXRpb25hbFRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxUZXh0Q2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiYWNkLXRyZWUtaXRlbS1hZGRpdGlvbmFsVGV4dFwiO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRJbmRlbnRhdGlvbkxldmVsSW5jcmVtZW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiA4O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXREcmFnU291cmNlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmVlSXRlbUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNlbGVjdGVkQ2hhbmdlZChzY3JvbGxJbnRvVmlldzogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkICYmIHNjcm9sbEludG9WaWV3ICYmIHRoaXMubmVlZHNUb0JlU2Nyb2xsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9uU2VsZWN0ZWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RlZENoYW5nZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RXhwYW5kQ29sbGFwc2VBcmlhVGV4dCgpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9pc0V4cGFuZGVkID8gXCJjb2xsYXBzZVwiIDogXCJleHBhbmRcIikgKyBcIiBcIiArIHRoaXMuZ2V0TGFiZWxUZXh0KCkgKyBcIiBlbGVtZW50XCI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaGFzQ2hpbGRyZW4gPSAodGhpcy5nZXRDaGlsZENvdW50KCkgPiAwKTtcblxuICAgICAgICBjb25zdCBsYWJlbElkID0gdXVpZHY0KCk7XG5cbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIwXCI7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnN0eWxlLmxpc3RTdHlsZVR5cGUgPSBcIm5vbmVcIjtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsIGxhYmVsSWQpO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxldmVsXCIsIHRoaXMuX2xldmVsLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIHRoaXMuX2lzU2VsZWN0ZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnRhYkluZGV4ID0gMDtcblxuICAgICAgICBpZiAoaGFzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdGhpcy5faXNFeHBhbmRlZC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJ0cmVlaXRlbVwiKTtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQub25jbGljayA9ICgpID0+IHsgdGhpcy5jbGljazsgfTtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQub25rZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gQ29uc3RhbnRzLmtleXMuZW50ZXIgfHwgZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLnNwYWNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc1NlbGVjdGVkKCF0aGlzLmlzU2VsZWN0ZWQsICF0aGlzLmlzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXRyZWUtaXRlbVwiKTtcbiAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGhpcy5fdHJlZUl0ZW1FbGVtZW50LnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLl90cmVlSXRlbUVsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSB0aGlzLmdldEluZGVudGF0aW9uTGV2ZWxJbmNyZW1lbnQoKSAqICgxICsgdGhpcy5sZXZlbCkgKyBcInB4XCI7XG5cbiAgICAgICAgaWYgKGhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLl90cmVlSXRlbUVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRyZWVpdGVtXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgbGFiZWxJZCk7XG5cbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdHJlZS1pdGVtLWV4cGFuZENvbGxhcHNlQnV0dG9uXCIpO1xuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMCAwIGF1dG9cIjtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBoYXNDaGlsZHJlbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VFbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRoaXMuZ2V0RXhwYW5kQ29sbGFwc2VBcmlhVGV4dCgpKTtcblxuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQub25jbGljayA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gIXRoaXMuX2lzRXhwYW5kZWQ7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG5cbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5vbmtleWRvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBDb25zdGFudHMua2V5cy5lbnRlciB8fCBlLmtleSA9PT0gQ29uc3RhbnRzLmtleXMuc3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gIXRoaXMuX2lzRXhwYW5kZWQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyZWVJdGVtRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9leHBhbmRDb2xsYXBzZUVsZW1lbnQpO1xuXG4gICAgICAgIGxldCB0ZXh0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRleHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdHJlZS1pdGVtLXRleHRcIik7XG4gICAgICAgIHRleHRFbGVtZW50LnN0eWxlLmZsZXggPSBcIjEgMSBhdXRvXCI7XG4gICAgICAgIHRleHRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGV4dEVsZW1lbnQuc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XG4gICAgICAgIHRleHRFbGVtZW50LnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiO1xuICAgICAgICB0ZXh0RWxlbWVudC5zdHlsZS50ZXh0T3ZlcmZsb3cgPSBcImVsbGlwc2lzXCI7XG4gICAgICAgIHRleHRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblxuICAgICAgICBpZiAodGhpcy5nZXRJY29uQ2xhc3MoKSkge1xuICAgICAgICAgICAgbGV0IGljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtaWNvblwiLCBcImFjZC10cmVlVmlldy1pY29uXCIsIHRoaXMuZ2V0SWNvbkNsYXNzKCkpO1xuXG4gICAgICAgICAgICB0ZXh0RWxlbWVudC5hcHBlbmRDaGlsZChpY29uRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGFiZWxTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGxhYmVsU3Bhbi5jbGFzc0xpc3QuYWRkKFwiYWNkLXRyZWUtaXRlbS10eXBlTmFtZVwiKTtcbiAgICAgICAgbGFiZWxTcGFuLmlubmVyVGV4dCA9IHRoaXMuZ2V0TGFiZWxUZXh0KCk7XG4gICAgICAgIGxhYmVsU3Bhbi5pZCA9IGxhYmVsSWQ7XG5cbiAgICAgICAgdGV4dEVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxTcGFuKTtcblxuICAgICAgICBsZXQgdGV4dCA9IHRoaXMuZ2V0QWRkaXRpb25hbFRleHQoKTtcblxuICAgICAgICBpZiAodGV4dCAmJiB0ZXh0ICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsVGV4dFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxUZXh0U3Bhbi5jbGFzc0xpc3QuYWRkKHRoaXMuZ2V0QWRkaXRpb25hbFRleHRDbGFzcygpKTtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxUZXh0U3Bhbi5pbm5lclRleHQgPSBcIiBbXCIgKyB0ZXh0ICsgXCJdXCI7XG5cbiAgICAgICAgICAgIHRleHRFbGVtZW50LmFwcGVuZENoaWxkKGFkZGl0aW9uYWxUZXh0U3Bhbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmVlSXRlbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGV4dEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3RyZWVJdGVtRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKGhhc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZENvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZENvbnRhaW5lckVsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjBcIjtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudC5zdHlsZS5saXN0U3R5bGVUeXBlID0gXCJub25lXCI7XG4gICAgICAgICAgICB0aGlzLl9jaGlsZENvbnRhaW5lckVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImdyb3VwXCIpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ2V0Q2hpbGRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVuZGVyZWRDaGlsZEl0ZW0gPSB0aGlzLmdldENoaWxkQXQoaSkucmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgICByZW5kZXJlZENoaWxkSXRlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXBvc2luc2V0XCIsIChpKzEpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkQ2hpbGRJdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtc2V0c2l6ZVwiLCB0aGlzLmdldENoaWxkQ291bnQoKS50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChyZW5kZXJlZENoaWxkSXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2NoaWxkQ29udGFpbmVyRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yb290RWxlbWVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2xldmVsOiBudW1iZXIgPSAwO1xuXG4gICAgb25TZWxlY3RlZENoYW5nZTogKHNlbmRlcjogQmFzZVRyZWVJdGVtKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoaXNFeHBhbmRlZDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gaXNFeHBhbmRlZDtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBnZXRDaGlsZENvdW50KCk6IG51bWJlcjtcbiAgICBhYnN0cmFjdCBnZXRDaGlsZEF0KGluZGV4OiBudW1iZXIpOiBCYXNlVHJlZUl0ZW07XG5cbiAgICB1cGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldENoaWxkQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgdGhpcy5faXNFeHBhbmRlZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRoaXMuZ2V0RXhwYW5kQ29sbGFwc2VBcmlhVGV4dCgpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRXhwYW5kZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZENvbnRhaW5lckVsZW1lbnQ/LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKEJhc2VUcmVlSXRlbS5jb2xsYXBzZWRJY29uQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5jbGFzc0xpc3QuYWRkKEJhc2VUcmVlSXRlbS5leHBhbmRlZEljb25DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZENvbnRhaW5lckVsZW1lbnQ/LmNsYXNzTGlzdC5hZGQoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5jbGFzc0xpc3QuYWRkKEJhc2VUcmVlSXRlbS5jb2xsYXBzZWRJY29uQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKEJhc2VUcmVlSXRlbS5leHBhbmRlZEljb25DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBhbmQoKSB7XG4gICAgICAgIGlmICghdGhpcy5faXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5faXNFeHBhbmRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb2xscGFzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzRXhwYW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRXhwYW5kZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRHJhZ2dhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0IGxldmVsKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZXZlbDtcbiAgICB9XG5cbiAgICBnZXQgaXNTZWxlY3RlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzU2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgc2V0IGlzU2VsZWN0ZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5zZXRJc1NlbGVjdGVkKHZhbHVlLCB0cnVlKTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIEFkYXB0aXZlIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkcy1jb250cm9sc1wiO1xuaW1wb3J0IHsgRHJhZ2dhYmxlRWxlbWVudCB9IGZyb20gXCIuL2RyYWdnYWJsZS1lbGVtZW50XCI7XG5pbXBvcnQgeyBJUG9pbnQsIFV0aWxzIH0gZnJvbSBcIi4vbWlzY2VsbGFuZW91c1wiO1xuaW1wb3J0ICogYXMgRGVzaWduZXJQZWVycyBmcm9tIFwiLi9kZXNpZ25lci1wZWVyc1wiO1xuaW1wb3J0ICogYXMgQUNEYXRhIGZyb20gXCJhZGFwdGl2ZWNhcmRzLXRlbXBsYXRpbmdcIjtcbmltcG9ydCAqIGFzIFNoYXJlZCBmcm9tIFwiLi9zaGFyZWRcIjtcbmltcG9ydCB7IEhvc3RDb250YWluZXIgfSBmcm9tIFwiLi9jb250YWluZXJzXCI7XG5pbXBvcnQgeyBGaWVsZERlZmluaXRpb24gfSBmcm9tIFwiLi9kYXRhXCI7XG5cbmV4cG9ydCBlbnVtIEJpbmRpbmdQcmV2aWV3TW9kZSB7XG4gICAgTm9QcmV2aWV3LFxuICAgIEdlbmVyYXRlZERhdGEsXG4gICAgU2FtcGxlRGF0YVxufVxuXG5leHBvcnQgdHlwZSBDYXJkRWxlbWVudFR5cGUgPSB7IG5ldygpOiBBZGFwdGl2ZS5DYXJkRWxlbWVudCB9O1xuZXhwb3J0IHR5cGUgQWN0aW9uVHlwZSA9IHsgbmV3KCk6IEFkYXB0aXZlLkFjdGlvbiB9O1xuZXhwb3J0IHR5cGUgQ2FyZEVsZW1lbnRQZWVyVHlwZSA9IHtcbiAgICBuZXcoXG4gICAgICAgIHBhcmVudDogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIsXG4gICAgICAgIGRlc2lnbmVyU3VyZmFjZTogQ2FyZERlc2lnbmVyU3VyZmFjZSxcbiAgICAgICAgcmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGNhcmRFbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCxcbiAgICAgICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50PzogYm9vbGVhblxuICAgICk6IERlc2lnbmVyUGVlcnMuQ2FyZEVsZW1lbnRQZWVyXG59O1xuZXhwb3J0IHR5cGUgQWN0aW9uUGVlclR5cGUgPSB7XG4gICAgbmV3KFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyLFxuICAgICAgICBkZXNpZ25lclN1cmZhY2U6IENhcmREZXNpZ25lclN1cmZhY2UsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlLFxuICAgICAgICBhY3Rpb246IEFkYXB0aXZlLkFjdGlvblxuICAgICk6IERlc2lnbmVyUGVlcnMuQWN0aW9uUGVlclxufTtcblxuY2xhc3MgRGVzaWduZXJQZWVyQ2F0ZWdvcnkge1xuICAgIHN0YXRpYyBVbmtub3duID0gXCJVbmtub3duXCI7XG4gICAgc3RhdGljIENvbnRhaW5lcnMgPSBcIkNvbnRhaW5lcnNcIjtcbiAgICBzdGF0aWMgRWxlbWVudHMgPSBcIkVsZW1lbnRzXCI7XG4gICAgc3RhdGljIElucHV0cyA9IFwiSW5wdXRzXCI7XG4gICAgc3RhdGljIEFjdGlvbnMgPSBcIkFjdGlvbnNcIjtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlc2lnbmVyUGVlclJlZ2lzdHJ5PFRTb3VyY2UsIFRQZWVyPiB7XG4gICAgcHJvdGVjdGVkIF9pdGVtczogQXJyYXk8RGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXJSZWdpc3RyYXRpb248VFNvdXJjZSwgVFBlZXI+PiA9IFtdO1xuXG4gICAgcmVhZG9ubHkgZGVmYXVsdFJlZ2lzdHJhdGlvbiA9IG5ldyBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UoRGVzaWduZXJQZWVyQ2F0ZWdvcnkuVW5rbm93biwgXCJhY2QtaWNvbi11bmtub3duUGVlclwiKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgcmVzZXQoKTtcblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xuICAgIH1cblxuICAgIGZpbmRUeXBlUmVnaXN0cmF0aW9uKHNvdXJjZVR5cGU6IFRTb3VyY2UpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbjxUU291cmNlLCBUUGVlcj4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXRlbXNbaV0uc291cmNlVHlwZSA9PT0gc291cmNlVHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyUGVlcihzb3VyY2VUeXBlOiBUU291cmNlLCBwZWVyVHlwZTogVFBlZXIsIGNhdGVnb3J5OiBzdHJpbmcsIGljb25DbGFzczogc3RyaW5nID0gbnVsbCkge1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSW5mbyA9IHRoaXMuZmluZFR5cGVSZWdpc3RyYXRpb24oc291cmNlVHlwZSk7XG5cbiAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbkluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVnaXN0cmF0aW9uSW5mby5wZWVyVHlwZSA9IHBlZXJUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVnaXN0cmF0aW9uSW5mbyA9IG5ldyBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbjxUU291cmNlLCBUUGVlcj4gKFxuICAgICAgICAgICAgICAgIHNvdXJjZVR5cGUsXG4gICAgICAgICAgICAgICAgcGVlclR5cGUsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgaWNvbkNsYXNzKTtcblxuICAgICAgICAgICAgdGhpcy5faXRlbXMucHVzaChyZWdpc3RyYXRpb25JbmZvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVucmVnaXN0ZXJQZWVyKHNvdXJjZVR5cGU6IFRTb3VyY2UpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2l0ZW1zW2ldLnNvdXJjZVR5cGUgPT09IHNvdXJjZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pdGVtcy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXJkRWxlbWVudFBlZXJSZWdpc3RyeSBleHRlbmRzIERlc2lnbmVyUGVlclJlZ2lzdHJ5PENhcmRFbGVtZW50VHlwZSwgQ2FyZEVsZW1lbnRQZWVyVHlwZT4ge1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuQWRhcHRpdmVDYXJkLCBEZXNpZ25lclBlZXJzLkFkYXB0aXZlQ2FyZFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tYWRhcHRpdmVDYXJkXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5Db250YWluZXIsIERlc2lnbmVyUGVlcnMuQ29udGFpbmVyUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQ29udGFpbmVycywgXCJhY2QtaWNvbi1jb250YWluZXJcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkNvbHVtblNldCwgRGVzaWduZXJQZWVycy5Db2x1bW5TZXRQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5Db250YWluZXJzLCBcImFjZC1pY29uLWNvbHVtblNldFwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuQ29sdW1uLCBEZXNpZ25lclBlZXJzLkNvbHVtblBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tY29sdW1uXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5JbWFnZVNldCwgRGVzaWduZXJQZWVycy5JbWFnZVNldFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24taW1hZ2VTZXRcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkZhY3RTZXQsIERlc2lnbmVyUGVlcnMuRmFjdFNldFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tZmFjdFNldFwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuVGFibGUsIERlc2lnbmVyUGVlcnMuVGFibGVQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5Db250YWluZXJzLCBcImFjZC1pY29uLXRhYmxlXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5UYWJsZVJvdywgRGVzaWduZXJQZWVycy5UYWJsZVJvd1BlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkNvbnRhaW5lcnMsIFwiYWNkLWljb24tdGFibGVSb3dcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlRhYmxlQ2VsbCwgRGVzaWduZXJQZWVycy5UYWJsZUNlbGxQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5Db250YWluZXJzLCBcImFjZC1pY29uLXRhYmxlQ2VsbFwiKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5UZXh0QmxvY2ssIERlc2lnbmVyUGVlcnMuVGV4dEJsb2NrUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuRWxlbWVudHMsIFwiYWNkLWljb24tdGV4dEJsb2NrXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5SaWNoVGV4dEJsb2NrLCBEZXNpZ25lclBlZXJzLlJpY2hUZXh0QmxvY2tQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5FbGVtZW50cywgXCJhY2QtaWNvbi1yaWNoVGV4dEJsb2NrXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5JbWFnZSwgRGVzaWduZXJQZWVycy5JbWFnZVBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkVsZW1lbnRzLCBcImFjZC1pY29uLWltYWdlXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5NZWRpYSwgRGVzaWduZXJQZWVycy5NZWRpYVBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkVsZW1lbnRzLCBcImFjZC1pY29uLW1lZGlhXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5BY3Rpb25TZXQsIERlc2lnbmVyUGVlcnMuQWN0aW9uU2V0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuRWxlbWVudHMsIFwiYWNkLWljb24tYWN0aW9uU2V0XCIpO1xuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlRleHRJbnB1dCwgRGVzaWduZXJQZWVycy5UZXh0SW5wdXRQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5JbnB1dHMsIFwiYWNkLWljb24taW5wdXRUZXh0XCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5EYXRlSW5wdXQsIERlc2lnbmVyUGVlcnMuRGF0ZUlucHV0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuSW5wdXRzLCBcImFjZC1pY29uLWlucHV0RGF0ZVwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuVGltZUlucHV0LCBEZXNpZ25lclBlZXJzLlRpbWVJbnB1dFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LklucHV0cywgXCJhY2QtaWNvbi1pbnB1dFRpbWVcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlRvZ2dsZUlucHV0LCBEZXNpZ25lclBlZXJzLlRvZ2dsZUlucHV0UGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuSW5wdXRzLCBcImFjZC1pY29uLWlucHV0VG9nZ2xlXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5OdW1iZXJJbnB1dCwgRGVzaWduZXJQZWVycy5OdW1iZXJJbnB1dFBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LklucHV0cywgXCJhY2QtaWNvbi1pbnB1dE51bWJlclwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuQ2hvaWNlU2V0SW5wdXQsIERlc2lnbmVyUGVlcnMuQ2hvaWNlU2V0SW5wdXRQZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5JbnB1dHMsIFwiYWNkLWljb24taW5wdXRDaG9pY2VTZXRcIik7XG4gICAgfVxuXG4gICAgY3JlYXRlUGVlckluc3RhbmNlKGRlc2lnbmVyU3VyZmFjZTogQ2FyZERlc2lnbmVyU3VyZmFjZSwgcGFyZW50OiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgY2FyZEVsZW1lbnQ6IEFkYXB0aXZlLkNhcmRFbGVtZW50LCBpbml0aWFsaXplQ2FyZEVsZW1lbnQ/OiBib29sZWFuKTogRGVzaWduZXJQZWVycy5DYXJkRWxlbWVudFBlZXIge1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSW5mbyA9IHRoaXMuZmluZFR5cGVSZWdpc3RyYXRpb24oKDxhbnk+Y2FyZEVsZW1lbnQpLmNvbnN0cnVjdG9yKTtcblxuICAgICAgICB2YXIgcGVlciA9IHJlZ2lzdHJhdGlvbkluZm8gP1xuICAgICAgICAgICAgbmV3IHJlZ2lzdHJhdGlvbkluZm8ucGVlclR5cGUocGFyZW50LCBkZXNpZ25lclN1cmZhY2UsIHJlZ2lzdHJhdGlvbkluZm8sIGNhcmRFbGVtZW50LCBpbml0aWFsaXplQ2FyZEVsZW1lbnQpIDpcbiAgICAgICAgICAgIG5ldyBEZXNpZ25lclBlZXJzLkNhcmRFbGVtZW50UGVlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgdGhpcy5kZWZhdWx0UmVnaXN0cmF0aW9uLCBjYXJkRWxlbWVudCwgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gcGVlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QZWVyUmVnaXN0cnkgZXh0ZW5kcyBEZXNpZ25lclBlZXJSZWdpc3RyeTxBY3Rpb25UeXBlLCBBY3Rpb25QZWVyVHlwZT4ge1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuSHR0cEFjdGlvbiwgRGVzaWduZXJQZWVycy5IdHRwQWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25IdHRwXCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5TdWJtaXRBY3Rpb24sIERlc2lnbmVyUGVlcnMuU3VibWl0QWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25TdWJtaXRcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLkV4ZWN1dGVBY3Rpb24sIERlc2lnbmVyUGVlcnMuRXhlY3V0ZUFjdGlvblBlZXIsIERlc2lnbmVyUGVlckNhdGVnb3J5LkFjdGlvbnMsIFwiYWNkLWljb24tYWN0aW9uU3VibWl0XCIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyUGVlcihBZGFwdGl2ZS5PcGVuVXJsQWN0aW9uLCBEZXNpZ25lclBlZXJzLk9wZW5VcmxBY3Rpb25QZWVyLCBEZXNpZ25lclBlZXJDYXRlZ29yeS5BY3Rpb25zLCBcImFjZC1pY29uLWFjdGlvbk9wZW5VcmxcIik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQZWVyKEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLCBEZXNpZ25lclBlZXJzLlNob3dDYXJkQWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25TaG93Q2FyZFwiKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclBlZXIoQWRhcHRpdmUuVG9nZ2xlVmlzaWJpbGl0eUFjdGlvbiwgRGVzaWduZXJQZWVycy5Ub2dnbGVWaXNpYmlsaXR5QWN0aW9uUGVlciwgRGVzaWduZXJQZWVyQ2F0ZWdvcnkuQWN0aW9ucywgXCJhY2QtaWNvbi1hY3Rpb25Ub2dnbGVWaXNpYmlsaXR5XCIpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBlZXJJbnN0YW5jZShkZXNpZ25lclN1cmZhY2U6IENhcmREZXNpZ25lclN1cmZhY2UsIHBhcmVudDogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIsIGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKTogRGVzaWduZXJQZWVycy5BY3Rpb25QZWVyIHtcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbkluZm8gPSB0aGlzLmZpbmRUeXBlUmVnaXN0cmF0aW9uKCg8YW55PmFjdGlvbikuY29uc3RydWN0b3IpO1xuXG4gICAgICAgIHZhciBwZWVyID0gcmVnaXN0cmF0aW9uSW5mbyA/IG5ldyByZWdpc3RyYXRpb25JbmZvLnBlZXJUeXBlKHBhcmVudCwgZGVzaWduZXJTdXJmYWNlLCByZWdpc3RyYXRpb25JbmZvLCBhY3Rpb24pIDogbmV3IERlc2lnbmVyUGVlcnMuQWN0aW9uUGVlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgdGhpcy5kZWZhdWx0UmVnaXN0cmF0aW9uLCBhY3Rpb24pO1xuXG4gICAgICAgIHJldHVybiBwZWVyO1xuICAgIH1cbn1cblxuY2xhc3MgRHJhZ0hhbmRsZSBleHRlbmRzIERyYWdnYWJsZUVsZW1lbnQge1xuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXBlZXJCdXR0b25cIiwgXCJhY2QtcGVlckJ1dHRvbi1pY29uXCIsIFwiZml4ZWRXaWR0aFwiLCBcImNpcmN1bGFyXCIsIFwiYWNkLWljb24tZHJhZ1wiKTtcbiAgICAgICAgZWxlbWVudC50aXRsZSA9IFwiRHJhZyB0byBtb3ZlIHRoaXMgZWxlbWVudFwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiNTAwXCI7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVzaWduQ29udGV4dCB7XG4gICAgYWJzdHJhY3QgZ2V0IGhvc3RDb250YWluZXIoKTogSG9zdENvbnRhaW5lcjtcbiAgICBhYnN0cmFjdCBnZXQgdGFyZ2V0VmVyc2lvbigpOiBBZGFwdGl2ZS5WZXJzaW9uO1xuICAgIGFic3RyYWN0IGdldCBkYXRhU3RydWN0dXJlKCk6IEZpZWxkRGVmaW5pdGlvbjtcbiAgICBhYnN0cmFjdCBnZXQgYmluZGluZ1ByZXZpZXdNb2RlKCk6IEJpbmRpbmdQcmV2aWV3TW9kZTtcbiAgICBhYnN0cmFjdCBnZXQgc2FtcGxlRGF0YSgpOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBDYXJkRGVzaWduZXJTdXJmYWNlIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnk6IENhcmRFbGVtZW50UGVlclJlZ2lzdHJ5ID0gbmV3IENhcmRFbGVtZW50UGVlclJlZ2lzdHJ5KCk7XG4gICAgc3RhdGljIHJlYWRvbmx5IGFjdGlvblBlZXJSZWdpc3RyeTogQWN0aW9uUGVlclJlZ2lzdHJ5ID0gbmV3IEFjdGlvblBlZXJSZWdpc3RyeSgpO1xuXG4gICAgcHJpdmF0ZSBfdXBkYXRlQ291bnQ6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIF9jYXJkOiBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQ7XG4gICAgcHJpdmF0ZSBfYWxsUGVlcnM6IEFycmF5PERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyPiA9IFtdO1xuICAgIHByaXZhdGUgX3Jvb3RQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcjtcbiAgICBwcml2YXRlIF9jYXJkSG9zdDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfZGVzaWduZXJTdXJmYWNlOiBIVE1MRGl2RWxlbWVudDtcbiAgICBwcml2YXRlIF9zZWxlY3RlZFBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyO1xuICAgIHByaXZhdGUgX2RyYWdnZWRQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcjtcbiAgICBwcml2YXRlIF9kcm9wVGFyZ2V0OiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcjtcbiAgICBwcml2YXRlIF9kcmFnSGFuZGxlOiBEcmFnSGFuZGxlO1xuICAgIHByaXZhdGUgX3JlbW92ZUNvbW1hbmRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfc2VyaWFsaXphdGlvbkNvbnRleHQ6IEFkYXB0aXZlLlNlcmlhbGl6YXRpb25Db250ZXh0O1xuICAgIHByaXZhdGUgX2lzUHJldmlld01vZGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9kcmFnVmlzdWFsPzogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIHVwZGF0ZVBlZXJDb21tYW5kc0xheW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkUGVlcikge1xuICAgICAgICAgICAgbGV0IHBlZXJSZWN0ID0gdGhpcy5fc2VsZWN0ZWRQZWVyLmdldEJvdW5kaW5nUmVjdCgpO1xuICAgICAgICAgICAgbGV0IGRyYWdIYW5kbGVSZWN0ID0gdGhpcy5fZHJhZ0hhbmRsZS5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBsZXQgcmVtb3ZlQnV0dG9uUmVjdCA9IHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5zdHlsZS5sZWZ0ID0gKHBlZXJSZWN0LmxlZnQgLSBkcmFnSGFuZGxlUmVjdC53aWR0aCkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5zdHlsZS50b3AgPSAocGVlclJlY3QudG9wIC0gZHJhZ0hhbmRsZVJlY3QuaGVpZ2h0KSArIFwicHhcIjtcblxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUubGVmdCA9IHBlZXJSZWN0LnJpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUudG9wID0gKHBlZXJSZWN0LnRvcCAtIHJlbW92ZUJ1dHRvblJlY3QuaGVpZ2h0KSArIFwicHhcIjtcblxuICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUubGVmdCA9IHBlZXJSZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS50b3AgPSAocGVlclJlY3QuYm90dG9tICsgMikgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS53aWR0aCA9IHBlZXJSZWN0LndpZHRoICsgXCJweFwiO1xuXG4gICAgICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLnJlbmRlcmVkRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5fc2VsZWN0ZWRQZWVyLmlzRHJhZ2dhYmxlKCkgPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gdGhpcy5fc2VsZWN0ZWRQZWVyLmNhbkJlUmVtb3ZlZCgpID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LmNoaWxkRWxlbWVudENvdW50ID4gMCA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdIYW5kbGUucmVuZGVyZWRFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U2VsZWN0ZWRQZWVyKHZhbHVlOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikge1xuICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZWVyICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRQZWVyLmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRQZWVyID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZFBlZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RlZFBlZXIuaXNTZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgY29tbWFuZHMgPSB0aGlzLl9zZWxlY3RlZFBlZXIuZ2V0Q29tbWFuZHModGhpcy5jb250ZXh0KTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbW1hbmQgb2YgY29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29tbWFuZC5yZW5kZXIoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBlZXJDb21tYW5kc0xheW91dCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkUGVlckNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2VsZWN0ZWRQZWVyQ2hhbmdlZCh0aGlzLl9zZWxlY3RlZFBlZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwZWVyQ2hhbmdlZChwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgdXBkYXRlUHJvcGVydHlTaGVldDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnJlbmRlckNhcmQoKVxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuXG4gICAgICAgIGlmICh1cGRhdGVQcm9wZXJ0eVNoZWV0ICYmIHRoaXMub25TZWxlY3RlZFBlZXJDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0ZWRQZWVyQ2hhbmdlZCh0aGlzLl9zZWxlY3RlZFBlZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwZWVyUmVtb3ZlZChwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikge1xuICAgICAgICB0aGlzLl9hbGxQZWVycy5zcGxpY2UodGhpcy5fYWxsUGVlcnMuaW5kZXhPZihwZWVyKSwgMSk7XG5cbiAgICAgICAgaWYgKHBlZXIgPT0gdGhpcy5fc2VsZWN0ZWRQZWVyKSB7XG4gICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUGVlcihudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVDb3VudCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNhcmQoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlQ2FyZFRvUmVuZGVyKGFzUHJldmlldzogYm9vbGVhbik6IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCB7XG4gICAgICAgIGxldCBjYXJkVG9SZW5kZXI6IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCA9IHRoaXMuY2FyZDtcblxuICAgICAgICBpZiAoYXNQcmV2aWV3KSB7XG4gICAgICAgICAgICBsZXQgaW5wdXRQYXlsb2FkID0gdGhpcy5jYXJkLnRvSlNPTih0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dCk7XG5cbiAgICAgICAgICAgIGNhcmRUb1JlbmRlciA9IG5ldyBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQoKTtcbiAgICAgICAgICAgIGNhcmRUb1JlbmRlci5ob3N0Q29uZmlnID0gdGhpcy5jYXJkLmhvc3RDb25maWc7XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXRQYXlsb2FkID0gaW5wdXRQYXlsb2FkO1xuXG4gICAgICAgICAgICBpZiAoU2hhcmVkLkdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9IG5ldyBBQ0RhdGEuVGVtcGxhdGUoaW5wdXRQYXlsb2FkKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZXZhbHVhdGlvbkNvbnRleHQ6IEFDRGF0YS5JRXZhbHVhdGlvbkNvbnRleHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dC5iaW5kaW5nUHJldmlld01vZGUgPT09IEJpbmRpbmdQcmV2aWV3TW9kZS5TYW1wbGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uQ29udGV4dCA9IHsgJHJvb3Q6IHRoaXMuY29udGV4dC5zYW1wbGVEYXRhIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uQ29udGV4dCA9IHsgJHJvb3Q6IHRoaXMuY29udGV4dC5kYXRhU3RydWN0dXJlLmRhdGFUeXBlLmdlbmVyYXRlU2FtcGxlRGF0YSgpIH07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRQYXlsb2FkID0gdGVtcGxhdGUuZXhwYW5kKGV2YWx1YXRpb25Db250ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUZW1wbGF0ZSBleHBhbnNpb24gZXJyb3I6IFwiICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhcmRUb1JlbmRlci5wYXJzZShvdXRwdXRQYXlsb2FkLCB0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FyZFRvUmVuZGVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQ2FyZCgpIHtcbiAgICAgICAgdGhpcy5fY2FyZEhvc3QuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICBpZiAodGhpcy5vbkNhcmRWYWxpZGF0ZWQpIHtcbiAgICAgICAgICAgIGxldCBhbGxWYWxpZGF0aW9uRXZlbnRzOiBBZGFwdGl2ZS5JVmFsaWRhdGlvbkV2ZW50W10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dC5ldmVudENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBhbGxWYWxpZGF0aW9uRXZlbnRzLnB1c2godGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQuZ2V0RXZlbnRBdChpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFsbFZhbGlkYXRpb25FdmVudHMucHVzaCguLi50aGlzLmNhcmQudmFsaWRhdGVQcm9wZXJ0aWVzKCkudmFsaWRhdGlvbkV2ZW50cyk7XG5cbiAgICAgICAgICAgIHRoaXMub25DYXJkVmFsaWRhdGVkKGFsbFZhbGlkYXRpb25FdmVudHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNhcmRUb1JlbmRlciA9IHRoaXMuZ2VuZXJhdGVDYXJkVG9SZW5kZXIodGhpcy5pc1ByZXZpZXdNb2RlKTtcblxuICAgICAgICBpZiAodGhpcy5pc1ByZXZpZXdNb2RlKSB7XG4gICAgICAgICAgICBjYXJkVG9SZW5kZXIub25FeGVjdXRlQWN0aW9uID0gKGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uVHlwZSA9IGFjdGlvbi5nZXRKc29uVHlwZU5hbWUoKTtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBBY3Rpb24gZXhlY3V0ZWQ6IFwiJHthY3Rpb25UeXBlfVwiIHRpdGxlOiBcIiR7YWN0aW9uLnRpdGxlfVwiYDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmIgPSAoPEFkYXB0aXZlLkV4ZWN1dGVBY3Rpb24+YWN0aW9uKS52ZXJiO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYCB2ZXJiOiBcIiR7dmVyYn1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9ICg8QWRhcHRpdmUuT3BlblVybEFjdGlvbj5hY3Rpb24pLnVybDtcbiAgICAgICAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcbnVybDogXCIke3VybH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSAoPEFkYXB0aXZlLlN1Ym1pdEFjdGlvbkJhc2U+YWN0aW9uKS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFxcblN1Ym1pdHRlZCBkYXRhOiAke0pTT04uc3RyaW5naWZ5KGRhdGEsIHVuZGVmaW5lZCwgNCl9YDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVuZGVyZWRDYXJkID0gY2FyZFRvUmVuZGVyLnJlbmRlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLmZpeGVkSGVpZ2h0Q2FyZCkge1xuICAgICAgICAgICAgcmVuZGVyZWRDYXJkLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FyZEhvc3QuYXBwZW5kQ2hpbGQocmVuZGVyZWRDYXJkKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFBlZXIocGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FsbFBlZXJzLmluZGV4T2YocGVlcikgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hbGxQZWVycy5wdXNoKHBlZXIpO1xuXG4gICAgICAgICAgICBwZWVyLnJlbmRlcigpO1xuXG4gICAgICAgICAgICBwZWVyLm9uU2VsZWN0ZWRDaGFuZ2VkID0gKHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlZXIuaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUGVlcihwZWVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZFBlZXIgPT0gcGVlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGVlci5vbkNoYW5nZWQgPSAoc2VuZGVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgdXBkYXRlUHJvcGVydHlTaGVldDogYm9vbGVhbikgPT4geyB0aGlzLnBlZXJDaGFuZ2VkKHNlbmRlciwgdXBkYXRlUHJvcGVydHlTaGVldCk7IH07XG4gICAgICAgICAgICBwZWVyLm9uUGVlclJlbW92ZWQgPSAoc2VuZGVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikgPT4geyB0aGlzLnBlZXJSZW1vdmVkKHNlbmRlcik7IH07XG4gICAgICAgICAgICBwZWVyLm9uUGVlckFkZGVkID0gKHNlbmRlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIsIG5ld1BlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQZWVyKG5ld1BlZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGVlci5vblN0YXJ0RHJhZyA9IChzZW5kZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSA9PiB7IHRoaXMuc3RhcnREcmFnKHNlbmRlcik7IH1cbiAgICAgICAgICAgIHBlZXIub25FbmREcmFnID0gKHNlbmRlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpID0+IHsgdGhpcy5lbmREcmFnKGZhbHNlKTsgfVxuXG4gICAgICAgICAgICBwZWVyLmFkZEVsZW1lbnRzVG9EZXNpZ25lclN1cmZhY2UodGhpcy5fZGVzaWduZXJTdXJmYWNlKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZWVyLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQZWVyKHBlZXIuZ2V0Q2hpbGRBdChpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGludGVybmFsRmluZERyb3BUYXJnZXQocG9pbnRlclBvc2l0aW9uOiBJUG9pbnQsIGN1cnJlbnRQZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciwgZm9yUGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciB7XG4gICAgICAgIGlmIChjdXJyZW50UGVlciA9PSBmb3JQZWVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQ6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyID0gbnVsbDtcbiAgICAgICAgdmFyIGxvb2tEZWVwZXIgPSBjdXJyZW50UGVlciBpbnN0YW5jZW9mIERlc2lnbmVyUGVlcnMuQWN0aW9uUGVlcjtcblxuICAgICAgICBpZiAoIWxvb2tEZWVwZXIpIHtcbiAgICAgICAgICAgIHZhciBib3VuZGluZ1JlY3QgPSBjdXJyZW50UGVlci5nZXRCb3VuZGluZ1JlY3QoKTtcblxuICAgICAgICAgICAgbG9va0RlZXBlciA9IGJvdW5kaW5nUmVjdC5pc0luc2lkZShwb2ludGVyUG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvb2tEZWVwZXIpIHtcbiAgICAgICAgICAgIGxldCBjYW5Ecm9wID0gY3VycmVudFBlZXIuY2FuRHJvcChmb3JQZWVyKTtcblxuICAgICAgICAgICAgaWYgKGNhbkRyb3ApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjdXJyZW50UGVlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50UGVlci5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZWVwZXJSZXN1bHQgPSB0aGlzLmludGVybmFsRmluZERyb3BUYXJnZXQocG9pbnRlclBvc2l0aW9uLCBjdXJyZW50UGVlci5nZXRDaGlsZEF0KGkpLCBmb3JQZWVyKTtcblxuICAgICAgICAgICAgICAgIGlmIChkZWVwZXJSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVlcGVyUmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kQ2FyZEVsZW1lbnRQZWVyKGNhcmRFbGVtZW50OiBBZGFwdGl2ZS5DYXJkRWxlbWVudCk6IERlc2lnbmVyUGVlcnMuQ2FyZEVsZW1lbnRQZWVyIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hbGxQZWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBlZXIgPSB0aGlzLl9hbGxQZWVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkNhcmRFbGVtZW50UGVlciAmJiBwZWVyLmNhcmRFbGVtZW50ID09IGNhcmRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZpbmRBY3Rpb25QZWVyKGFjdGlvbjogQWRhcHRpdmUuQWN0aW9uKTogRGVzaWduZXJQZWVycy5BY3Rpb25QZWVyIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hbGxQZWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBlZXIgPSB0aGlzLl9hbGxQZWVyc1tpXTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBEZXNpZ25lclBlZXJzLkFjdGlvblBlZXIgJiYgcGVlci5hY3Rpb24gPT0gYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlubGluZUNhcmRFeHBhbmRlZChhY3Rpb246IEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLCBpc0V4cGFuZGVkOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBwZWVyID0gdGhpcy5maW5kQ2FyZEVsZW1lbnRQZWVyKGFjdGlvbi5jYXJkKTtcblxuICAgICAgICBpZiAoaXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgaWYgKCFwZWVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbiA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuZmluZFR5cGVSZWdpc3RyYXRpb24oQWRhcHRpdmUuQWRhcHRpdmVDYXJkKTtcblxuICAgICAgICAgICAgICAgIHBlZXIgPSBuZXcgcmVnaXN0cmF0aW9uLnBlZXJUeXBlKHBlZXIsIHRoaXMsIHJlZ2lzdHJhdGlvbiwgYWN0aW9uLmNhcmQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudFBlZXIgPSB0aGlzLmZpbmRBY3Rpb25QZWVyKGFjdGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50UGVlcikge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRQZWVyLmluc2VydENoaWxkKHBlZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdFBlZXIuaW5zZXJ0Q2hpbGQocGVlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVlci5hZGRFbGVtZW50c1RvRGVzaWduZXJTdXJmYWNlKHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocGVlcikge1xuICAgICAgICAgICAgICAgIHBlZXIucmVtb3ZlRWxlbWVudHNGcm9tRGVzaWduZXJTdXJmYWNlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBjYXJkKCk6IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0RHJhZ2dlZFBlZXIodmFsdWU6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9kcmFnZ2VkUGVlciAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYWdnZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBlZXIuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBlZXIgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYWdnZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZFBlZXIuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgY29udGV4dDogRGVzaWduQ29udGV4dCkge1xuICAgICAgICB0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dCA9IHRoaXMuY29udGV4dC5ob3N0Q29udGFpbmVyLmNyZWF0ZVNlcmlhbGl6YXRpb25Db250ZXh0KHRoaXMuY29udGV4dC50YXJnZXRWZXJzaW9uKTtcblxuICAgICAgICB2YXIgcm9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByb290RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgcm9vdEVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICAgICAgcm9vdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cbiAgICAgICAgdGhpcy5fY2FyZEhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9jYXJkSG9zdC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcblxuICAgICAgICByb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jYXJkSG9zdCk7XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmNsYXNzTGlzdC5hZGQoXCJhY2QtZGVzaWduZXJzdXJmYWNlXCIpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UudGFiSW5kZXggPSAwO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcblxuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uub25rZXl1cCA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLmVzY2FwZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnZWRQZWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmREcmFnKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlZXIodGhpcy5fc2VsZWN0ZWRQZWVyLnBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLmRlbGV0ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIWUuY2FuY2VsQnViYmxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLm9ucG9pbnRlcm1vdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xpZW50UmVjdCA9IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZFBlZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZGVzaWduZXJTdXJmYWNlLmhhc1BvaW50ZXJDYXB0dXJlICYmICF0aGlzLl9kZXNpZ25lclN1cmZhY2UuaGFzUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnVmlzdWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUucGFkZGluZyA9IFwiNnB4XCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUub3BhY2l0eSA9IFwiMC42XCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUuYm94U2hhZG93ID0gXCIwIDAgMTVweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC40KVwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLmJveFNpemluZyA9IFwiY29udGVudC1ib3hcIjtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLmFwcGVuZENoaWxkKHRoaXMuZHJhZ2dlZFBlZXIuZ2V0Q2FyZE9iamVjdCgpLnJlbmRlcmVkRWxlbWVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZHJhZ1Zpc3VhbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRQb2ludCA9IFV0aWxzLmFkanVzdFBvaW50Rm9yU2Nyb2xsKGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwuc3R5bGUubGVmdCA9IChhZGp1c3RlZFBvaW50LnggLSA2KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcmFnVmlzdWFsLnN0eWxlLnRvcCA9IChhZGp1c3RlZFBvaW50LnkgLSA2KSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIGxldCByZW5kZXJlZENhcmRPYmplY3RSZWN0ID0gdGhpcy5kcmFnZ2VkUGVlci5nZXRDYXJkT2JqZWN0KCkucmVuZGVyZWRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS53aWR0aCA9IHJlbmRlcmVkQ2FyZE9iamVjdFJlY3Qud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbC5zdHlsZS5oZWlnaHQgPSByZW5kZXJlZENhcmRPYmplY3RSZWN0LmhlaWdodCArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIHRoaXMudHJ5RHJvcCh7IHg6IGUueCAtIGNsaWVudFJlY3QubGVmdCwgeTogZS55IC0gY2xpZW50UmVjdC50b3AgfSwgdGhpcy5kcmFnZ2VkUGVlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uub25wb2ludGVydXAgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dlZFBlZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZERyYWcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fZGVzaWduZXJTdXJmYWNlKTtcblxuICAgICAgICB0aGlzLmNvbnRleHQuaG9zdENvbnRhaW5lci5jYXJkSG9zdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB0aGlzLmNvbnRleHQuaG9zdENvbnRhaW5lci5jYXJkSG9zdC5hcHBlbmRDaGlsZChyb290RWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fY2FyZCA9IG5ldyBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQoKTtcbiAgICAgICAgdGhpcy5fY2FyZC5vbklubGluZUNhcmRFeHBhbmRlZCA9IChhY3Rpb246IEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLCBpc0V4cGFuZGVkOiBib29sZWFuKSA9PiB7IHRoaXMuaW5saW5lQ2FyZEV4cGFuZGVkKGFjdGlvbiwgaXNFeHBhbmRlZCk7IH07XG4gICAgICAgIHRoaXMuX2NhcmQub25QcmVQcm9jZXNzUHJvcGVydHlWYWx1ZSA9IChzZW5kZXI6IEFkYXB0aXZlLkNhcmRPYmplY3QsIHByb3BlcnR5OiBBZGFwdGl2ZS5Qcm9wZXJ0eURlZmluaXRpb24sIHZhbHVlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmIChTaGFyZWQuR2xvYmFsU2V0dGluZ3MuZW5hYmxlRGF0YUJpbmRpbmdTdXBwb3J0ICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB0aGlzLmNvbnRleHQuc2FtcGxlRGF0YSAmJiB0aGlzLmNvbnRleHQuYmluZGluZ1ByZXZpZXdNb2RlICE9PSBCaW5kaW5nUHJldmlld01vZGUuTm9QcmV2aWV3KSB7XG4gICAgICAgICAgICAgICAgbGV0IGV4cHJlc3Npb24gPSBBQ0RhdGEuVGVtcGxhdGUucGFyc2VJbnRlcnBvbGF0ZWRTdHJpbmcodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBleHByZXNzaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2YWx1YXRpb25Db250ZXh0OiBBQ0RhdGEuSUV2YWx1YXRpb25Db250ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQuYmluZGluZ1ByZXZpZXdNb2RlID09PSBCaW5kaW5nUHJldmlld01vZGUuU2FtcGxlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGlvbkNvbnRleHQgPSB7ICRyb290OiB0aGlzLmNvbnRleHQuc2FtcGxlRGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGlvbkNvbnRleHQgPSB7ICRyb290OiB0aGlzLmNvbnRleHQuZGF0YVN0cnVjdHVyZS5kYXRhVHlwZS5nZW5lcmF0ZVNhbXBsZURhdGEoKSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2YWx1YXRpb25SZXN1bHQgPSBBQ0RhdGEuVGVtcGxhdGUudHJ5RXZhbHVhdGVFeHByZXNzaW9uKGV4cHJlc3Npb24sIGV2YWx1YXRpb25Db250ZXh0LCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGV2YWx1YXRpb25SZXN1bHQudmFsdWUgPT09IFwic3RyaW5nXCIgPyBldmFsdWF0aW9uUmVzdWx0LnZhbHVlIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NhcmQudmVyc2lvbiA9IHRoaXMuY29udGV4dC50YXJnZXRWZXJzaW9uO1xuICAgICAgICB0aGlzLl9jYXJkLmhvc3RDb25maWcgPSB0aGlzLmNvbnRleHQuaG9zdENvbnRhaW5lci5nZXRIb3N0Q29uZmlnKCk7XG4gICAgICAgIHRoaXMuX2NhcmQuZGVzaWduTW9kZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBvbkNhcmRWYWxpZGF0ZWQ6IChsb2dFbnRyaWVzOiBBZGFwdGl2ZS5JVmFsaWRhdGlvbkV2ZW50W10pID0+IHZvaWQ7XG4gICAgb25TZWxlY3RlZFBlZXJDaGFuZ2VkOiAocGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpID0+IHZvaWQ7XG4gICAgb25MYXlvdXRVcGRhdGVkOiAoaXNGdWxsUmVmcmVzaDogYm9vbGVhbikgPT4gdm9pZDtcblxuICAgIGZpeGVkSGVpZ2h0Q2FyZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgZ2V0RGVzaWduZXJTdXJmYWNlT2Zmc2V0KCk6IElQb2ludCB7XG4gICAgICAgIGxldCBjbGllbnRSZWN0ID0gdGhpcy5fZGVzaWduZXJTdXJmYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiB7IHg6IGNsaWVudFJlY3QubGVmdCwgeTogY2xpZW50UmVjdC50b3AgfTtcbiAgICB9XG5cbiAgICBmaW5kRHJvcFRhcmdldChwb2ludGVyUG9zaXRpb246IElQb2ludCwgcGVlcjogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsRmluZERyb3BUYXJnZXQocG9pbnRlclBvc2l0aW9uLCB0aGlzLl9yb290UGVlciwgcGVlcik7XG4gICAgfVxuXG4gICAgZmluZFBlZXIoY2FyZE9iamVjdDogQWRhcHRpdmUuQ2FyZE9iamVjdCkge1xuICAgICAgICBmb3IgKGxldCBwZWVyIG9mIHRoaXMuX2FsbFBlZXJzKSB7XG4gICAgICAgICAgICBpZiAocGVlci5nZXRDYXJkT2JqZWN0KCkgPT09IGNhcmRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgYmVnaW5VcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNvdW50Kys7XG4gICAgfVxuXG4gICAgZW5kVXBkYXRlKHJlbmRlckNhcmQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ291bnQtLTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyQ2FyZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhcmQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy5fYWxsUGVlcnMgPSBbXTtcblxuICAgICAgICB0aGlzLnNldFNlbGVjdGVkUGVlcihudWxsKTtcblxuICAgICAgICB0aGlzLnJlbmRlckNhcmQoKTtcblxuICAgICAgICB0aGlzLl9yb290UGVlciA9IENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMsIG51bGwsIHRoaXMuY2FyZCk7XG5cbiAgICAgICAgdGhpcy5hZGRQZWVyKHRoaXMuX3Jvb3RQZWVyKTtcblxuICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtcGVlckJ1dHRvblwiLCBcImFjZC1wZWVyQnV0dG9uLWljb25cIiwgXCJmaXhlZFdpZHRoXCIsIFwiY2lyY3VsYXJcIiwgXCJhY2QtaWNvbi1yZW1vdmVcIik7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LnRpdGxlID0gXCJSZW1vdmVcIjtcbiAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIHRoaXMuX3JlbW92ZUNvbW1hbmRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5zdHlsZS56SW5kZXggPSBcIjUwMFwiO1xuICAgICAgICB0aGlzLl9yZW1vdmVDb21tYW5kRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RyYWdIYW5kbGUgPSBuZXcgRHJhZ0hhbmRsZSgpO1xuICAgICAgICB0aGlzLl9kcmFnSGFuZGxlLm9uU3RhcnREcmFnID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZS5lbmREcmFnKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZyh0aGlzLl9zZWxlY3RlZFBlZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYWdIYW5kbGUucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9wZWVyQ29tbWFuZHNIb3N0RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImZsZXgtZW5kXCI7XG4gICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiNTAwXCI7XG4gICAgICAgIHRoaXMuX3BlZXJDb21tYW5kc0hvc3RFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcblxuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5fZHJhZ0hhbmRsZS5yZW5kZXJlZEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgZ2V0Q2FyZFBheWxvYWRBc09iamVjdCgpOiBvYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5jYXJkLnRvSlNPTih0aGlzLl9zZXJpYWxpemF0aW9uQ29udGV4dCk7XG4gICAgfVxuXG4gICAgc2V0Q2FyZFBheWxvYWRBc09iamVjdChwYXlsb2FkOiBvYmplY3QpIHtcbiAgICAgICAgdGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQuY2xlYXJFdmVudHMoKTtcblxuICAgICAgICB0aGlzLmNhcmQucGFyc2UocGF5bG9hZCwgdGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgc2V0Q2FyZFBheWxvYWRBc1N0cmluZyhwYXlsb2FkOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWRBc09iamVjdChKU09OLnBhcnNlKHBheWxvYWQpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBKU09OIHN0cmluZy4gXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEJvdW5kQ2FyZFBheWxvYWRBc09iamVjdCgpOiBvYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUNhcmRUb1JlbmRlcih0cnVlKS50b0pTT04odGhpcy5fc2VyaWFsaXphdGlvbkNvbnRleHQpO1xuICAgIH1cblxuICAgIHVwZGF0ZUxheW91dChpc0Z1bGxSZWZyZXNoOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNQcmV2aWV3TW9kZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hbGxQZWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsbFBlZXJzW2ldLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBlZXJDb21tYW5kc0xheW91dCgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkxheW91dFVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTGF5b3V0VXBkYXRlZChpc0Z1bGxSZWZyZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZVNlbGVjdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFBlZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYmVnaW5VcGRhdGUoKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5zZWxlY3RlZFBlZXIucGFyZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRQZWVyLnJlbW92ZShmYWxzZSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlZXIocGFyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZFVwZGF0ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3RhcnREcmFnOiAoc2VuZGVyOiBDYXJkRGVzaWduZXJTdXJmYWNlKSA9PiB2b2lkO1xuICAgIG9uRW5kRHJhZzogKHNlbmRlcjogQ2FyZERlc2lnbmVyU3VyZmFjZSwgd2FzQ2FuY2VsbGVkOiBib29sZWFuKSA9PiB2b2lkO1xuXG4gICAgc3RhcnREcmFnKHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIGlmICghdGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLmNsYXNzTGlzdC5hZGQoXCJkcmFnZ2luZ1wiKTtcblxuICAgICAgICAgICAgdGhpcy5zZXREcmFnZ2VkUGVlcihwZWVyKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZWVyKHRoaXMuZHJhZ2dlZFBlZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vblN0YXJ0RHJhZykge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdGFydERyYWcodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnKHdhc0NhbmNlbGxlZDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2VkUGVlcikge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGRyYWdnZWQgcGVlcidzIGVsZW1lbnRzIGFyZSBhdCB0aGUgdG9wIGluIFogb3JkZXJcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dlZFBlZXIucmVtb3ZlRWxlbWVudHNGcm9tRGVzaWduZXJTdXJmYWNlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2VkUGVlci5hZGRFbGVtZW50c1RvRGVzaWduZXJTdXJmYWNlKHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Ryb3BUYXJnZXQucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkcmFnb3ZlclwiKTtcblxuICAgICAgICAgICAgdGhpcy5fZHJhZ1Zpc3VhbD8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9kcmFnVmlzdWFsKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdWaXN1YWwgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0RHJhZ2dlZFBlZXIobnVsbCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uRW5kRHJhZykge1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnKHRoaXMsIHdhc0NhbmNlbGxlZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cnlEcm9wKHBvaW50ZXJQb3NpdGlvbjogSVBvaW50LCBwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAocGVlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wVGFyZ2V0LnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ292ZXJcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuZXdEcm9wVGFyZ2V0ID0gdGhpcy5maW5kRHJvcFRhcmdldChwb2ludGVyUG9zaXRpb24sIHBlZXIpO1xuXG4gICAgICAgICAgICBpZiAobmV3RHJvcFRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BUYXJnZXQgPSBuZXdEcm9wVGFyZ2V0O1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BUYXJnZXQucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkcmFnb3ZlclwiKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wVGFyZ2V0LnRyeURyb3AocGVlciwgcG9pbnRlclBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1BvaW50ZXJPdmVyKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICAgIGxldCBjbGllbnRSZWN0ID0gdGhpcy5fZGVzaWduZXJTdXJmYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHJldHVybiAoeCA+PSBjbGllbnRSZWN0LmxlZnQpICYmICh4IDw9IGNsaWVudFJlY3QucmlnaHQpICYmICh5ID49IGNsaWVudFJlY3QudG9wKSAmJiAoeSA8PSBjbGllbnRSZWN0LmJvdHRvbSk7XG4gICAgfVxuXG4gICAgcGFnZVRvQ2xpZW50Q29vcmRpbmF0ZXMoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBJUG9pbnQge1xuICAgICAgICBsZXQgY2xpZW50UmVjdCA9IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCAtIGNsaWVudFJlY3QubGVmdCxcbiAgICAgICAgICAgIHk6IHkgLSBjbGllbnRSZWN0LnRvcFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHJvb3RQZWVyKCk6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3RQZWVyO1xuICAgIH1cblxuICAgIGdldCBzZWxlY3RlZFBlZXIoKTogRGVzaWduZXJQZWVycy5EZXNpZ25lclBlZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRQZWVyO1xuICAgIH1cblxuICAgIGdldCBkcmFnZ2VkUGVlcigpOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcmFnZ2VkUGVlcjtcbiAgICB9XG5cbiAgICBnZXQgaXNQcmV2aWV3TW9kZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUHJldmlld01vZGU7XG4gICAgfVxuXG4gICAgc2V0IGlzUHJldmlld01vZGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUHJldmlld01vZGUgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzUHJldmlld01vZGUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzUHJldmlld01vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZS5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ0hhbmRsZS5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQ29tbWFuZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVlckNvbW1hbmRzSG9zdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2FyZC5kZXNpZ25Nb2RlID0gIXRoaXMuX2lzUHJldmlld01vZGU7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FyZCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBDbGlwYm9hcmQgZnJvbSBcImNsaXBib2FyZFwiO1xuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCAqIGFzIG1vbmFjbyBmcm9tIFwibW9uYWNvLWVkaXRvclwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgRGVzaWduZXIgZnJvbSBcIi4vY2FyZC1kZXNpZ25lci1zdXJmYWNlXCI7XG5pbXBvcnQgKiBhcyBEZXNpZ25lclBlZXJzIGZyb20gXCIuL2Rlc2lnbmVyLXBlZXJzXCI7XG5pbXBvcnQgeyBQaWMyQ2FyZCB9IGZyb20gXCIuL3BpYzJjYXJkXCI7XG5pbXBvcnQgeyBPcGVuU2FtcGxlRGlhbG9nIH0gZnJvbSBcIi4vb3Blbi1zYW1wbGUtZGlhbG9nXCI7XG5pbXBvcnQgeyBPcGVuSnNvblNjaGVtYURpYWxvZyB9IGZyb20gXCIuL29wZW4tanNvbi1zY2hlbWEtZGlhbG9nXCI7XG5pbXBvcnQgeyBIb3N0Q29udGFpbmVyIH0gZnJvbSBcIi4vY29udGFpbmVycy9ob3N0LWNvbnRhaW5lclwiO1xuaW1wb3J0IHsgYWRhcHRpdmVDYXJkU2NoZW1hIH0gZnJvbSBcIi4vYWRhcHRpdmUtY2FyZC1zY2hlbWFcIjtcbmltcG9ydCB7IE9wZW5JbWFnZURpYWxvZyB9IGZyb20gXCIuL29wZW4taW1hZ2UtZGlhbG9nXCI7XG5pbXBvcnQgeyBGdWxsU2NyZWVuSGFuZGxlciB9IGZyb20gXCIuL2Z1bGxzY3JlZW4taGFuZGxlclwiO1xuaW1wb3J0IHsgVG9vbGJhciwgVG9vbGJhckJ1dHRvbiwgVG9vbGJhckNob2ljZVBpY2tlciwgVG9vbGJhckVsZW1lbnRBbGlnbm1lbnQgfSBmcm9tIFwiLi90b29sYmFyXCI7XG5pbXBvcnQgeyBJUG9pbnQsIFV0aWxzLCBkZWZhdWx0SG9zdENvbmZpZyB9IGZyb20gXCIuL21pc2NlbGxhbmVvdXNcIjtcbmltcG9ydCB7IEJhc2VQYWxldHRlSXRlbSwgRWxlbWVudFBhbGV0dGVJdGVtLCBEYXRhUGFsZXR0ZUl0ZW0sIEN1c3RvbVBhbGV0dGVJdGVtIH0gZnJvbSBcIi4vdG9vbC1wYWxldHRlXCI7XG5pbXBvcnQgeyBEZWZhdWx0Q29udGFpbmVyIH0gZnJvbSBcIi4vY29udGFpbmVycy9kZWZhdWx0L2RlZmF1bHQtY29udGFpbmVyXCI7XG5pbXBvcnQgeyBTaWRlUGFuZWwsIFNpZGVQYW5lbEFsaWdubWVudCB9IGZyb20gXCIuL3NpZGUtcGFuZWxcIjtcbmltcG9ydCB7IFRvb2xib3gsIElUb29sYm94Q29tbWFuZCB9IGZyb20gXCIuL3Rvb2wtYm94XCI7XG5pbXBvcnQgeyBGaWVsZERlZmluaXRpb24gfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgeyBEYXRhVHJlZUl0ZW0gfSBmcm9tIFwiLi9kYXRhLXRyZWVpdGVtXCI7XG5pbXBvcnQgeyBTdHJpbmdzIH0gZnJvbSBcIi4vc3RyaW5nc1wiO1xuaW1wb3J0ICogYXMgU2hhcmVkIGZyb20gXCIuL3NoYXJlZFwiO1xuaW1wb3J0IHsgVHJlZVZpZXcgfSBmcm9tIFwiLi90cmVlLXZpZXdcIjtcbmltcG9ydCB7IFNhbXBsZUNhdGFsb2d1ZSB9IGZyb20gXCIuL2NhdGFsb2d1ZVwiO1xuaW1wb3J0IHsgSGVscERpYWxvZyB9IGZyb20gXCIuL2hlbHAtZGlhbG9nXCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkRGVzaWduZXIgZXh0ZW5kcyBEZXNpZ25lci5EZXNpZ25Db250ZXh0IHtcbiAgICBwcml2YXRlIHN0YXRpYyBpbnRlcm5hbFByb2Nlc3NNYXJrZG93bih0ZXh0OiBzdHJpbmcsIHJlc3VsdDogQWRhcHRpdmUuSU1hcmtkb3duUHJvY2Vzc2luZ1Jlc3VsdCkge1xuICAgICAgICBpZiAoQ2FyZERlc2lnbmVyLm9uUHJvY2Vzc01hcmtkb3duKSB7XG4gICAgICAgICAgICBDYXJkRGVzaWduZXIub25Qcm9jZXNzTWFya2Rvd24odGV4dCwgcmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBtYXJrZG93bml0XG4gICAgICAgICAgICBpZiAod2luZG93W1wibWFya2Rvd25pdFwiXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5vdXRwdXRIdG1sID0gd2luZG93W1wibWFya2Rvd25pdFwiXSgpLnJlbmRlcih0ZXh0KTtcbiAgICAgICAgICAgICAgICByZXN1bHQuZGlkUHJvY2VzcyA9IHRydWU7XG4gICAgICAgICAgICB9XG5cdFx0fVxuICAgIH1cblxuICAgIHN0YXRpYyBvblByb2Nlc3NNYXJrZG93bjogKHRleHQ6IHN0cmluZywgcmVzdWx0OiBBZGFwdGl2ZS5JTWFya2Rvd25Qcm9jZXNzaW5nUmVzdWx0KSA9PiB2b2lkID0gbnVsbDtcblxuICAgIHByaXZhdGUgc3RhdGljIE1BWF9VTkRPX1NUQUNLX1NJWkUgPSA1MDtcblxuICAgIHByaXZhdGUgX2lzQXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9jYXJkRWRpdG9yOiBtb25hY28uZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvcjtcbiAgICBwcml2YXRlIF9zYW1wbGVEYXRhRWRpdG9yOiBtb25hY28uZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvcjtcbiAgICBwcml2YXRlIF9ob3N0Q29udGFpbmVyczogQXJyYXk8SG9zdENvbnRhaW5lcj47XG4gICAgcHJpdmF0ZSBfaXNNb25hY29FZGl0b3JMb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9kZXNpZ25lclN1cmZhY2U6IERlc2lnbmVyLkNhcmREZXNpZ25lclN1cmZhY2U7XG4gICAgcHJpdmF0ZSBfZGVzaWduZXJIb3N0RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfZHJhZ2dlZFBhbGV0dGVJdGVtOiBCYXNlUGFsZXR0ZUl0ZW07XG4gICAgcHJpdmF0ZSBfZHJhZ2dlZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2N1cnJlbnRNb3VzZVBvc2l0aW9uOiBJUG9pbnQ7XG4gICAgcHJpdmF0ZSBfaG9zdENvbnRhaW5lcjogSG9zdENvbnRhaW5lcjtcbiAgICBwcml2YXRlIF91bmRvU3RhY2s6IEFycmF5PG9iamVjdD4gPSBbXTtcbiAgICBwcml2YXRlIF91bmRvU3RhY2tJbmRleDogbnVtYmVyID0gLTE7XG4gICAgcHJpdmF0ZSBfc3RhcnREcmFnUGF5bG9hZDogb2JqZWN0O1xuICAgIHByaXZhdGUgX3Rvb2xQYWxldHRlVG9vbGJveDogVG9vbGJveDtcbiAgICBwcml2YXRlIF9wcm9wZXJ0eVNoZWV0VG9vbGJveDogVG9vbGJveDtcbiAgICBwcml2YXRlIF9wcm9wZXJ0eVNoZWV0Q2FyZDogQWRhcHRpdmUuQWRhcHRpdmVDYXJkO1xuICAgIHByaXZhdGUgX3RyZWVWaWV3VG9vbGJveDogVG9vbGJveDtcbiAgICBwcml2YXRlIF9qc29uRWRpdG9yc1BhbmVsOiBTaWRlUGFuZWw7XG4gICAgcHJpdmF0ZSBfY2FyZEVkaXRvclRvb2xib3g6IFRvb2xib3g7XG4gICAgcHJpdmF0ZSBfc2FtcGxlRGF0YUVkaXRvclRvb2xib3g6IFRvb2xib3g7XG4gICAgcHJpdmF0ZSBfZGF0YVRvb2xib3g6IFRvb2xib3g7XG4gICAgcHJpdmF0ZSBfYXNzZXRQYXRoOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZGF0YVN0cnVjdHVyZTogRmllbGREZWZpbml0aW9uO1xuICAgIHByaXZhdGUgX3NhbXBsZURhdGE6IGFueTtcbiAgICBwcml2YXRlIF9iaW5kaW5nUHJldmlld01vZGU6IERlc2lnbmVyLkJpbmRpbmdQcmV2aWV3TW9kZSA9IERlc2lnbmVyLkJpbmRpbmdQcmV2aWV3TW9kZS5Ob1ByZXZpZXc7XG4gICAgcHJpdmF0ZSBfY3VzdG9tUGVsZXR0ZUl0ZW1zOiBDdXN0b21QYWxldHRlSXRlbVtdO1xuICAgIHByaXZhdGUgX3NhbXBsZUNhdGFsb2d1ZTogU2FtcGxlQ2F0YWxvZ3VlID0gbmV3IFNhbXBsZUNhdGFsb2d1ZSgpO1xuXG4gICAgcHJpdmF0ZSB0b2dnbGVQcmV2aWV3KCkge1xuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuaXNQcmV2aWV3TW9kZSA9ICF0aGlzLl9kZXNpZ25lclN1cmZhY2UuaXNQcmV2aWV3TW9kZTtcblxuICAgICAgICBpZiAodGhpcy5fZGVzaWduZXJTdXJmYWNlLmlzUHJldmlld01vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVByZXZpZXdCdXR0b24udG9vbFRpcCA9IFwiUmV0dXJuIHRvIERlc2lnbiBtb2RlXCI7XG4gICAgICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2Uuc2V0Q2FyZFBheWxvYWRBc1N0cmluZyh0aGlzLmdldEN1cnJlbnRDYXJkRWRpdG9yUGF5bG9hZCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVByZXZpZXdCdXR0b24udG9vbFRpcCA9IFwiU3dpdGNoIHRvIFByZXZpZXcgbW9kZVwiO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDYXJkRnJvbUpzb24oZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWlsZFRyZWVWaWV3KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidWlsZFRyZWVWaWV3KCkge1xuICAgICAgICBpZiAodGhpcy5fdHJlZVZpZXdUb29sYm94LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyZWVWaWV3VG9vbGJveC5jb250ZW50LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZS5pc1ByZXZpZXdNb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmVlVmlld1Rvb2xib3guY29udGVudC5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cInBhZGRpbmc6IDhweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdj5UaGUgQ2FyZCBTdHJ1Y3R1cmUgaXNuXFwndCBhdmFpbGFibGUgaW4gUHJldmlldyBtb2RlLjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0cmVlVmlldyA9IG5ldyBUcmVlVmlldyh0aGlzLmRlc2lnbmVyU3VyZmFjZS5yb290UGVlci50cmVlSXRlbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl90cmVlVmlld1Rvb2xib3guY29udGVudC5hcHBlbmRDaGlsZCh0cmVlVmlldy5yZW5kZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1aWxkRGF0YUV4cGxvcmVyKCkge1xuICAgICAgICBpZiAodGhpcy5fZGF0YVRvb2xib3ggJiYgdGhpcy5fZGF0YVRvb2xib3guY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YVRvb2xib3guY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhU3RydWN0dXJlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRyZWVJdGVtID0gbmV3IERhdGFUcmVlSXRlbSh0aGlzLmRhdGFTdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgICAgIGxldCB0cmVlVmlldyA9IG5ldyBUcmVlVmlldyh0cmVlSXRlbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhVG9vbGJveC5jb250ZW50LmFwcGVuZENoaWxkKHRyZWVWaWV3LnJlbmRlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRQcm9wZXJ0eVNoZWV0KHBlZXI6IERlc2lnbmVyUGVlcnMuRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9wZXJ0eVNoZWV0VG9vbGJveC5jb250ZW50KSB7XG4gICAgICAgICAgICAvLyBpZiBmb2N1cyBpcyBhbHJlYWR5IG9uIF9wcm9wZXJ0eVNoZWV0Q2FyZCwgcmVtZW1iZXIgdGhlIGZvY3VzZWQgb2JqZWN0J3MgaWRcbiAgICAgICAgICAgIGNvbnN0IHJlc3RvcmVGb2N1c0lkID0gdGhpcy5fcHJvcGVydHlTaGVldENhcmQ/LmZpbmRET01Ob2RlT3duZXIoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk/LmlkO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldFRvb2xib3guY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAocGVlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkID0gcGVlci5idWlsZFByb3BlcnR5U2hlZXRDYXJkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldENhcmQgPSBuZXcgQWRhcHRpdmUuQWRhcHRpdmVDYXJkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldENhcmQucGFyc2UoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBcIjEuMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCIqKk5vdGhpbmcgaXMgc2VsZWN0ZWQqKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiU2VsZWN0IGFuIGVsZW1lbnQgaW4gdGhlIGNhcmQgdG8gbW9kaWZ5IGl0cyBwcm9wZXJ0aWVzLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBuZXcgQWRhcHRpdmUuU2VyaWFsaXphdGlvbkNvbnRleHQodGhpcy50YXJnZXRWZXJzaW9uKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldENhcmQucGFkZGluZyA9IG5ldyBBZGFwdGl2ZS5QYWRkaW5nRGVmaW5pdGlvbihcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkLmhvc3RDb25maWcgPSBkZWZhdWx0SG9zdENvbmZpZztcblxuICAgICAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldFRvb2xib3guY29udGVudC5hcHBlbmRDaGlsZCh0aGlzLl9wcm9wZXJ0eVNoZWV0Q2FyZC5yZW5kZXIoKSk7XG5cbiAgICAgICAgICAgIGlmIChyZXN0b3JlRm9jdXNJZCkge1xuICAgICAgICAgICAgICAgIC8vIGF0dGVtcHQgdG8gcmVzdG9yZSBmb2N1cyBpZiBuZXcgY2FyZCBoYXMgb2JqZWN0IHdpdGggc2FtZSBpZFxuICAgICAgICAgICAgICAgIGNvbnN0IGZvY3VzVGFyZ2V0ID0gdGhpcy5fcHJvcGVydHlTaGVldENhcmQuZ2V0RWxlbWVudEJ5SWQocmVzdG9yZUZvY3VzSWQpID8/IHRoaXMuX3Byb3BlcnR5U2hlZXRDYXJkLmdldEFjdGlvbkJ5SWQocmVzdG9yZUZvY3VzSWQpO1xuICAgICAgICAgICAgICAgIGZvY3VzVGFyZ2V0Py5yZW5kZXJlZEVsZW1lbnQ/LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFBhbGV0dGVJdGVtKHBhbGV0dGVJdGVtOiBCYXNlUGFsZXR0ZUl0ZW0sIGhvc3RFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBwYWxldHRlSXRlbS5yZW5kZXIoKTtcbiAgICAgICAgcGFsZXR0ZUl0ZW0ub25TdGFydERyYWcgPSAoc2VuZGVyOiBCYXNlUGFsZXR0ZUl0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRQYWxldHRlSXRlbSA9IHNlbmRlcjtcblxuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQgPSBzZW5kZXIucmVuZGVyRHJhZ1Zpc3VhbCgpO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZFBvc2l0aW9uID0gVXRpbHMuYWRqdXN0UG9pbnRGb3JTY3JvbGwodGhpcy5fY3VycmVudE1vdXNlUG9zaXRpb24pO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQuc3R5bGUubGVmdCA9IGFkanVzdGVkUG9zaXRpb24ueCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50LnN0eWxlLnRvcCA9IGFkanVzdGVkUG9zaXRpb24ueSArIFwicHhcIjtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9kcmFnZ2VkRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBob3N0RWxlbWVudC5hcHBlbmRDaGlsZChwYWxldHRlSXRlbS5yZW5kZXJlZEVsZW1lbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRQYWxldHRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzQXR0YWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Rvb2xQYWxldHRlVG9vbGJveC5jb250ZW50LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgbGV0IGNhdGVnb3JpemVkVHlwZXM6IG9iamVjdCA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ob3N0Q29udGFpbmVyLmVsZW1lbnRzUmVnaXN0cnkuZ2V0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbiA9IHRoaXMuaG9zdENvbnRhaW5lci5lbGVtZW50c1JlZ2lzdHJ5LmdldEl0ZW1BdChpKTtcblxuICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbi5zY2hlbWFWZXJzaW9uLmNvbXBhcmVUbyh0aGlzLnRhcmdldFZlcnNpb24pIDw9IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcGVlclJlZ2lzdHJhdGlvbiA9IERlc2lnbmVyLkNhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuZmluZFR5cGVSZWdpc3RyYXRpb24ocmVnaXN0cmF0aW9uLm9iamVjdFR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBlZXJSZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYXRlZ29yaXplZFR5cGVzLmhhc093blByb3BlcnR5KHBlZXJSZWdpc3RyYXRpb24uY2F0ZWdvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaXplZFR5cGVzW3BlZXJSZWdpc3RyYXRpb24uY2F0ZWdvcnldID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFsZXR0ZUl0ZW0gPSBuZXcgRWxlbWVudFBhbGV0dGVJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVlclJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgICAgICAgcGFsZXR0ZUl0ZW0ub25Eb3VibGVDbGljayA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlZXIgPSBwYWxldHRlSXRlbS5jcmVhdGVQZWVyKHRoaXMsIHRoaXMuZGVzaWduZXJTdXJmYWNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzaWduZXJTdXJmYWNlLnJvb3RQZWVyLnRyeUFkZChwZWVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlZXIuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcml6ZWRUeXBlc1twZWVyUmVnaXN0cmF0aW9uLmNhdGVnb3J5XS5wdXNoKHBhbGV0dGVJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jdXN0b21QYWxldHRlSXRlbXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5jdXN0b21QYWxldHRlSXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhdGVnb3JpemVkVHlwZXMuaGFzT3duUHJvcGVydHkoaXRlbS5jYXRlZ29yeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcml6ZWRUeXBlc1tpdGVtLmNhdGVnb3J5XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhdGVnb3JpemVkVHlwZXNbaXRlbS5jYXRlZ29yeV0ucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5IGluIGNhdGVnb3JpemVkVHlwZXMpIHtcblxuICAgICAgICAgICAgbGV0IGNhdGVnb3J5TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY2F0ZWdvcnlMaXN0LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgY2F0ZWdvcnkpXG5cbiAgICAgICAgICAgIGxldCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjYXRlZ29yeUxpc3QuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBub2RlLmlubmVyVGV4dCA9IGNhdGVnb3J5O1xuICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBcImFjZC1wYWxldHRlLWNhdGVnb3J5XCI7XG5cbiAgICAgICAgICAgIHRoaXMuX3Rvb2xQYWxldHRlVG9vbGJveC5jb250ZW50LmFwcGVuZENoaWxkKGNhdGVnb3J5TGlzdCk7XG5cbiAgICAgICAgICAgIGxldCBwYWxldHRlSXRlbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgcGFsZXR0ZUl0ZW1Db250YWluZXIuY2xhc3NOYW1lID0gXCJhY2QtcGFsZXR0ZS1pdGVtLWNvbnRhaW5lclwiO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3JpemVkVHlwZXNbY2F0ZWdvcnldLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQYWxldHRlSXRlbShjYXRlZ29yaXplZFR5cGVzW2NhdGVnb3J5XVtpXSwgcGFsZXR0ZUl0ZW1Db250YWluZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXRlZ29yeUxpc3QuYXBwZW5kQ2hpbGQocGFsZXR0ZUl0ZW1Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmREcmFnKCkge1xuICAgICAgICBpZiAodGhpcy5fZHJhZ2dlZFBhbGV0dGVJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0uZW5kRHJhZygpO1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9kcmFnZ2VkRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRQYWxldHRlSXRlbSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2VkRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckVycm9yUGFuZUVsZW1lbnQobWVzc2FnZTogc3RyaW5nLCBzb3VyY2U/OiBBZGFwdGl2ZS5TZXJpYWxpemFibGVPYmplY3QpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtZXJyb3ItcGFuZS1tZXNzYWdlXCI7XG5cbiAgICAgICAgaWYgKHNvdXJjZSAmJiBzb3VyY2UgaW5zdGFuY2VvZiBBZGFwdGl2ZS5DYXJkT2JqZWN0KSB7XG4gICAgICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGFibGVcIik7XG4gICAgICAgICAgICBlcnJvckVsZW1lbnQudGl0bGUgPSBcIkNsaWNrIHRvIHNlbGVjdCB0aGlzIGVsZW1lbnRcIjtcbiAgICAgICAgICAgIGVycm9yRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcGVlciA9IHRoaXMuZGVzaWduZXJTdXJmYWNlLmZpbmRQZWVyKHNvdXJjZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGVlcikge1xuICAgICAgICAgICAgICAgICAgICBwZWVyLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBwZWVyLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXJyb3JFbGVtZW50LmlubmVyVGV4dCA9IG1lc3NhZ2U7XG5cbiAgICAgICAgcmV0dXJuIGVycm9yRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlY3JlYXRlRGVzaWduZXJTdXJmYWNlKCkge1xuICAgICAgICBsZXQgc3R5bGVTaGVldExpbmtFbGVtZW50ID0gPEhUTUxMaW5rRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkYXB0aXZlQ2FyZFN0eWxlc2hlZXRcIik7XG5cbiAgICAgICAgaWYgKHN0eWxlU2hlZXRMaW5rRWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICBzdHlsZVNoZWV0TGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC5pZCA9IFwiYWRhcHRpdmVDYXJkU3R5bGVzaGVldFwiO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVTaGVldExpbmtFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0XHRzdHlsZVNoZWV0TGlua0VsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRcdGlmIChVdGlscy5pc0Fic29sdXRlVXJsKHRoaXMuaG9zdENvbnRhaW5lci5zdHlsZVNoZWV0KSlcbiAgICAgICAge1xuXHRcdFx0c3R5bGVTaGVldExpbmtFbGVtZW50LmhyZWYgPSB0aGlzLmhvc3RDb250YWluZXIuc3R5bGVTaGVldDtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHN0eWxlU2hlZXRMaW5rRWxlbWVudC5ocmVmID0gVXRpbHMuam9pblBhdGhzKHRoaXMuX2Fzc2V0UGF0aCwgdGhpcy5ob3N0Q29udGFpbmVyLnN0eWxlU2hlZXQpO1xuXHRcdH1cblxuICAgICAgICBsZXQgY2FyZEFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcmRBcmVhXCIpO1xuXG4gICAgICAgIGlmIChjYXJkQXJlYSkge1xuICAgICAgICAgICAgY2FyZEFyZWEuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5ob3N0Q29udGFpbmVyLmdldEJhY2tncm91bmRDb2xvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ob3N0Q29udGFpbmVyLmluaXRpYWxpemUoKTtcblxuICAgICAgICB0aGlzLl9kZXNpZ25lckhvc3RFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIHRoaXMuaG9zdENvbnRhaW5lci5yZW5kZXJUbyh0aGlzLl9kZXNpZ25lckhvc3RFbGVtZW50KTtcblxuICAgICAgICBsZXQgd2FzSW5QcmV2aWV3TW9kZSA9IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSA/IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5pc1ByZXZpZXdNb2RlIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlID0gbmV3IERlc2lnbmVyLkNhcmREZXNpZ25lclN1cmZhY2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5maXhlZEhlaWdodENhcmQgPSB0aGlzLmhvc3RDb250YWluZXIuaXNGaXhlZEhlaWdodDtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLm9uU2VsZWN0ZWRQZWVyQ2hhbmdlZCA9IChwZWVyOiBEZXNpZ25lclBlZXJzLkRlc2lnbmVyUGVlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5idWlsZFByb3BlcnR5U2hlZXQocGVlcik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vbkxheW91dFVwZGF0ZWQgPSAoaXNGdWxsUmVmcmVzaDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRnVsbFJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlVXBkYXRlSnNvbkZyb21DYXJkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZFRyZWVWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vbkNhcmRWYWxpZGF0ZWQgPSAobG9nRW50cmllczogQWRhcHRpdmUuSVZhbGlkYXRpb25FdmVudFtdKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkNhcmRWYWxpZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ2FyZFZhbGlkYXRlZCh0aGlzLCBsb2dFbnRyaWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGVycm9yUGFuZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JQYW5lXCIpO1xuICAgICAgICAgICAgZXJyb3JQYW5lLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmKHRoaXMudGFyZ2V0VmVyc2lvbi50b1N0cmluZygpID09IFwiMS40XCIgJiYgKHRoaXMuaG9zdENvbnRhaW5lci5uYW1lID09IFwiTWljcm9zb2Z0IFRlYW1zIC0gRGFya1wiIHx8IHRoaXMuaG9zdENvbnRhaW5lci5uYW1lID09IFwiTWljcm9zb2Z0IFRlYW1zIC0gTGlnaHRcIikpe1xuICAgICAgICAgICAgICAgIGVycm9yUGFuZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckVycm9yUGFuZUVsZW1lbnQoXCJbV2FybmluZ10gVGhlIHNlbGVjdGVkIFRhcmdldCBWZXJzaW9uIChcIiArIHRoaXMudGFyZ2V0VmVyc2lvbi50b1N0cmluZygpICsgXCIpIGlzIG9ubHkgc3VwcG9ydGVkIGJ5IGJvdCBzZW50IGNhcmQuIEZvciB1c2VyIHNlbnQgY2FyZHMgcGxlYXNlIHVzZSB2ZXJzaW9uIDEuM1wiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldFZlcnNpb24uY29tcGFyZVRvKHRoaXMuaG9zdENvbnRhaW5lci50YXJnZXRWZXJzaW9uKSA+IDAgJiYgU2hhcmVkLkdsb2JhbFNldHRpbmdzLnNob3dUYXJnZXRWZXJzaW9uTWlzbWF0Y2hXYXJuaW5nKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JQYW5lLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyRXJyb3JQYW5lRWxlbWVudChcIltXYXJuaW5nXSBUaGUgc2VsZWN0ZWQgVGFyZ2V0IFZlcnNpb24gKFwiICsgdGhpcy50YXJnZXRWZXJzaW9uLnRvU3RyaW5nKCkgKyBcIikgaXMgZ3JlYXRlciB0aGFuIHRoZSB2ZXJzaW9uIHN1cHBvcnRlZCBieSBcIiArIHRoaXMuaG9zdENvbnRhaW5lci5uYW1lICsgXCIgKFwiICsgdGhpcy5ob3N0Q29udGFpbmVyLnRhcmdldFZlcnNpb24udG9TdHJpbmcoKSArIFwiKVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2dFbnRyaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVkdXBlZEVudHJpZXM6IEFkYXB0aXZlLklWYWxpZGF0aW9uRXZlbnRbXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgbG9nRW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVkdXBlZEVudHJpZXMuaW5kZXhPZihlbnRyeSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWR1cGVkRW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGRlZHVwZWRFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzOiBzdHJpbmcgPSBcIlwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZW50cnkucGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWRhcHRpdmUuVmFsaWRhdGlvblBoYXNlLlBhcnNlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBcIltQYXJzZV1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQWRhcHRpdmUuVmFsaWRhdGlvblBoYXNlLlRvSlNPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gXCJbU2VyaWFsaXplXVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzID0gXCJbVmFsaWRhdGlvbl1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVycm9yUGFuZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckVycm9yUGFuZUVsZW1lbnQocyArIFwiIFwiICsgZW50cnkubWVzc2FnZSwgZW50cnkuc291cmNlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXJyb3JQYW5lLmNoaWxkRWxlbWVudENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIGVycm9yUGFuZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVycm9yUGFuZS5jbGFzc0xpc3QuYWRkKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZGVzaWduZXJTdXJmYWNlLm9uU3RhcnREcmFnID0gKHNlbmRlcjogRGVzaWduZXIuQ2FyZERlc2lnbmVyU3VyZmFjZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnREcmFnUGF5bG9hZCA9IEpTT04ucGFyc2UodGhpcy5nZXRDdXJyZW50Q2FyZEVkaXRvclBheWxvYWQoKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5vbkVuZERyYWcgPSAoc2VuZGVyOiBEZXNpZ25lci5DYXJkRGVzaWduZXJTdXJmYWNlLCB3YXNDYW5jZWxsZWQ6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGlmICh3YXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKHRoaXMuX3N0YXJ0RHJhZ1BheWxvYWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9VbmRvU3RhY2sodGhpcy5fZGVzaWduZXJTdXJmYWNlLmdldENhcmRQYXlsb2FkQXNPYmplY3QoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5idWlsZFBhbGV0dGUoKTtcbiAgICAgICAgdGhpcy5idWlsZFByb3BlcnR5U2hlZXQobnVsbCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDYXJkRnJvbUpzb24oZmFsc2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNhbXBsZURhdGEoKTtcblxuICAgICAgICB0aGlzLl9kZXNpZ25lclN1cmZhY2UuaXNQcmV2aWV3TW9kZSA9IHdhc0luUHJldmlld01vZGU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVGdWxsTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy5yZWNyZWF0ZURlc2lnbmVyU3VyZmFjZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uQWN0aXZlSG9zdENvbnRhaW5lckNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25BY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdGFyZ2V0VmVyc2lvbkNoYW5nZWQoKSB7XG4gICAgICAgIGxldCBjYXJkUGF5bG9hZCA9IHRoaXMuZGVzaWduZXJTdXJmYWNlLmdldENhcmRQYXlsb2FkQXNPYmplY3QoKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNhcmRQYXlsb2FkID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjYXJkUGF5bG9hZFtcInZlcnNpb25cIl0gPSB0aGlzLnRhcmdldFZlcnNpb24udG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRDYXJkUGF5bG9hZChjYXJkUGF5bG9hZCwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNyZWF0ZURlc2lnbmVyU3VyZmFjZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uVGFyZ2V0VmVyc2lvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25UYXJnZXRWZXJzaW9uQ2hhbmdlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVG9vbGJveExheW91dCh0b29sYm94OiBUb29sYm94LCBob3N0UGFuZWxSZWN0OiBDbGllbnRSZWN0IHwgRE9NUmVjdCkge1xuICAgICAgICBpZiAodG9vbGJveCkge1xuICAgICAgICAgICAgbGV0IGpzb25FZGl0b3JIZWFkZXJSZWN0ID0gdG9vbGJveC5nZXRIZWFkZXJCb3VuZGluZ1JlY3QoKTtcblxuICAgICAgICAgICAgdG9vbGJveC5jb250ZW50LnN0eWxlLmhlaWdodCA9IChob3N0UGFuZWxSZWN0LmhlaWdodCAtIGpzb25FZGl0b3JIZWFkZXJSZWN0LmhlaWdodCkgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUpzb25FZGl0b3JzTGF5b3V0KCkge1xuICAgICAgICBpZiAodGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQpIHtcbiAgICAgICAgICAgIGxldCBqc29uRWRpdG9yc1BhbmVSZWN0ID0gdGhpcy5fanNvbkVkaXRvcnNQYW5lbC5jb250ZW50SG9zdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb29sYm94TGF5b3V0KHRoaXMuX2NhcmRFZGl0b3JUb29sYm94LCBqc29uRWRpdG9yc1BhbmVSZWN0KTtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRFZGl0b3IubGF5b3V0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbGJveExheW91dCh0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveCwganNvbkVkaXRvcnNQYW5lUmVjdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvci5sYXlvdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlRnVsbExheW91dCgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUxheW91dFVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUpzb25FZGl0b3JzTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfanNvblVwZGF0ZVRpbWVyOiBhbnk7XG4gICAgcHJpdmF0ZSBfY2FyZFVwZGF0ZVRpbWVyOiBhbnk7XG4gICAgcHJpdmF0ZSBfdXBkYXRlTGF5b3V0VGltZXI6IGFueTtcbiAgICBwcml2YXRlIF9wcmV2ZW50Q2FyZFVwZGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBjYXJkUGF5bG9hZENoYW5nZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2FyZFBheWxvYWRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2FyZFBheWxvYWRDaGFuZ2VkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FyZEVkaXRvclVwZGF0ZUNvdW50ZXIgPSAwO1xuXG4gICAgcHJpdmF0ZSBiZWdpbkNhcmRFZGl0b3JVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3JVcGRhdGVDb3VudGVyKys7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmRDYXJkRWRpdG9yVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FyZEVkaXRvclVwZGF0ZUNvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVXBkYXRlQ291bnRlci0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDYXJkUGF5bG9hZChwYXlsb2FkOiBvYmplY3QsIGFkZFRvVW5kb1N0YWNrOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc01vbmFjb0VkaXRvckxvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5iZWdpbkNhcmRFZGl0b3JVcGRhdGUoKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5oYXNPd25Qcm9wZXJ0eShcInZlcnNpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFtcInZlcnNpb25cIl0gPSB0aGlzLnRhcmdldFZlcnNpb24udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYXJkRWRpdG9yLnNldFZhbHVlKEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDQpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhcmRGcm9tSnNvbihhZGRUb1VuZG9TdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZENhcmRFZGl0b3JVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FyZFBheWxvYWRDaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRTYW1wbGVEYXRhUGF5bG9hZChwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzTW9uYWNvRWRpdG9yTG9hZGVkICYmIHRoaXMuX3NhbXBsZURhdGFFZGl0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3Iuc2V0VmFsdWUoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgNCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVKc29uRnJvbUNhcmQoYWRkVG9VbmRvU3RhY2s6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9wcmV2ZW50Q2FyZFVwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5wcmV2ZW50SnNvblVwZGF0ZSAmJiB0aGlzLl9pc01vbmFjb0VkaXRvckxvYWRlZCkge1xuICAgICAgICAgICAgICAgIGxldCBjYXJkUGF5bG9hZCA9IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRDYXJkUGF5bG9hZEFzT2JqZWN0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKGNhcmRQYXlsb2FkLCBhZGRUb1VuZG9TdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9wcmV2ZW50Q2FyZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzY2hlZHVsZVVwZGF0ZUpzb25Gcm9tQ2FyZCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2pzb25VcGRhdGVUaW1lcik7XG5cbiAgICAgICAgaWYgKCF0aGlzLnByZXZlbnRKc29uVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9qc29uVXBkYXRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy51cGRhdGVKc29uRnJvbUNhcmQoKTsgfSwgMTAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcHJldmVudEpzb25VcGRhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgZ2V0Q3VycmVudENhcmRFZGl0b3JQYXlsb2FkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc01vbmFjb0VkaXRvckxvYWRlZCA/IHRoaXMuX2NhcmRFZGl0b3IuZ2V0VmFsdWUoKSA6IENvbnN0YW50cy5kZWZhdWx0UGF5bG9hZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEN1cnJlbnRTYW1wbGVEYXRhRWRpdG9yUGF5bG9hZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQgJiYgdGhpcy5fc2FtcGxlRGF0YUVkaXRvciA/IHRoaXMuX3NhbXBsZURhdGFFZGl0b3IuZ2V0VmFsdWUoKSA6IFwiXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDYXJkRnJvbUpzb24oYWRkVG9VbmRvU3RhY2s6IGJvb2xlYW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMucHJldmVudEpzb25VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgY3VycmVudEVkaXRvclBheWxvYWQgPSB0aGlzLmdldEN1cnJlbnRDYXJkRWRpdG9yUGF5bG9hZCgpO1xuXG4gICAgICAgICAgICBpZiAoYWRkVG9VbmRvU3RhY2spIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRvVW5kb1N0YWNrKEpTT04ucGFyc2UoY3VycmVudEVkaXRvclBheWxvYWQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAvLyBTd2FsbG93IHRoZSBwYXJzZSBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9wcmV2ZW50Q2FyZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzaWduZXJTdXJmYWNlLnNldENhcmRQYXlsb2FkQXNTdHJpbmcoY3VycmVudEVkaXRvclBheWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkUGF5bG9hZENoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMucHJldmVudEpzb25VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2NoZWR1bGVVcGRhdGVDYXJkRnJvbUpzb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jYXJkVXBkYXRlVGltZXIpO1xuXG4gICAgICAgIGlmICghdGhpcy5fcHJldmVudENhcmRVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhcmRVcGRhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyB0aGlzLnVwZGF0ZUNhcmRGcm9tSnNvbih0cnVlKTsgfSwgMzAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2lzRWRnZUhUTUw/OiBib29sZWFuID0gdW5kZWZpbmVkO1xuXG4gICAgcHJpdmF0ZSBpc0VkZ2VIVE1MKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5faXNFZGdlSFRNTCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0VkZ2VIVE1MID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiZWRnZVwiKSA+IC0xO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRWRnZUhUTUw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzY2hlZHVsZUxheW91dFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzaWduZXJTdXJmYWNlKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNFZGdlSFRNTCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UudXBkYXRlTGF5b3V0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluIFwib2xkXCIgRWRnZSwgdXBkYXRlTGF5b3V0KCkgaXMgKnN1cGVyKiBzbG93IChiZWNhdXNlIGl0IHVzZXMgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gICAgICAgICAgICAgICAgLy8gaGVhdmlseSB3aGljaCBpcyBpdHNlbGYgc3VwZXIgc2xvdykgYW5kIHdlIGhhdmUgdG8gY2FsbCBpdCBvbmx5IG9uIGlkbGVcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlTGF5b3V0VGltZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlTGF5b3V0VGltZXIgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXNpZ25lclN1cmZhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2lnbmVyU3VyZmFjZS51cGRhdGVMYXlvdXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICA1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3RhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb24gPSBBZGFwdGl2ZS5WZXJzaW9ucy5sYXRlc3Q7XG4gICAgcHJpdmF0ZSBfZnVsbFNjcmVlbkhhbmRsZXIgPSBuZXcgRnVsbFNjcmVlbkhhbmRsZXIoKTtcbiAgICBwcml2YXRlIF9mdWxsU2NyZWVuQnV0dG9uOiBUb29sYmFyQnV0dG9uO1xuICAgIHByaXZhdGUgX2hvc3RDb250YWluZXJDaG9pY2VQaWNrZXI6IFRvb2xiYXJDaG9pY2VQaWNrZXI7XG4gICAgcHJpdmF0ZSBfdmVyc2lvbkNob2ljZVBpY2tlcjogVG9vbGJhckNob2ljZVBpY2tlcjtcbiAgICBwcml2YXRlIF91bmRvQnV0dG9uOiBUb29sYmFyQnV0dG9uO1xuICAgIHByaXZhdGUgX3JlZG9CdXR0b246IFRvb2xiYXJCdXR0b247XG4gICAgcHJpdmF0ZSBfbmV3Q2FyZEJ1dHRvbjogVG9vbGJhckJ1dHRvbjtcbiAgICBwcml2YXRlIF9jb3B5SlNPTkJ1dHRvbjogVG9vbGJhckJ1dHRvbjtcbiAgICBwcml2YXRlIF90b2dnbGVQcmV2aWV3QnV0dG9uOiBUb29sYmFyQnV0dG9uO1xuICAgIHByaXZhdGUgX2hlbHBCdXR0b246IFRvb2xiYXJCdXR0b247XG4gICAgcHJpdmF0ZSBfcHJldmVudFJlY3Vyc2l2ZVNldFRhcmdldFZlcnNpb24gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgcHJlcGFyZVRvb2xiYXIoKSB7XG4gICAgICAgIGlmIChTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc2hvd1ZlcnNpb25QaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIgPSBuZXcgVG9vbGJhckNob2ljZVBpY2tlcihDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLlZlcnNpb25QaWNrZXIpO1xuICAgICAgICAgICAgdGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlci5sYWJlbCA9IFwiVGFyZ2V0IHZlcnNpb246XCJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIuYWxpZ25tZW50ID0gVG9vbGJhckVsZW1lbnRBbGlnbm1lbnQuUmlnaHQ7XG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyLnNlcGFyYXRvciA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU2hhcmVkLkdsb2JhbFNldHRpbmdzLnN1cHBvcnRlZFRhcmdldFZlcnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlci5jaG9pY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5zdXBwb3J0ZWRUYXJnZXRWZXJzaW9uc1tpXS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudG9vbGJhci5hZGRFbGVtZW50KHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbmV3Q2FyZEJ1dHRvbiA9IG5ldyBUb29sYmFyQnV0dG9uKFxuICAgICAgICAgICAgQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5OZXdDYXJkLFxuICAgICAgICAgICAgXCJOZXcgY2FyZFwiLFxuICAgICAgICAgICAgXCJhY2QtaWNvbi1uZXdDYXJkXCIsXG4gICAgICAgICAgICAoc2VuZGVyOiBUb29sYmFyQnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRpYWxvZyA9IG5ldyBPcGVuU2FtcGxlRGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ3VlOiB0aGlzLl9zYW1wbGVDYXRhbG9ndWUsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRnJvbSBKU09OIFNjaGVtYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXVuY2hKc29uU2NoZW1hUG9wdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHVtYm5haWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLWNvbnRhaW5lclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLXVwbG9hZCBhY2Qtb3Blbi1zYW1wbGUtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgYWx0PVwianNvbiBzY2hlbWEgaW1hZ2VcIiBzcmM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUlvQUFBQ0tDQU1BQUFCQ1dTSldBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFKRFVFeFVSUUFBQUFBQUFFQkFRR0JnWUZWVlZVMU5UVVpHUmwxZFhWVlZWVTVPVGxWVlZWQlFVRXRMUzFGUlVWRlJVVkpTVWxKU1VrOVBUMUpTVWxCUVVGTlRVMUJRVUU1T1RsTlRVMUZSVVU1T1RsTlRVMDlQVDFOVFUxRlJVVTlQVDFOVFUxQlFVRTVPVGxKU1VsQlFVRkpTVWxCUVVFOVBUMUpTVWxGUlVVOVBUMDVPVGxGUlVVNU9UbEpTVWxGUlVWQlFVRkZSVVU5UFQwNU9UbEZSVVZCUVVFOVBUMDVPVGxKU1VsRlJVVkZSVVZCUVVGQlFVRTlQVDFGUlVWQlFVRTlQVDFGUlVVOVBUMDVPVGxCUVVGQlFVRkJRVUU5UFQxRlJVVkZSVVU5UFQxQlFVRTlQVDFGUlVVOVBUMDlQVDFCUVVFMU5UVkJRVUU5UFQxQlFVRTlQVDA1T1RsQlFVRkZSVVZCUVVGQlFVRTlQVDFGUlVWRlJVVkJRVUU5UFQxRlJVVkJRVUU5UFQxRlJVVkJRVUU5UFQwNU9UbEJRVUZCUVVGQlFVRkJRVUU5UFQxQlFVRTlQVDFGUlVWQlFVRkZSVVZCUVVGRlJVVkJRVUZCUVVGQlFVRkZSVVZCUVVGQlFVRkJRVUZGUlVWRlJVVkJRVUZCUVVGQlFVRTlQVDFGUlVWQlFVRkJRVUU5UFQxRlJVVkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGRlJVVkJRVUZCUVVFOVBUMUZSVVZCUVVFOVBUMUJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZGUlVVOVBUMUZSVVZCUVVGQlFVRkJRVUZGUlVWQlFVRkJRVUZCUVVGQlFVRTlQVDFCUVVGRlJVVkJRVUZCUVVFOVBUMUZSVVZCUVVGQlFVRkJRVUZGUlVWQlFVRkJRVUZCUVVGRlJVVkJRVUU5UFQxQlFVRTlQVDFGUlVWQlFVRkJRVUZCUVVFOVBUMUJRVUU5UFQxQlFVRkZSVWMvMWFJZ0FBQUMrZEZKT1V3QUJCQWdKQ2dzTERBMFBFQkVURmhrY0hSOGdJaU1rSlNZbktDb3JMQzB1TURFeU16VTJOemc1T2pzOFBqNC9RMFZIU0VoSlNrdExURTlRVTFSVlZsZFlXbHRjWFdCaFlXSmtabWRvYW10c2NITjBlWDUvZ0lHQ2c0U0VoWWFJaUltS2k0eU9qNCtRbFphWG1acWJuSjZnb2FLanBxZW9xYXFxcTZ5dHNMR3hzck8wdExXMnVicTd2TDIvd2NMRHhNVEZ4OGpKeXN2TnpzL1IxTlRWMXRyYTI5M2U0T0hqNCtYbTUrZm82ZXJxNit6dDdlN3k5ZmYzK1ByOC92NkJNRzNpQUFBQUNYQklXWE1BQURMQUFBQXl3QUVvWkZyYkFBQUV3a2xFUVZSNFh1MmMrMXRVUlJqSFZ4U0VBaFhUTEJOTENTTXp1Nm5ZRnBRaGVFWENTazNEMU1yUVVqUVRMYnhnM2xCRVJVSE1hMFpabGlrUVJWZzYvbW50dnZOZGQzYjMzVDE3bURrbm5wNzUvTUx6blhuM25RK0gzWFBtVVlaQUtuTExHOXE2Qm9RWDNCZjMraTQzYjVpSmxSeDQ3aEJlNWlVM2EzT3dYSEllK3dMRlh0TmJneFdUTWFzYmxUN1FPQUtMc2xTanloL09QNEZsR2Q1RWpWK2NUM3BkaXU2ZzVMZTYyZU5TWGoxM1RQa1RmWHMyengyZm1WZXdwQWxaZkkyS0JEcFI4SDRtQmd4eEJuMC95TVpBb1BnQWhwSzhkeGZMMmU1WnlLYW9rSDM3NWlJVDYrUmd6MGprV0g2UXM5TVJqWEZWOW8yN3JjRmxEV0lNWlhKdVBxSXhYcFY5RnlJK1FQNk1iaURGSU85dExVam0rSno2dGlGRmVaYkd4UXhFbFY2YUNTS1o0d2IxZlFOSlFWNldkVWdLRTJoaUlBUFJHUG5VVnp6NDhFUlpTaE5Ia1JSbTBrUXJram1LcUc4SGtrb0J6VnhFVXBCMzJnWWtjd1NwN3o0a2xUeWE2VVZTcUtLSk9pUnpWRkxmZWlTVkVUUXpnS1RndjhvNG11bENVdkJmWlRiTkpIN0svd09WVFRTekUwbkJkNVhNMnpSVGpxamd1OHBxbWhDNWlBcCtxNVRRdURpRXFPS3p5Z3o1bkdIM0FmNnFZQThqdGlQSDRLTktWdGtwR2hUaTFnUU14UkN2OG5xOURzdlFKYUx5SGNaRDdHMi9TME5oWGtGUkxQRXFCeWtQbG5Qb0VsSGhxVUpOSFA2cjlKZWlKQjdmVmM0V29pSUJuMVd1SmV4MW8vaXA4dXZXbFB2V2VKVlJsVHBNUnBlSXlrbU1od2hPeThkVU11SlZUQ0ZWbUdkUWNxd0toMVhoc0NvY1ZvWERxbkRFcTVoOUhGcVZNRmFGNC8rcVlncXJ3bUZWT0t3S2gxWGhzQ29jQmxUR1Z1bFFoQzVHVk95VE9ZeFY0UmpDS25QcWRJaitvNThCRlZOWUZRNnJ3bUZWT0t3S2gxWGhNS0N5b2tPSFRlaGlSTVZ1RXNKWUZZNGhyQko0V29kaGFHSkd4UkJycVc4blVscDRwVEtFcm9wVjRiQXFIRmFGdzZwd1dCVU9xOEpoVlRpc0NvZExsZnlpWU9VT2VzbHgvQjZkRm0rLzk4a2lkSGFuRXR3aXo2b1k1UTZhdTFGWmNJMUtUZU5lWldvN0Zackh0VXJwWDFUbkFXNVY1SWZHRTF5cXZFeEZSTWQrL0E2M0JsOUZEam9LOGZ0UGg3RkdlaXFQM3FJaUlVNlY4WWYvWEhJQzdicDJqTUVJa1k1SzVMUndCYkltTldpM0NqbENHaW80YTlmTEhiWWJCTms5c2wvQ041YUd5amRVSWtvUWRWa2oyeTFIak9LczhqQlZpTldJMmx5Z2RnZVFGSnhWM3FLSzdpeEVYU1pTTzFHTXFPQ3M4aVZWYkViU1JyNXAyNUZVbkZWT1U0V3BkMHJnVTJyM0xwS0tzOHIzVkRFZVNadGQxSTQ1aUpxR1NqOVZHRHZPM1VydHVCdURzMG9mVmVRaGFYT0UycjJFcENMZlJSOGpjVnlpaWdJa2JiWlJPKzdHL1JITkpONXZvalJUeFJJa2JXcXAzV2RJS3ZMek1RK0pZd05WTkNGcEk4Lzkvb3lrZ09QTVR5Snl5T1BMNGhsRVhYSmt1OFNydkpIR3J5RHgzS1FhWTVkRi9ubVNIeDlDakZCSXcySTlJby84NllvUEVYWEIzOERZandoeXI4amhwNUI1Y25BYzBwUkxpMnkzZXpoeW1NZXhpNC8rbnhsUFpLL1R4RHpEQnNHTGFOZjVHZ1pDZTJmc1lmNk8yZFp4N0pHRm9VZjcwZ0lEOXpxY3hBMXRVTitaT2pvamYzcXR2S0dIY040blpuMkwwaEQzOE5VTFZtSzlWRXlLdW5pb3NoR3JwU2F6RWVVZXFsUmpMVWRxOE03eVN1WFlDMWdvRGJKcmZ3bS94QnVWOW1TblVKUHgvUHJtaTMvZ3hhYjQ1M3JIM3VwSHNFQXFBb0YvQVRnRC9XSzJ4aDRKQUFBQUFFbEZUa1N1UW1DQ1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjZC1pbWFnZS10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLXVwbG9hZC10aXRsZVwiPkZyb20gSlNPTiBTY2hlbWE8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGh1bWJuYWlsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUGljMkNhcmQucGljMmNhcmRTZXJ2aWNlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBpYzJDYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxhdW5jaEltYWdlUG9wdXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkRGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWwuY2xhc3NOYW1lID0gXCJhY2QtaW1hZ2UtY29udGFpbmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiYWNkLWltYWdlLXVwbG9hZCBhY2Qtb3Blbi1zYW1wbGUtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGFsdD1cInBpYzJjYXJkIGltYWdlXCIgc3JjPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJRUFBQUJPQ0FZQUFBQUhIblV4QUFBQUFYTlNSMElBcnM0YzZRQUFBRVJsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUE2QUJBQU1BQUFBQkFBRUFBS0FDQUFRQUFBQUJBQUFBZ2FBREFBUUFBQUFCQUFBQVRnQUFBQUNaRFptT0FBQU9ha2xFUVZSNEFlMWRlNUJUMVJuL3pzM05jemY3VGhZV1dIWmw1ZUd5TEN0UVVMZFRVWW92YU1lTzJ0ZllqclZGQlR0MnJNcllWbVVjYld2YlA2eU9vb3kxbmVsak9sZ3R2cld3cFZKOHNJRG9BdUkrc2l6N3lzSytFckpKYnBLYjNINW44YklRa3R4N2M1TndRKytaeVp6Tk9kLzV2dTkrM3kvbm52T2R4eEpJa0FSQllQWWRQRmdURTRRYVZtQXFvaUFVZ0FCc0FsSzlLQk1XSU1BYmdQaDVFaHRoQ09sWjJ0RFFRd2lKWllLMUhCNGtubWpQcDUvV01sRllMaEJpajYvVHYrZkdBa1FRZkRFRDdGbmUySGcwRnhKUGd3Qi8vV1IvVzl1WFlqR3lLQmVDZFJuU0ZtQVlvVzNKb2tXdDJDc0kwdFRwVXpCaVV4MEFvaVcwazlNZkpQVkx0aldhQkFGOUJlZzlRTFpOblI1LzZoZnFuL1JheTJ2RjBFRWdIUVBJSTllcHpvY0ZKc2RvNktkc3laNmNCZWlEd0d5Wk56TjhxWC9vYkMwejNNN2x3dEJwNExuRmVvbldMSkJOUHpFMERxQzFCOWIxT2RjQzJmUVR2bTR3RUtRbnpWc2dtMzVpOHlFU3lQTVJVMTl2ejlvZ3h6VkVvOUVTelhzTUZUUXdUTUJrTW5kV3pheitwODFxOWFqV09Zc1JXODJIZ2drQjB0WFY4Wk53T0Z5bjJwQTVaTUJIb3pZK0dLam9kblhVMTlYTjNXU3hXQ2R5S0Y2UnFLeE5PeFJwa1lKNGNIQ3dLZDhBY09ianhHS3hJdmZnd09venk3VDJkOFo2Z21pVU4vZzhIbHVBNHl4aG5tY3RGa3NJdTBHdXFLZzRvT2FodWFDL1drMTdMYlFOUmNLYWZnWlZJS0NPUDlyVE0zTmtkSGg2WU1KZlRrQTR2UlloR3QvQXNtRjdVZkh4U29kenNHckd6R0d4WEc1dU1wbEc1ZEpxbFk0MUdEVDlER21Ed05YVldUM2dIcGdYalVUTTFQam5lUDhMajBSNTN1UVpHNTFGUDMzOXZhTVgxYzQ1NG5CV3loNG9PY29kSDQ5N1BGK24zYXBXblp4S0wxejhpWmFWVmV4S1JYTys2eFNQQ1NLUk1MdDN6MGZMZTN0N0Zva0FrUHNRQWIrLy9OQ2h0dWF1am5iWnNYQ1QxZWFmVVRYektZUEJNQ2hYamxib2NHK0F6MW5oM0ZKV1ZuNU1Lem9sMGtOUlQ4QUZnK2I5KzFzdng0R2FxdGdDOWdqMS9rQ2dzSEZ4MDhGRVNzV1hsWmFWOStKbmt6L2dLK01DWEY1TUVjMUdZOEJlVW5KY0VIQVNydkVrR3dRNFYyYytPYkIvbVZvQWlQWVlHeHVaM2Q1eEpEQnY3Z0tYV0NhVkY5anNZL1FqUmFlVmVnUkFYaVRacjRQRGh3N1ZCN2xnUm4rRmcvMzlDNDRQdWN2endsSVhzSkt5UURBNlBtYW52OXhzMk1IVjdhclBCbCtkcDN3THlBS0J5OVc1UUQ1TFpaUWhMbGgwdE5zMVExa3JuVHFURnBBY0V3U0RBWlAvNUVsbkpvWEc4eG9aSHA1WmU5R2NnZmh5OGJzVzFnN29GQmhuS0NQV0F2dmUycHFhZitYRGdFKzBuMVF1Q1FMMzBGQldBVUFWOVBrbktqaU9vMUZHUGw1aHJhd2QwREZlak9lckk5N3g2czZPVUZYZHhmUCtHSzlydm42WGZCMTR2WjZzRDl4b3BIRjhiRGpob0ZPTGF3ZUJZT0F5NzBudkJmTUtrd1FCSHdwYmNvSHdVQ2lTVUk1VzF3NG1mTDVadWJCTExtUklnaUFTNVNmRHd0bFdKaFFKSlpTajFiVURzOW1jTi9FS0tkOUpnZ0FKY25JY2lnQ1RVQTVkTzJBWTVxVFVnK1N5bm1YWnZ2THljdGxCcmx6cWxvNHNTUkN3SmlPWERtT2xiU3htYzBJNVdsczdNQmxOSGJOcmFwNGhCSGZtWFNCSmNuYUEzVjdBbDRPSHRSUVVKTjEzb0pXMUE1dmRQbUkxV3pUVksyWENOWklncUNndlA0SHorSXN5SVN3WkQ0Wmh3ODRLaHpkWnZWaWViMnNIb3Q1SzhvR0FyYWpMV3pEdFJORGlERVpJUVpobkxEaE5qbG5aMk1UVm00VUE3dGpvS3krRHZTL2RRb0pLK0thaWxRUkI1YlFab3gwZEhUeXU1MHZTcGhLVXFxNjR0SGdvVmYyRlhyZm5SRmx0MjBoUm8zdkN1dGpQRzZxU1A2L3diVm8zTWtJaVZ6MHJITURZeFc1Z29PVXJkOEE3bTFRY1pTZXRCOXArbEZ6b3FaclBEaCthZC95NCsySXB1blRybXhxYjNpc3ByOGpGV3lkZEZUUGVicFF6V1YvcHJycm0yRVRoNVJFZUVzWkk1QXNsUnhFTVR4c1llSEhISFVTeVI0M25Ld3NFTkpyWDJ2cmhWWFNYVUR3RHRkK0xTMHI2TDcxMDJTZHkrUWdDbnR6UHA0VDdDUWd6TmZNSlJBbTd6VFhyeXNPajlodDRnYWphbDNHdUdjZ0VidkY2eWxJRGo3NTlQUW1kVzUrNFJCWUlhTlBldnQ3cHJzNzJKWW5acEZkcVpGbXVhZG1LL3haWXJTa1Y1cmhnWVc5LzcwM2hZTEFCajJQbDNlVVpqTUV3YnJQWTluWWJMK3ZjNVhaK0t4UWxXWTdDa3M4TkJHN2JzWjU4Sk1jemtsTkVrVW4xckdwM1plWDBUdkc3Mmh3WFpHSnpMMW00VndvQTlKZmY3ZXE4bHdzRUxzOUhBRkE3eGFMUjB0Yng2dFU3QnFhdHp6NEFxRVJoZmt5QTkxZHVGcDdZSk9NMHMyd1FVTmFYMUM5c2R6aWNxb01raklHTnpKcy92MVhPak1EdEhsaUNCemxtVXZuNW1HSjRvdng5cmhrT2hDOEZlaHRNcnA0QjMwSU14SVFIM3RzTWYxdjN2R0JNSlZjUkNDaWpoUTJOUjJwbjEzNUNpQ0d0WUFrR2hYeUxHNXQyVDYrYU5aSktNYkdPNDhJcFJzc2lsVFp6Q29BZDNHcm80V3ZQbjRLQzhNMnVLTHg4M1Z0Q3dyQThWVXd4Q0dpam1qbDEvY3RYckdncGN6aDZCSkIzbnc1OS8xZFgxN1F0djZ4NUZ3NEcvWlNQbkdReUdSV2ZWWkRETnhjMEg0U3VnT0dvSXhlaVVzckFIbWh0cUFkZXUzbXJrSEJRbmZiYzMycTFoUnNiRmg4S2hiaDJkMzkvNWVqWVdDV2V0Q25BRFNBV0dsTXdHTmdRYTJRNXU2M1E0M0E2aC9Dc3dSaXVBZEJsZVVYSk9XMzZQcS9Ic3lZYWkyWjVNS1ZJTFVuaWc1RkZjSXl2a2FTVElwaFpETURqcXNxUXlnazBBbUUxeGhjZVJubVB4TXVVUFR1SWI1akw3NzRKcjNOZ1lPRFdjQ2hFWXhWcDlWNjUxTGVQbndXN3VDdFZpN3dkTHhINjdoSU1GK0kycGkwZkFteVZQWkZPTEJyUDlzWndVTEtxWlFQWmVTWkZYb0JBVkJoN0dUT2VmZEQwU2FSZzFHaDhxbjNwdmVFb1VhWG5yVGdadjIzNTJlUElKM2NKOE5vaDBScHA1b1M0bVFKb2FQaytPWDAwTHUzWFFab3FxR3JHc3NaUW9WM2JZNFNYanN4ZW94WUFOemFjQ3dCcXVIdStEQkFJQSt6b1VHRkdRWmdPZnJJUk9Ud2djdEY4MXlvcW1nKzVlOEpzNy9EWVZSMURYejBQNE83bXhFK0w1eHBoNDFVQWw5Y2tycGRiaW0rWDlXdWZGMDVmVTZTRFFLN2xaTkM5Y25UR0dnelNKTndtSjZNNU5PTk04djZWZUxnWG5aMHNHUmdDRDE4RDBLUmloeVBHRUFyOFBQeFVsS0dEUUxTRXloeGZBWVpCdnkzdCt5Q1hZRGpzSWV4RHFKT2xrZ2xqd285ZGo4RzdTaW5LNVBVNFRic2JwNHlGbEVJSFFYSTdLYXJaUGVTWWkxTTVtNkpHWHhCVFp6NTZIWUFSblN1bVkyTUNuUEJOemFqSEFnSzRScWErVzQwRWZyMEdZRTdhRTJlaGNHUUU4T1dpZzBDMHVlcjhpS2RvY1RwTXFCT3BNNmxUeGVRK0tjRDlyd1A0STJJSlFBaFBaRHlBWlFQZUtTQVVtZ2s4c1JhQXhoTFNTU2dSb2FlRElCM2JKV3h6Zk1Lc0dBVFVlYjlCSjFKbmltblVMOEI5citIR2tRUXgxZkVnd0gydkFneFBUQUdoekViZ3QxOERjRTUyN0NJWG1ibWdnMENtcGFUSlB2Y1VPWEYxc0ZTYWNvckNnVTZqeml0Rko0ckp5MkVQZ0FCd3A5akZlQnp2UUtNZzhRYW5nRkJwUHdXRUVxdklTVjZPQThUWjE3d2cxT2xqQW5uMlNrbDExR3VkbnBJZ3JwSTY2M2NJQU9vOE1RWENBbXpFN3I1blhDeEpudmQ1QURhK2dhOExiQ09tV1NWa3NsY3BVTGp0SjhiRGJCMEVvaFZWNUtNaHMreFZJdW9rK2dxZ1RoTlRpQmZnWjI4Q2RDaFlLcU8wUDhjMnRLMlk2aXBPRFJiTkNrS0FPSml0MUVFZ1dsQkZIb3F5c2p2aTd5MERvTTRTRXg4VjRKRjNBTnJjWW9uOG5MYlo5QzR1TUNFUE1kVlBJM0NMZ3RFSkFtQ2FBc3lJWXJLVGp3Rm5Hd2N1dzN2dTFPdGFDaFovR1ZpU25vbWdFdmlvL0FCUmtYbEtKN293OU1zZEFLMjlVMlZLLzlwekRPQlhMZGdyZkZVQXZDaHJzbm14c25DVmRrRFFFdTFkZVJTOE55ZzFRcmJwYTZINHpac05jN0hqVFo1d3Q3ZnNEVFovM2dkUVhTb0FkZFFMdUFQd1A2N2tmT1hXN096Q2FSNzYvL2JsQXRDQjQ5OFB5RzE1aWs0elBZRXl0YlZGYldGaktYdUtNN1VkeEpIL2hwZlBMTW5NM3kyNCs1TitsQ1pjVy9iaFBnL2xHejJVQ3JyUTZTMEcrU0RRbWkyd0F4bGg4UGFOaEFkQnRhYXNsdldwTEFnTmFWay9DZDNhR1R3WTRaTWcwcXNsTExDdzFOc25RYUxaYW9zRlBrTVFDSG43QUZxeGJMa2xITFN3d2dtdDZDTlhEMXl5UHZEV2JXU0k4Y1ZpM2ZxNFFLN1prdE5OSytEYWt0ZHFzd2JIQTl1b1p1ektwaVpQYTFzYjNiQTA3M3lxU3FkaCtBK2ozejZmT2lTU2pmK0FLdUVOS3ZHMEM4dE9mdHpqdGE2S0w5ZjQ5MU1nb0VvNjdQYldFK01uWjJEM2tNNWFWTWFlVTY3Qk15WXdnNHl1cUJwMmJlOTFqdWJtbUpsNnhkSFgzUzNyeVdUdk5SazJycTJ0NVFyTjdMdFlvYzhVMHJRdlRyU0ZCYVcrN1drMlB4L05uaFNGbmw0N3FLK3ZIN05iak50d2c5dW9XS25ueWl4d3creiszVVlEYUg2MmhUOTJWNTBCbmhPZjdqUUlhTUg4K2ZOOWIyMTdlUnZPR0hDSE8zaEVJajJYWjRFaWN5eThxTnlMMno0MG54N2NjZ2M1dlcvcDFJcERFcDMzN1hNVmg0bkhZUWFURFl5cFQ3WW1ZZkYvV2Z5TEQrdGY0SGl5V08zRFAvME5BTG9xU0ZNWDdpOWN0MVV0UjlxZTdObTVnYXc0azFQS3RZT2xTK2ZRcTAvb1IwOEtMTERxR2VFN3VLQzNEOC8vcGJYeFZCVDFsLzBBRDYvR0k3OVlRQmVlVkNkQ3hsa0dibzNuazdJbmlDZld2OHUzd05YUENUZkZZckFWTHlWUVpXTzhoMmdTQlBSUXFycEVlTllBMTI2L2srREM4OW5wckRIQjJWWDZOelVXYUxtVC9BTVA3VCtraGdkdEcwWG5xd2ZBNUk3aWV4SUJnTXJRUVVDdGtLWDA3dzNrY1J5SlA1WWw5ckxaRW9ZOGppZVJuMDNXUUZWWGxZeXBYbjYyQmZET3dSL2piT3YzYWw4TlozT1Y4UTNqUHJqWjVJY3RkNUcvcHFMV1FaREtPaG1zd3pIQ3RUaEdlQkdCb0dobmNyb3FZQTgwZ0srakc3RUgyQ3ZGUTM4ZFNGa29RL1U0Um5pSDNndUF6bmtwUXl3VHNqbDFFUVg1azhVS1MrVUFnRExSZTRLRXBzeHU0YXJuaGVab0ZCN0RYdUVybVpTRUFIdGRZT0hCbmV2SVlTVjhkUkFvc1ZhR2FWZHRGcTdFbyt3L3dFM0hOK0xkZzJrdTNwRmhqRW04Z1dkWi83RDlMdkorT2lycUlFakhhaGx1Z3hkRzJQRFE4ZlVJaG1iOHA3ckxNRzlDVUNROHk0Qy9kcnFwdFIwL0xZd0JYbTFlQngrb3VkeWFQb29PQW1vRmphVk5lQXZwL2kxUWhrY1RTL0ZYWG9ablN4aURBRDQ4bUR6ZWNpY01JaENtVHB0a1FQZi9BVFNKM29lN2xpalNBQUFBQUVsRlRrU3VRbUNDXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjZC1pbWFnZS10ZXh0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjZC1pbWFnZS1uZXctdGl0bGVcIj5ORVcgUFJFVklFVzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjZC1pbWFnZS11cGxvYWQtdGl0bGVcIj5DcmVhdGUgZnJvbSBJbWFnZSA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJpbWFnZS1kZXNjcmlwdGlvbi1pZFwiIGNsYXNzPVwiYWNkLWltYWdlLWRlc2NyaXB0aW9uXCI+VXBsb2FkIHlvdXIgb3duIGltYWdlIGFuZCBjb252ZXJ0IGl0IG1hZ2ljYWxseSB0byBhbiBBZGFwdGl2ZSBjYXJkPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgYXJpYS1sYWJlbGxlZGJ5PVwiaW1hZ2UtZGVzY3JpcHRpb24taWRcIiBjbGFzcz1cImFjZC10cnktbm93LWJ1dHRvblwiIHZhbHVlPVwiVHJ5IE5vd1wiIHR5cGU9XCJidXR0b25cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHVtYm5haWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZGlhbG9nLnRpdGxlID0gXCJDcmVhdGVcIjtcbiAgICAgICAgICAgICAgICBkaWFsb2cuY2xvc2VCdXR0b24uY2FwdGlvbiA9IFwiQ2FuY2VsXCI7XG4gICAgICAgICAgICAgICAgZGlhbG9nLndpZHRoID0gXCI4MCVcIjtcbiAgICAgICAgICAgICAgICBkaWFsb2cuaGVpZ2h0ID0gXCI4MCVcIjtcbiAgICAgICAgICAgICAgICBkaWFsb2cub25DbG9zZSA9IChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NhcmRCdXR0b24gPSB0aGlzLl9uZXdDYXJkQnV0dG9uLnJlbmRlcmVkRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxvZy5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNhcmRQYXlsb2FkID0gSlNPTi5wYXJzZShkaWFsb2cub3V0cHV0LmNhcmRQYXlsb2FkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWQoY2FyZFBheWxvYWQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJUaGUgY2FyZCB0ZW1wbGF0ZSBjb3VsZCBub3QgYmUgbG9hZGVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxvZy5vdXRwdXQuc2FtcGxlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYW1wbGVEYXRhUGF5bG9hZCA9IEpTT04ucGFyc2UoZGlhbG9nLm91dHB1dC5zYW1wbGVEYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZURhdGFQYXlsb2FkKHNhbXBsZURhdGFQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU3RydWN0dXJlID0gRmllbGREZWZpbml0aW9uLmRlcml2ZUZyb20oc2FtcGxlRGF0YVBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBjYXJkIGRhdGEgY291bGQgbm90IGJlIGxvYWRlZC5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2FtcGxlRGF0YVBheWxvYWQoe30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdDYXJkQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDYXJkQnV0dG9uLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbmV3Q2FyZEJ1dHRvbi5zZXBhcmF0b3IgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudG9vbGJhci5hZGRFbGVtZW50KHRoaXMuX25ld0NhcmRCdXR0b24pO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob3N0Q29udGFpbmVycyAmJiB0aGlzLl9ob3N0Q29udGFpbmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ob3N0Q29udGFpbmVyQ2hvaWNlUGlja2VyID0gbmV3IFRvb2xiYXJDaG9pY2VQaWNrZXIoQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5Ib3N0QXBwUGlja2VyKTtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RDb250YWluZXJDaG9pY2VQaWNrZXIuc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RDb250YWluZXJDaG9pY2VQaWNrZXIubGFiZWwgPSBcIlNlbGVjdCBob3N0IGFwcDpcIlxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2hvc3RDb250YWluZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lckNob2ljZVBpY2tlci5jaG9pY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2hvc3RDb250YWluZXJzW2ldLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lckNob2ljZVBpY2tlci5vbkNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0Q29udGFpbmVyID0gdGhpcy5faG9zdENvbnRhaW5lcnNbcGFyc2VJbnQodGhpcy5faG9zdENvbnRhaW5lckNob2ljZVBpY2tlci52YWx1ZSldO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy50b29sYmFyLmFkZEVsZW1lbnQodGhpcy5faG9zdENvbnRhaW5lckNob2ljZVBpY2tlcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91bmRvQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLlVuZG8sXG4gICAgICAgICAgICBcIlVuZG9cIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tdW5kb1wiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnVuZG8oKTsgfSk7XG4gICAgICAgIHRoaXMuX3VuZG9CdXR0b24uc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdW5kb0J1dHRvbi50b29sVGlwID0gXCJVbmRvIHlvdXIgbGFzdCBjaGFuZ2VcIjtcbiAgICAgICAgdGhpcy5fdW5kb0J1dHRvbi5pc0VuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl91bmRvQnV0dG9uKTtcblxuICAgICAgICB0aGlzLl9yZWRvQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLlJlZG8sXG4gICAgICAgICAgICBcIlJlZG9cIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tcmVkb1wiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnJlZG8oKTsgfSk7XG4gICAgICAgIHRoaXMuX3JlZG9CdXR0b24udG9vbFRpcCA9IFwiUmVkbyB5b3VyIGxhc3QgY2hhbmdlc1wiO1xuICAgICAgICB0aGlzLl9yZWRvQnV0dG9uLmlzRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudG9vbGJhci5hZGRFbGVtZW50KHRoaXMuX3JlZG9CdXR0b24pO1xuXG4gICAgICAgIHRoaXMuX2NvcHlKU09OQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLkNvcHlKU09OLFxuICAgICAgICAgICAgXCJDb3B5IGNhcmQgcGF5bG9hZFwiLFxuICAgICAgICAgICAgXCJhY2QtaWNvbi1jb3B5XCIpO1xuICAgICAgICB0aGlzLl9jb3B5SlNPTkJ1dHRvbi50b29sVGlwID0gXCJDb3B5IHRoZSBnZW5lcmF0ZWQgSlNPTiBwYXlsb2FkIG9mIHRoZSBjYXJkICh0ZW1wbGF0ZSBib3VuZCB3aXRoIGRhdGEpIHRvIHRoZSBjbGlwYm9hcmQuIFRvIGNvcHkgb25seSB0aGUgdGVtcGxhdGUgcGF5bG9hZCwgdXNlIHRoZSBDYXJkIFBheWxvYWQgRWRpdG9yLlwiO1xuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl9jb3B5SlNPTkJ1dHRvbik7XG5cbiAgICAgICAgdGhpcy5fdG9nZ2xlUHJldmlld0J1dHRvbiA9IG5ldyBUb29sYmFyQnV0dG9uKFxuICAgICAgICAgICAgQ2FyZERlc2lnbmVyLlRvb2xiYXJDb21tYW5kcy5Ub2dnbGVQcmV2aWV3LFxuICAgICAgICAgICAgXCJQcmV2aWV3IG1vZGVcIixcbiAgICAgICAgICAgIFwiYWNkLWljb24tcHJldmlld1wiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnRvZ2dsZVByZXZpZXcoKTsgfSk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZVByZXZpZXdCdXR0b24uc2VwYXJhdG9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlUHJldmlld0J1dHRvbi5hbGxvd1RvZ2dsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RvZ2dsZVByZXZpZXdCdXR0b24uaXNWaXNpYmxlID0gU2hhcmVkLkdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydDtcblxuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl90b2dnbGVQcmV2aWV3QnV0dG9uKTtcblxuICAgICAgICB0aGlzLl9oZWxwQnV0dG9uID0gbmV3IFRvb2xiYXJCdXR0b24oXG4gICAgICAgICAgICBDYXJkRGVzaWduZXIuVG9vbGJhckNvbW1hbmRzLkhlbHAsXG4gICAgICAgICAgICBcIkhlbHBcIixcbiAgICAgICAgICAgIFwiYWNkLWljb24taGVscFwiLFxuICAgICAgICAgICAgKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4geyB0aGlzLnNob3dIZWxwKCk7IH0pO1xuICAgICAgICB0aGlzLl9oZWxwQnV0dG9uLnRvb2xUaXAgPSBcIkRpc3BsYXkgaGVscC5cIjtcbiAgICAgICAgdGhpcy5faGVscEJ1dHRvbi5zZXBhcmF0b3IgPSB0cnVlO1xuICAgICAgICB0aGlzLl9oZWxwQnV0dG9uLmFsaWdubWVudCA9IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LlJpZ2h0O1xuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkRWxlbWVudCh0aGlzLl9oZWxwQnV0dG9uKTtcblxuICAgICAgICB0aGlzLl9mdWxsU2NyZWVuSGFuZGxlciA9IG5ldyBGdWxsU2NyZWVuSGFuZGxlcigpO1xuICAgICAgICB0aGlzLl9mdWxsU2NyZWVuSGFuZGxlci5vbkZ1bGxTY3JlZW5DaGFuZ2VkID0gKGlzRnVsbFNjcmVlbjogYm9vbGVhbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFNjcmVlbkJ1dHRvbi50b29sVGlwID0gaXNGdWxsU2NyZWVuID8gXCJFeGl0IGZ1bGwgc2NyZWVuXCIgOiBcIkVudGVyIGZ1bGwgc2NyZWVuXCI7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVsbExheW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsYXVuY2hKc29uU2NoZW1hUG9wdXAoKSB7XG4gICAgICAgIGxldCBkaWFsb2cgPSBuZXcgT3Blbkpzb25TY2hlbWFEaWFsb2coKTtcbiAgICAgICAgZGlhbG9nLnRpdGxlID0gXCJDcmVhdGUgZnJvbSBKU09OIFNjaGVtYVwiO1xuICAgICAgICBkaWFsb2cuY2xvc2VCdXR0b24uY2FwdGlvbiA9IFwiQ2FuY2VsXCI7XG4gICAgICAgIGRpYWxvZy5wcmV2ZW50TGlnaHREaXNtaXNzYWwgPSB0cnVlO1xuICAgICAgICBkaWFsb2cud2lkdGggPSBcIjgwJVwiO1xuICAgICAgICBkaWFsb2cuaGVpZ2h0ID0gXCI4MCVcIjtcbiAgICAgICAgZGlhbG9nLm9wZW4oKTtcblxuICAgICAgICBkaWFsb2cuc3VibWl0QnV0dG9uLm9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgIGlmIChkaWFsb2cub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhcmRQYXlsb2FkID0gSlNPTi5wYXJzZShkaWFsb2cub3V0cHV0LmNhcmRQYXlsb2FkKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKGNhcmRQYXlsb2FkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJUaGUgY2FyZCB0ZW1wbGF0ZSBjb3VsZCBub3QgYmUgbG9hZGVkLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZy5vdXRwdXQuc2FtcGxlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbXBsZURhdGFQYXlsb2FkID0gSlNPTi5wYXJzZShkaWFsb2cub3V0cHV0LnNhbXBsZURhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNhbXBsZURhdGFQYXlsb2FkKHNhbXBsZURhdGFQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVN0cnVjdHVyZSA9IEZpZWxkRGVmaW5pdGlvbi5kZXJpdmVGcm9tKHNhbXBsZURhdGFQYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBjYXJkIGRhdGEgY291bGQgbm90IGJlIGxvYWRlZC5cIilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2FtcGxlRGF0YVBheWxvYWQoe30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3Q2FyZEJ1dHRvbiA9IHRoaXMuX25ld0NhcmRCdXR0b24ucmVuZGVyZWRFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAobmV3Q2FyZEJ1dHRvbikge1xuICAgICAgICAgICAgICAgIG5ld0NhcmRCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRpYWxvZy5vbkNsb3NlID0gKGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhcmRCdXR0b24gPSB0aGlzLl9uZXdDYXJkQnV0dG9uLnJlbmRlcmVkRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKG5ld0NhcmRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICBuZXdDYXJkQnV0dG9uLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIGxhdW5jaEltYWdlUG9wdXAoKSB7XG4gICAgICAgIGxldCBkaWFsb2cgPSBuZXcgT3BlbkltYWdlRGlhbG9nKCk7XG4gICAgICAgIGRpYWxvZy50aXRsZSA9IFwiUGljMmNhcmQgRGlhbG9nIGZvciBJbWFnZSBVcGxvYWRcIjtcbiAgICAgICAgZGlhbG9nLmNsb3NlQnV0dG9uLmNhcHRpb24gPSBcIkNhbmNlbFwiO1xuICAgICAgICBkaWFsb2cucHJldmVudExpZ2h0RGlzbWlzc2FsID0gdHJ1ZTtcbiAgICAgICAgZGlhbG9nLndpZHRoID0gXCI4MCVcIjtcbiAgICAgICAgZGlhbG9nLmhlaWdodCA9IFwiODAlXCI7XG4gICAgICAgIGRpYWxvZy5vcGVuKCk7XG4gICAgICAgIGRpYWxvZy5vbkNsb3NlID0gKGQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhcmRCdXR0b24gPSB0aGlzLl9uZXdDYXJkQnV0dG9uLnJlbmRlcmVkRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKGRpYWxvZy5wcmVkaWN0ZWRDYXJkSlNPTikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2FyZCwgZGF0YSB9ID0gZGlhbG9nLnByZWRpY3RlZENhcmRKU09OO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZFRvVW5kb1N0YWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2FyZFBheWxvYWQoY2FyZCwgYWRkVG9VbmRvU3RhY2spO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2FtcGxlRGF0YVBheWxvYWQoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbG9hZE5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIGxvYWROb3RpZmljYXRpb24uaWQgPSBcInBpYzJjYXJkTG9hZE5vdGlmaWNhdGlvblwiO1xuICAgICAgICAgICAgICAgIGxvYWROb3RpZmljYXRpb24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInN0YXR1c1wiKTtcbiAgICAgICAgICAgICAgICBsb2FkTm90aWZpY2F0aW9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJQaWMyQ2FyZCBnZW5lcmF0ZWQgQWRhcHRpdmUgQ2FyZCBsb2FkZWRcIik7XG5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIGEgYml0IG9kZCB0byBqdW1wIHVwIHRvIHRoZSBwYXJlbnQgZWxlbWVudCBoZXJlLCBidXQgd2UgbmVlZCBhIHBsYWNlIHRvIHBhcmsgdGhpcyBlbXB0eSBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gc28gdGhhdCBpdCdzIHNlZW4gYnkgYWNjZXNzaWJpbGl0eSB0b29scy4gSWYgd2UgcHV0IGl0IG9uIHRoZSBidXR0b24gaXRzZWxmLCB0aGUgc3RhdHVzIG1lc3NhZ2UgZ2V0c1xuICAgICAgICAgICAgICAgIC8vIHJlYWQgdHdpY2UgKG9uY2Ugb24gRE9NIGVudHJ5IGFuZCBhZ2FpbiBvbiBmb2N1cykuXG4gICAgICAgICAgICAgICAgbmV3Q2FyZEJ1dHRvbi5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGxvYWROb3RpZmljYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudCBuZWVkcyB0byBlbnRlciB0aGUgRE9NLCBidXQgc2hvdWxkbid0IHN0YXkgZm9yZXZlciwgbGVzdCBpdCBiZSByZWFkIGFnYWluLi4uXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NhcmRCdXR0b24ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChsb2FkTm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3Q2FyZEJ1dHRvbikge1xuICAgICAgICAgICAgICAgIG5ld0NhcmRCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uUmVzaXplKCkge1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yLmxheW91dCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zYW1wbGVEYXRhRWRpdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yLmxheW91dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTYW1wbGVEYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YSA9IEpTT04ucGFyc2UodGhpcy5nZXRDdXJyZW50U2FtcGxlRGF0YUVkaXRvclBheWxvYWQoKSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVVcGRhdGVDYXJkRnJvbUpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBTd2FsbG93IGV4cHJlc3Npb24sIHRoZSBwYXlsb2FkIGlzbid0IGEgdmFsaWQgSlNPTiBkb2N1bWVudFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVUb29sYmFyKCkge1xuICAgICAgICB0aGlzLl91bmRvQnV0dG9uLmlzRW5hYmxlZCA9IHRoaXMuY2FuVW5kbztcbiAgICAgICAgdGhpcy5fcmVkb0J1dHRvbi5pc0VuYWJsZWQgPSB0aGlzLmNhblJlZG87XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRUb1VuZG9TdGFjayhwYXlsb2FkOiBvYmplY3QpIHtcbiAgICAgICAgbGV0IGRvQWRkOiBib29sZWFuID0gIXRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5kcmFnZ2VkUGVlcjtcblxuICAgICAgICBpZiAoZG9BZGQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl91bmRvU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGRvQWRkID0gdGhpcy5fdW5kb1N0YWNrW3RoaXMuX3VuZG9TdGFjay5sZW5ndGggLSAxXSAhPSBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZG9BZGQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdW5kb1BheWxvYWRzVG9EaXNjYXJkID0gdGhpcy5fdW5kb1N0YWNrLmxlbmd0aCAtICh0aGlzLl91bmRvU3RhY2tJbmRleCArIDEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVuZG9QYXlsb2Fkc1RvRGlzY2FyZCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrLnNwbGljZSh0aGlzLl91bmRvU3RhY2tJbmRleCArIDEsIHVuZG9QYXlsb2Fkc1RvRGlzY2FyZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrLnB1c2gocGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdW5kb1N0YWNrLmxlbmd0aCA+IENhcmREZXNpZ25lci5NQVhfVU5ET19TVEFDS19TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VuZG9TdGFjay5zcGxpY2UoMCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrSW5kZXggPSB0aGlzLl91bmRvU3RhY2subGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbGJhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVQb2ludGVyVXAoZTogUG9pbnRlckV2ZW50KSB7XG4gICAgICAgIHRoaXMuZW5kRHJhZygpO1xuXG4gICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZSkge1xuICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UuZW5kRHJhZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVBvaW50ZXJNb3ZlKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbiA9IHsgeDogZS54LCB5OiBlLnkgfTtcblxuICAgICAgICBpZiAodGhpcy5kZXNpZ25lclN1cmZhY2UpIHtcbiAgICAgICAgICAgIGxldCBpc1BvaW50ZXJPdmVyRGVzaWduZXIgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5pc1BvaW50ZXJPdmVyKHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uLngsIHRoaXMuX2N1cnJlbnRNb3VzZVBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgbGV0IHBlZXJEcm9wcGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0gJiYgaXNQb2ludGVyT3ZlckRlc2lnbmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBlZXIgPSB0aGlzLl9kcmFnZ2VkUGFsZXR0ZUl0ZW0uY3JlYXRlUGVlcih0aGlzLCB0aGlzLmRlc2lnbmVyU3VyZmFjZSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgY2xpZW50Q29vcmRpbmF0ZXMgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5wYWdlVG9DbGllbnRDb29yZGluYXRlcyh0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbi54LCB0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbi55KTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlc2lnbmVyU3VyZmFjZS50cnlEcm9wKGNsaWVudENvb3JkaW5hdGVzLCBwZWVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZERyYWcoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2lnbmVyU3VyZmFjZS5zdGFydERyYWcocGVlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgcGVlckRyb3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFwZWVyRHJvcHBlZCAmJiB0aGlzLl9kcmFnZ2VkRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkUG9zaXRpb24gPSBVdGlscy5hZGp1c3RQb2ludEZvclNjcm9sbCh0aGlzLl9jdXJyZW50TW91c2VQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQuc3R5bGUubGVmdCA9IGFkanVzdGVkUG9zaXRpb24ueCAtIDEwICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdnZWRFbGVtZW50LnN0eWxlLnRvcCA9IGFkanVzdGVkUG9zaXRpb24ueSAtIDEwICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgdG9vbGJhcjogVG9vbGJhciA9IG5ldyBUb29sYmFyKCk7XG5cbiAgICBsb2NrRGF0YVN0cnVjdHVyZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoaG9zdENvbnRhaW5lcnM6IEFycmF5PEhvc3RDb250YWluZXI+ID0gbnVsbCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIEFkYXB0aXZlLkdsb2JhbFNldHRpbmdzLmVuYWJsZUZ1bGxKc29uUm91bmRUcmlwID0gdHJ1ZTtcbiAgICAgICAgQWRhcHRpdmUuR2xvYmFsU2V0dGluZ3MuYWxsb3dQcmVQcm9jZXNzaW5nUHJvcGVydHlWYWx1ZXMgPSB0cnVlO1xuICAgICAgICBBZGFwdGl2ZS5HbG9iYWxTZXR0aW5ncy5zZXRUYWJJbmRleEF0Q2FyZFJvb3QgPSBmYWxzZTtcblxuICAgICAgICBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQub25Qcm9jZXNzTWFya2Rvd24gPSAodGV4dDogc3RyaW5nLCByZXN1bHQ6IEFkYXB0aXZlLklNYXJrZG93blByb2Nlc3NpbmdSZXN1bHQpID0+IHtcbiAgICAgICAgICAgIENhcmREZXNpZ25lci5pbnRlcm5hbFByb2Nlc3NNYXJrZG93bih0ZXh0LCByZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faG9zdENvbnRhaW5lcnMgPSBob3N0Q29udGFpbmVycyA/IGhvc3RDb250YWluZXJzIDogW107XG5cbiAgICAgICAgdGhpcy5wcmVwYXJlVG9vbGJhcigpO1xuICAgIH1cblxuICAgIG1vbmFjb01vZHVsZUxvYWRlZChtb25hY286IGFueSA9IG51bGwpIHtcblx0XHRpZiAoIW1vbmFjbykge1xuICAgICAgICAgICAgbW9uYWNvID0gd2luZG93W1wibW9uYWNvXCJdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1vbmFjb0NvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAgICAgICBzY2hlbWFzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB1cmk6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBhZGFwdGl2ZUNhcmRTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVNYXRjaDogW1wiKlwiXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgdmFsaWRhdGU6IHRydWUsXG4gICAgICAgICAgICBhbGxvd0NvbW1lbnRzOiB0cnVlXG4gICAgICAgIH1cblxuXHRcdC8vIFRPRE86IHNldCB0aGlzIGluIG91ciBlZGl0b3IgaW5zdGVhZCBvZiBkZWZhdWx0c1xuICAgICAgICBtb25hY28ubGFuZ3VhZ2VzLmpzb24uanNvbkRlZmF1bHRzLnNldERpYWdub3N0aWNzT3B0aW9ucyhtb25hY29Db25maWd1cmF0aW9uKTtcblxuICAgICAgICAvLyBTZXR1cCBjYXJkIEpTT04gZWRpdG9yXG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3JUb29sYm94LmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJyZWdpb25cIik7XG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3JUb29sYm94LmNvbnRlbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcImNhcmQgcGF5bG9hZCBlZGl0b3JcIik7XG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3JUb29sYm94LmNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImFjZC1jb2RlLWVkaXRvclwiKTtcblxuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yID0gbW9uYWNvLmVkaXRvci5jcmVhdGUoXG4gICAgICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvbGRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDEzLjUsXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBtaW5pbWFwOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY2FyZEVkaXRvclVwZGF0ZUNvdW50ZXIgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVVcGRhdGVDYXJkRnJvbUpzb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NhbXBsZURhdGFFZGl0b3JUb29sYm94KSB7XG4gICAgICAgICAgICAvLyBTZXR1cCBzYW1wbGUgZGF0YSBKU09OIGVkaXRvclxuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveC5jb250ZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJyZWdpb25cIik7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveC5jb250ZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJzYW1wbGUgZGF0YSBlZGl0b3JcIik7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveC5jb250ZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtY29kZS1lZGl0b3JcIik7XG5cbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3IgPSBtb25hY28uZWRpdG9yLmNyZWF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveC5jb250ZW50LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEzLjUsXG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltYXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxDb250ZW50KFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTYW1wbGVEYXRhKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvY2tEYXRhU3RydWN0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVN0cnVjdHVyZSA9IEZpZWxkRGVmaW5pdGlvbi5kZXJpdmVGcm9tKEpTT04ucGFyc2UodGhpcy5nZXRDdXJyZW50U2FtcGxlRGF0YUVkaXRvclBheWxvYWQoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7IHRoaXMub25SZXNpemUoKTsgfSk7XG5cbiAgICAgICAgdGhpcy5faXNNb25hY29FZGl0b3JMb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlSnNvbkVkaXRvcnNMYXlvdXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVKc29uRnJvbUNhcmQodHJ1ZSk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8ocm9vdDogSFRNTEVsZW1lbnQpICB7XG4gICAgICAgIGxldCBzdHlsZVNoZWV0TGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgc3R5bGVTaGVldExpbmtFbGVtZW50LmlkID0gXCJfX2FjLWRlc2lnbmVyXCI7XG4gICAgICAgIHN0eWxlU2hlZXRMaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblx0XHRzdHlsZVNoZWV0TGlua0VsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICAgICAgc3R5bGVTaGVldExpbmtFbGVtZW50LmhyZWYgPSBVdGlscy5qb2luUGF0aHModGhpcy5fYXNzZXRQYXRoLCBcImFkYXB0aXZlY2FyZHMtZGVzaWduZXIuY3NzXCIpO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChzdHlsZVNoZWV0TGlua0VsZW1lbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob3N0Q29udGFpbmVycyAmJiB0aGlzLl9ob3N0Q29udGFpbmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9ob3N0Q29udGFpbmVyID0gdGhpcy5faG9zdENvbnRhaW5lcnNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9ob3N0Q29udGFpbmVyID0gbmV3IERlZmF1bHRDb250YWluZXIoXCJEZWZhdWx0XCIsIFwiYWRhcHRpdmVjYXJkcy1kZWZhdWx0aG9zdC5jc3NcIik7XG4gICAgICAgIH1cblxuICAgICAgICByb290LmNsYXNzTGlzdC5hZGQoXCJhY2QtZGVzaWduZXItcm9vdFwiKTtcbiAgICAgICAgcm9vdC5zdHlsZS5mbGV4ID0gXCIxIDEgYXV0b1wiO1xuICAgICAgICByb290LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgcm9vdC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcbiAgICAgICAgcm9vdC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cbiAgICAgICAgcm9vdC5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxkaXYgaWQ9XCJ0b29sYmFySG9zdFwiIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxhYmVsPVwidG9vbGJhclwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250ZW50XCI+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJsZWZ0Q29sbGFwc2VkUGFuZVRhYkhvc3RcIiBjbGFzcz1cImFjZC12ZXJ0aWNhbENvbGxhcHNlZFRhYkNvbnRhaW5lciBhY2QtZG9ja2VkTGVmdFwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwidG9vbFBhbGV0dGVQYW5lbFwiIGNsYXNzPVwiYWNkLXRvb2xQYWxldHRlLXBhbmVcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cImNhcmQgZWxlbWVudHNcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFjZC1wcmV2aWV3UmlnaHRBbmRCb3R0b21Eb2Nrc1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImFjZC1wcmV2aWV3QW5kQm90dG9tRG9ja3NcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWNkLWRlc2lnbmVyLWNhcmQtaGVhZGVyXCI+Q0FSRCBQUkVWSUVXPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD1cImNhcmRBcmVhXCIgY2xhc3M9XCJhY2QtZGVzaWduZXItY2FyZEFyZWFcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cImNhcmQgcHJldmlld1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiZmxleDogMSAxIDEwMCU7IG92ZXJmbG93OiBhdXRvO1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD1cImRlc2lnbmVySG9zdFwiIGNsYXNzPVwiYWNkLWRlc2lnbmVyLWhvc3RcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJlcnJvclBhbmVcIiBjbGFzcz1cImFjZC1lcnJvci1wYW5lIGFjZC1oaWRkZW5cIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwidHJlZVZpZXdQYW5lbFwiIGNsYXNzPVwiYWNkLXRyZWVWaWV3LXBhbmVcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cImNhcmQgc3RydWN0dXJlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwicHJvcGVydHlTaGVldFBhbmVsXCIgY2xhc3M9XCJhY2QtcHJvcGVydHlTaGVldC1wYW5lXCIgcm9sZT1cInJlZ2lvblwiIGFyaWEtbGFiZWw9XCJlbGVtZW50IHByb3BlcnRpZXNcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD1cImpzb25FZGl0b3JQYW5lbFwiIGNsYXNzPVwiYWNkLWpzb24tZWRpdG9yLXBhbmVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJib3R0b21Db2xsYXBzZWRQYW5lVGFiSG9zdFwiIGNsYXNzPVwiYWNkLWhvcml6b250YWxDb2xsYXBzZWRUYWJDb250YWluZXJcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJyaWdodENvbGxhcHNlZFBhbmVUYWJIb3N0XCIgY2xhc3M9XCJhY2QtdmVydGljYWxDb2xsYXBzZWRUYWJDb250YWluZXIgYWNkLWRvY2tlZFJpZ2h0XCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICB0aGlzLnRvb2xiYXIuYXR0YWNoVG8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b29sYmFySG9zdFwiKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIuc2VsZWN0ZWRJbmRleCA9IFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5zdXBwb3J0ZWRUYXJnZXRWZXJzaW9ucy5pbmRleE9mKHRoaXMudGFyZ2V0VmVyc2lvbik7XG4gICAgICAgICAgICB0aGlzLl92ZXJzaW9uQ2hvaWNlUGlja2VyLm9uQ2hhbmdlZCA9IChzZW5kZXI6IFRvb2xiYXJDaG9pY2VQaWNrZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldFZlcnNpb24gPSBTaGFyZWQuR2xvYmFsU2V0dGluZ3Muc3VwcG9ydGVkVGFyZ2V0VmVyc2lvbnNbcGFyc2VJbnQodGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlci52YWx1ZSldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvcHlKU09OQnV0dG9uLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgbmV3IENsaXBib2FyZChcbiAgICAgICAgICAgICAgICB0aGlzLl9jb3B5SlNPTkJ1dHRvbi5yZW5kZXJlZEVsZW1lbnQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAodHJpZ2dlcikgPT4gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRCb3VuZENhcmQoKSwgbnVsbCwgNClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbihcImVycm9yXCIsICgpID0+IHRoaXMuX2NvcHlKU09OQnV0dG9uLnJlbmRlcmVkRWxlbWVudC5mb2N1cygpKVxuICAgICAgICAgICAgICAgIC5vbihcInN1Y2Nlc3NcIiwgKCkgPT4gdGhpcy5fY29weUpTT05CdXR0b24ucmVuZGVyZWRFbGVtZW50LmZvY3VzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9vbCBwYWxldHRlIHBhbmVsXG4gICAgICAgIGxldCB0b29sUGFsZXR0ZUhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0b29sUGFsZXR0ZUhvc3QuY2xhc3NOYW1lID0gXCJhY2QtZG9ja2VkUGFuZVwiO1xuXG4gICAgICAgIHRoaXMuX3Rvb2xQYWxldHRlVG9vbGJveCA9IG5ldyBUb29sYm94KFwidG9vbFBhbGV0dGVcIiwgU3RyaW5ncy50b29sYm94ZXMudG9vbFBhbGV0dGUudGl0bGUpO1xuICAgICAgICB0aGlzLl90b29sUGFsZXR0ZVRvb2xib3guY29udGVudCA9IHRvb2xQYWxldHRlSG9zdDtcblxuICAgICAgICBsZXQgdG9vbFBhbGV0dGVQYW5lbCA9IG5ldyBTaWRlUGFuZWwoXG4gICAgICAgICAgICBcInRvb2xQYWxldHRlUGFuZWxcIixcbiAgICAgICAgICAgIFNpZGVQYW5lbEFsaWdubWVudC5MZWZ0LFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWZ0Q29sbGFwc2VkUGFuZVRhYkhvc3RcIikpO1xuICAgICAgICB0b29sUGFsZXR0ZVBhbmVsLmFkZFRvb2xib3godGhpcy5fdG9vbFBhbGV0dGVUb29sYm94KTtcbiAgICAgICAgdG9vbFBhbGV0dGVQYW5lbC5pc1Jlc2l6YWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRvb2xQYWxldHRlUGFuZWwuYXR0YWNoVG8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b29sUGFsZXR0ZVBhbmVsXCIpKTtcblxuICAgICAgICAvLyBKU09OIGVkaXRvcnMgcGFuZWxcbiAgICAgICAgdGhpcy5fY2FyZEVkaXRvclRvb2xib3ggPSBuZXcgVG9vbGJveChcImNhcmRFZGl0b3JcIiwgU3RyaW5ncy50b29sYm94ZXMuY2FyZEVkaXRvci50aXRsZSk7XG4gICAgICAgIHRoaXMuX2NhcmRFZGl0b3JUb29sYm94LmNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50LnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICB0aGlzLl9jYXJkRWRpdG9yVG9vbGJveC5jb250ZW50LmlubmVyVGV4dCA9IFN0cmluZ3MubG9hZGluZ0VkaXRvcjtcblxuICAgICAgICB0aGlzLl9qc29uRWRpdG9yc1BhbmVsID0gbmV3IFNpZGVQYW5lbChcbiAgICAgICAgICAgIFwianNvbkVkaXRvclBhbmVsXCIsXG4gICAgICAgICAgICBTaWRlUGFuZWxBbGlnbm1lbnQuQm90dG9tLFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib3R0b21Db2xsYXBzZWRQYW5lVGFiSG9zdFwiKSk7XG4gICAgICAgIHRoaXMuX2pzb25FZGl0b3JzUGFuZWwub25SZXNpemVkID0gKHNlbmRlcjogU2lkZVBhbmVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUpzb25FZGl0b3JzTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fanNvbkVkaXRvcnNQYW5lbC5vblRvb2xib3hSZXNpemVkID0gKHNlbmRlcjogU2lkZVBhbmVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUpzb25FZGl0b3JzTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fanNvbkVkaXRvcnNQYW5lbC5vblRvb2xib3hFeHBhbmRlZE9yQ29sbGFwc2VkID0gKHNlbmRlcjogU2lkZVBhbmVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUpzb25FZGl0b3JzTGF5b3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9qc29uRWRpdG9yc1BhbmVsLmFkZFRvb2xib3godGhpcy5fY2FyZEVkaXRvclRvb2xib3gpO1xuXG4gICAgICAgIGlmIChTaGFyZWQuR2xvYmFsU2V0dGluZ3MuZW5hYmxlRGF0YUJpbmRpbmdTdXBwb3J0ICYmIFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5zaG93U2FtcGxlRGF0YUVkaXRvclRvb2xib3gpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFFZGl0b3JUb29sYm94ID0gbmV3IFRvb2xib3goXCJzYW1wbGVEYXRhRWRpdG9yXCIsIFN0cmluZ3MudG9vbGJveGVzLnNhbXBsZURhdGFFZGl0b3IudGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveC5jb250ZW50LnN0eWxlLnBhZGRpbmcgPSBcIjhweFwiO1xuICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YUVkaXRvclRvb2xib3guY29udGVudC5pbm5lclRleHQgPSBTdHJpbmdzLmxvYWRpbmdFZGl0b3I7XG5cbiAgICAgICAgICAgIHRoaXMuX2pzb25FZGl0b3JzUGFuZWwuYWRkVG9vbGJveCh0aGlzLl9zYW1wbGVEYXRhRWRpdG9yVG9vbGJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9qc29uRWRpdG9yc1BhbmVsLmF0dGFjaFRvKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwianNvbkVkaXRvclBhbmVsXCIpKTtcblxuICAgICAgICAvLyBQcm9wZXJ0eSBzaGVldCBwYW5lbFxuICAgICAgICBsZXQgcHJvcGVydHlTaGVldEhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwcm9wZXJ0eVNoZWV0SG9zdC5jbGFzc05hbWUgPSBcImFjZC1wcm9wZXJ0eVNoZWV0LWhvc3RcIjtcblxuICAgICAgICB0aGlzLl9wcm9wZXJ0eVNoZWV0VG9vbGJveCA9IG5ldyBUb29sYm94KFwicHJvcGVydHlTaGVldFwiLCBTdHJpbmdzLnRvb2xib3hlcy5wcm9wZXJ0eVNoZWV0LnRpdGxlKTtcbiAgICAgICAgdGhpcy5fcHJvcGVydHlTaGVldFRvb2xib3guY29udGVudCA9IHByb3BlcnR5U2hlZXRIb3N0O1xuXG4gICAgICAgIGxldCBwcm9wZXJ0eVNoZWV0UGFuZWwgPSBuZXcgU2lkZVBhbmVsKFxuICAgICAgICAgICAgXCJwcm9wZXJ0eVNoZWV0UGFuZWxcIixcbiAgICAgICAgICAgIFNpZGVQYW5lbEFsaWdubWVudC5SaWdodCxcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmlnaHRDb2xsYXBzZWRQYW5lVGFiSG9zdFwiKSk7XG4gICAgICAgIHByb3BlcnR5U2hlZXRQYW5lbC5hZGRUb29sYm94KHRoaXMuX3Byb3BlcnR5U2hlZXRUb29sYm94KTtcbiAgICAgICAgcHJvcGVydHlTaGVldFBhbmVsLm9uUmVzaXplZCA9IChzZW5kZXI6IFNpZGVQYW5lbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUxheW91dFVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydHlTaGVldFBhbmVsLmF0dGFjaFRvKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvcGVydHlTaGVldFBhbmVsXCIpKTtcblxuICAgICAgICAvLyBUcmVlIHZpZXcgcGFuZWxcbiAgICAgICAgbGV0IHRyZWVWaWV3SG9zdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRyZWVWaWV3SG9zdC5jbGFzc05hbWUgPSBcImFjZC10cmVlVmlldy1ob3N0XCI7XG5cbiAgICAgICAgdGhpcy5fdHJlZVZpZXdUb29sYm94ID0gbmV3IFRvb2xib3goXCJ0cmVlVmlld1wiLCBTdHJpbmdzLnRvb2xib3hlcy5jYXJkU3RydWN0dXJlLnRpdGxlKTtcbiAgICAgICAgdGhpcy5fdHJlZVZpZXdUb29sYm94LmNvbnRlbnQgPSB0cmVlVmlld0hvc3Q7XG5cbiAgICAgICAgbGV0IHRyZWVWaWV3UGFuZWwgPSBuZXcgU2lkZVBhbmVsKFxuICAgICAgICAgICAgXCJ0cmVlVmlld1BhbmVsXCIsXG4gICAgICAgICAgICBTaWRlUGFuZWxBbGlnbm1lbnQuUmlnaHQsXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpZ2h0Q29sbGFwc2VkUGFuZVRhYkhvc3RcIikpO1xuICAgICAgICB0cmVlVmlld1BhbmVsLmFkZFRvb2xib3godGhpcy5fdHJlZVZpZXdUb29sYm94KTtcbiAgICAgICAgdHJlZVZpZXdQYW5lbC5vblJlc2l6ZWQgPSAoc2VuZGVyOiBTaWRlUGFuZWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVMYXlvdXRVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChTaGFyZWQuR2xvYmFsU2V0dGluZ3MuZW5hYmxlRGF0YUJpbmRpbmdTdXBwb3J0ICYmIFNoYXJlZC5HbG9iYWxTZXR0aW5ncy5zaG93RGF0YVN0cnVjdHVyZVRvb2xib3gpIHtcbiAgICAgICAgICAgIGxldCBkYXRhRXhwbG9yZXJIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGRhdGFFeHBsb3Jlckhvc3QuY2xhc3NOYW1lID0gXCJhY2QtdHJlZVZpZXctaG9zdFwiO1xuXG4gICAgICAgICAgICB0aGlzLl9kYXRhVG9vbGJveCA9IG5ldyBUb29sYm94KFwiZGF0YVwiLCBTdHJpbmdzLnRvb2xib3hlcy5kYXRhU3RydWN0dXJlLnRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMuX2RhdGFUb29sYm94LmNvbnRlbnQgPSBkYXRhRXhwbG9yZXJIb3N0O1xuXG4gICAgICAgICAgICB0cmVlVmlld1BhbmVsLmFkZFRvb2xib3godGhpcy5fZGF0YVRvb2xib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJlZVZpZXdQYW5lbC5hdHRhY2hUbyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyZWVWaWV3UGFuZWxcIikpO1xuXG4gICAgICAgIHRoaXMuX2Rlc2lnbmVySG9zdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2lnbmVySG9zdFwiKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIChlOiBQb2ludGVyRXZlbnQpID0+IHsgdGhpcy5oYW5kbGVQb2ludGVyTW92ZShlKTsgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHsgdGhpcy5zY2hlZHVsZUxheW91dFVwZGF0ZSgpOyB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgKGU6IFBvaW50ZXJFdmVudCkgPT4geyB0aGlzLmhhbmRsZVBvaW50ZXJVcChlKTsgfSk7XG5cbiAgICAgICAgdGhpcy5faXNBdHRhY2hlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5yZWNyZWF0ZURlc2lnbmVyU3VyZmFjZSgpO1xuICAgIH1cblxuICAgIGNsZWFyVW5kb1N0YWNrKCkge1xuICAgICAgICB0aGlzLl91bmRvU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy5fdW5kb1N0YWNrSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy51cGRhdGVUb29sYmFyKCk7XG4gICAgfVxuXG4gICAgc2V0Q2FyZChwYXlsb2FkOiBvYmplY3QpIHtcbiAgICAgICAgdGhpcy5jbGVhclVuZG9TdGFjaygpO1xuICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKHBheWxvYWQsIHRydWUpO1xuICAgIH1cblxuICAgIGdldENhcmQoKTogb2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZSA/IHRoaXMuX2Rlc2lnbmVyU3VyZmFjZS5nZXRDYXJkUGF5bG9hZEFzT2JqZWN0KCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0Qm91bmRDYXJkKCk6IG9iamVjdCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNpZ25lclN1cmZhY2UgPyB0aGlzLl9kZXNpZ25lclN1cmZhY2UuZ2V0Qm91bmRDYXJkUGF5bG9hZEFzT2JqZWN0KCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdW5kbygpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuVW5kbykge1xuICAgICAgICAgICAgdGhpcy5fdW5kb1N0YWNrSW5kZXgtLTtcblxuICAgICAgICAgICAgbGV0IGNhcmQgPSB0aGlzLl91bmRvU3RhY2tbdGhpcy5fdW5kb1N0YWNrSW5kZXhdO1xuXG4gICAgICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKGNhcmQsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVG9vbGJhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVkbygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VuZG9TdGFja0luZGV4IDwgdGhpcy5fdW5kb1N0YWNrLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuX3VuZG9TdGFja0luZGV4Kys7XG5cbiAgICAgICAgICAgIGxldCBwYXlsb2FkID0gdGhpcy5fdW5kb1N0YWNrW3RoaXMuX3VuZG9TdGFja0luZGV4XTtcblxuICAgICAgICAgICAgdGhpcy5zZXRDYXJkUGF5bG9hZChwYXlsb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRvb2xiYXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dIZWxwKCkge1xuICAgICAgICBsZXQgaGVscERpYWxvZyA9IG5ldyBIZWxwRGlhbG9nKCk7XG4gICAgICAgIGhlbHBEaWFsb2cudGl0bGUgPSBcIkhlbHBcIjtcbiAgICAgICAgaGVscERpYWxvZy5vcGVuKCk7XG4gICAgfVxuXG4gICAgbmV3Q2FyZCgpIHtcbiAgICAgICAgbGV0IGNhcmQgPSB7XG4gICAgICAgICAgICB0eXBlOiBcIkFkYXB0aXZlQ2FyZFwiLFxuICAgICAgICAgICAgJHNjaGVtYTogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiLFxuICAgICAgICAgICAgdmVyc2lvbjogdGhpcy50YXJnZXRWZXJzaW9uLnRvU3RyaW5nKCksXG4gICAgICAgICAgICBib2R5OiBbXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldENhcmRQYXlsb2FkKGNhcmQsIHRydWUpO1xuICAgIH1cblxuICAgIG9uQ2FyZFBheWxvYWRDaGFuZ2VkOiAoZGVzaWduZXI6IENhcmREZXNpZ25lcikgPT4gdm9pZDtcbiAgICBvbkNhcmRWYWxpZGF0ZWQ6IChkZXNpZ25lcjogQ2FyZERlc2lnbmVyLCB2YWxpZGF0aW9uTG9nRW50cmllczogQWRhcHRpdmUuSVZhbGlkYXRpb25FdmVudFtdKSA9PiB2b2lkO1xuICAgIG9uQWN0aXZlSG9zdENvbnRhaW5lckNoYW5nZWQ6IChkZXNpZ25lcjogQ2FyZERlc2lnbmVyKSA9PiB2b2lkO1xuICAgIG9uVGFyZ2V0VmVyc2lvbkNoYW5nZWQ6IChkZXNpZ25lcjogQ2FyZERlc2lnbmVyKSA9PiB2b2lkO1xuXG4gICAgZ2V0IHRhcmdldFZlcnNpb24oKTogQWRhcHRpdmUuVmVyc2lvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXRWZXJzaW9uO1xuICAgIH1cblxuICAgIHNldCB0YXJnZXRWZXJzaW9uKHZhbHVlOiBBZGFwdGl2ZS5WZXJzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl90YXJnZXRWZXJzaW9uLmNvbXBhcmVUbyh2YWx1ZSkgIT09IDAgJiYgIXRoaXMuX3ByZXZlbnRSZWN1cnNpdmVTZXRUYXJnZXRWZXJzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmV2ZW50UmVjdXJzaXZlU2V0VGFyZ2V0VmVyc2lvbiA9IHRydWU7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0VmVyc2lvbiA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRWZXJzaW9uQ2hhbmdlZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZlcnNpb25DaG9pY2VQaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmVyc2lvbkNob2ljZVBpY2tlci5zZWxlY3RlZEluZGV4ID0gU2hhcmVkLkdsb2JhbFNldHRpbmdzLnN1cHBvcnRlZFRhcmdldFZlcnNpb25zLmluZGV4T2YodGhpcy5fdGFyZ2V0VmVyc2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldmVudFJlY3Vyc2l2ZVNldFRhcmdldFZlcnNpb24gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBkYXRhU3RydWN0dXJlKCk6IEZpZWxkRGVmaW5pdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhU3RydWN0dXJlO1xuICAgIH1cblxuICAgIHNldCBkYXRhU3RydWN0dXJlKHZhbHVlOiBGaWVsZERlZmluaXRpb24pIHtcbiAgICAgICAgdGhpcy5fZGF0YVN0cnVjdHVyZSA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMuYnVpbGREYXRhRXhwbG9yZXIoKTtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlRGF0YSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FtcGxlRGF0YTtcbiAgICB9XG5cbiAgICBzZXQgc2FtcGxlRGF0YSh2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuX3NhbXBsZURhdGEgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnNldFNhbXBsZURhdGFQYXlsb2FkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXQgYmluZGluZ1ByZXZpZXdNb2RlKCk6IERlc2lnbmVyLkJpbmRpbmdQcmV2aWV3TW9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iaW5kaW5nUHJldmlld01vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJpbmRpbmdQcmV2aWV3TW9kZSh2YWx1ZTogRGVzaWduZXIuQmluZGluZ1ByZXZpZXdNb2RlKSB7XG4gICAgICAgIHRoaXMuX2JpbmRpbmdQcmV2aWV3TW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBob3N0Q29udGFpbmVyKCk6IEhvc3RDb250YWluZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5faG9zdENvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBzZXQgaG9zdENvbnRhaW5lcih2YWx1ZTogSG9zdENvbnRhaW5lcikge1xuICAgICAgICBpZiAodGhpcy5faG9zdENvbnRhaW5lciAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvc3RDb250YWluZXIgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVIb3N0Q29udGFpbmVyQ2hhbmdlZCgpO1xuXG4gICAgICAgICAgICBpZiAoU2hhcmVkLkdsb2JhbFNldHRpbmdzLnNlbGVjdGVkSG9zdENvbnRhaW5lckNvbnRyb2xzVGFyZ2V0VmVyc2lvbikge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0VmVyc2lvbiA9IHRoaXMuX2hvc3RDb250YWluZXIudGFyZ2V0VmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjYW5VbmRvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdW5kb1N0YWNrSW5kZXggPj0gMTtcbiAgICB9XG5cbiAgICBnZXQgY2FuUmVkbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VuZG9TdGFja0luZGV4IDwgdGhpcy5fdW5kb1N0YWNrLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgZ2V0IGRlc2lnbmVyU3VyZmFjZSgpOiBEZXNpZ25lci5DYXJkRGVzaWduZXJTdXJmYWNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2lnbmVyU3VyZmFjZTtcbiAgICB9XG5cbiAgICBnZXQgdHJlZVZpZXdUb29sYm94KCk6IFRvb2xib3gge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJlZVZpZXdUb29sYm94O1xuICAgIH1cblxuICAgIGdldCBwcm9wZXJ0eVNoZWV0VG9vbGJveCgpOiBUb29sYm94IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnR5U2hlZXRUb29sYm94O1xuICAgIH1cblxuICAgIGdldCBqc29uRWRpdG9yVG9vbGJveCgpOiBUb29sYm94IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFZGl0b3JUb29sYm94O1xuICAgIH1cblxuICAgIGdldCB0b29sUGFsZXR0ZVRvb2xib3goKTogVG9vbGJveCB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b29sUGFsZXR0ZVRvb2xib3g7XG5cdH1cblxuICAgIGdldCBkYXRhVG9vbGJveCgpOiBUb29sYm94IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFUb29sYm94O1xuXHR9XG5cblx0Z2V0IGFzc2V0UGF0aCgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLl9hc3NldFBhdGg7XG5cdH1cblxuXHRzZXQgYXNzZXRQYXRoKHZhbHVlOiBzdHJpbmcpIHtcblx0XHR0aGlzLl9hc3NldFBhdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgY3VzdG9tUGFsZXR0ZUl0ZW1zKCk6IEN1c3RvbVBhbGV0dGVJdGVtW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tUGVsZXR0ZUl0ZW1zO1xuICAgIH1cblxuICAgIHNldCBjdXN0b21QYWxldHRlSXRlbXModmFsdWU6IEN1c3RvbVBhbGV0dGVJdGVtW10pIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tUGVsZXR0ZUl0ZW1zID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5idWlsZFBhbGV0dGUoKTtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlQ2F0YWxvZ3VlVXJsKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYW1wbGVDYXRhbG9ndWUudXJsO1xuICAgIH1cblxuICAgIHNldCBzYW1wbGVDYXRhbG9ndWVVcmwodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zYW1wbGVDYXRhbG9ndWUudXJsID0gdmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgbW9kdWxlIENhcmREZXNpZ25lciB7XG4gICAgZXhwb3J0IGNsYXNzIFRvb2xiYXJDb21tYW5kcyB7XG4gICAgICAgIHN0YXRpYyByZWFkb25seSBIb3N0QXBwUGlja2VyID0gXCJfX2hvc3RBcHBQaWNrZXJcIjtcbiAgICAgICAgc3RhdGljIHJlYWRvbmx5IFZlcnNpb25QaWNrZXIgPSBcIl9fdmVyc2lvblBpY2tlclwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgVW5kbyA9IFwiX191bmRvQnV0dG9uXCI7XG4gICAgICAgIHN0YXRpYyByZWFkb25seSBSZWRvID0gXCJfX3JlZG9CdXR0b25cIjtcbiAgICAgICAgc3RhdGljIHJlYWRvbmx5IE5ld0NhcmQgPSBcIl9fbmV3Q2FyZEJ1dHRvblwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgQ29weUpTT04gPSBcIl9fY29weUpzb25CdXR0b25cIjtcbiAgICAgICAgc3RhdGljIHJlYWRvbmx5IFRvZ2dsZVByZXZpZXcgPSBcIl9fdG9nZ2xlUHJldmlld0J1dHRvblwiO1xuICAgICAgICBzdGF0aWMgcmVhZG9ubHkgSGVscCA9IFwiX19oZWxwQnV0dG9uXCI7XG4gICAgfVxufVxuIiwiaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IERvd25sb2FkZXIgfSBmcm9tIFwiLi9kb3dubG9hZGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBDYXRhbG9ndWVFbnRyeSB7XG4gICAgcHJpdmF0ZSBfY2FyZFBheWxvYWQ6IHN0cmluZztcbiAgICBwcml2YXRlIF9jYXJkUGF5bG9hZERvd25sb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zYW1wbGVEYXRhOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfc2FtcGxlRGF0YURvd25sb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9jYXJkSWQ6IHN0cmluZztcblxuICAgIHByaXZhdGUgZG93bmxvYWRDb21wbGV0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYXJkUGF5bG9hZERvd25sb2FkZWQgJiYgdGhpcy5fc2FtcGxlRGF0YURvd25sb2FkZWQgJiYgdGhpcy5vbkRvd25sb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Eb3dubG9hZGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2FtcGxlRGF0YVVybD86IHN0cmluZztcblxuICAgIG9uRG93bmxvYWRlZDogKHNlbmRlcjogQ2F0YWxvZ3VlRW50cnkpID0+IHZvaWQgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZGlzcGxheU5hbWU6IHN0cmluZywgcmVhZG9ubHkgY2FyZFBheWxvYWRVcmw6IHN0cmluZywgc2FtcGxlRGF0YVVybD86IHN0cmluZywgY2FyZElkPzpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zYW1wbGVEYXRhVXJsID0gc2FtcGxlRGF0YVVybDtcbiAgICAgICAgdGhpcy5fY2FyZElkID0gY2FyZElkO1xuICAgIH1cblxuICAgIGRvd25sb2FkKCkge1xuICAgICAgICBsZXQgY2FyZFBheWxvYWREb3dubG9hZENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIGxldCBzYW1wbGVEYXRhRG93bmxvYWRDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghdGhpcy5jYXJkUGF5bG9hZERvd25sb2FkZWQpIHtcbiAgICAgICAgICAgIGxldCBwYXlsb2FkRG93bmxvYWRlciA9IG5ldyBEb3dubG9hZGVyKHRoaXMuY2FyZFBheWxvYWRVcmwpO1xuICAgICAgICAgICAgcGF5bG9hZERvd25sb2FkZXIub25TdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhcmRQYXlsb2FkID0gcGF5bG9hZERvd25sb2FkZXIuZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYXJkUGF5bG9hZERvd25sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZENvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF5bG9hZERvd25sb2FkZXIub25FcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYXJkUGF5bG9hZERvd25sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZENvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF5bG9hZERvd25sb2FkZXIuZG93bmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhcmRQYXlsb2FkRG93bmxvYWRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zYW1wbGVEYXRhVXJsICYmICF0aGlzLnNhbXBsZURhdGFEb3dubG9hZGVkKSB7XG4gICAgICAgICAgICBsZXQgc2FtcGxlRGF0YURvd25sb2FkZXIgPSBuZXcgRG93bmxvYWRlcih0aGlzLnNhbXBsZURhdGFVcmwpO1xuICAgICAgICAgICAgc2FtcGxlRGF0YURvd25sb2FkZXIub25TdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGEgPSBzYW1wbGVEYXRhRG93bmxvYWRlci5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFEb3dubG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWRDb21wbGV0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhbXBsZURhdGFEb3dubG9hZGVyLm9uRXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2FtcGxlRGF0YURvd25sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZENvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2FtcGxlRGF0YURvd25sb2FkZXIuZG93bmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbXBsZURhdGFEb3dubG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgc2FtcGxlRGF0YURvd25sb2FkQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhcmRQYXlsb2FkRG93bmxvYWRDb21wbGV0ZSAmJiBzYW1wbGVEYXRhRG93bmxvYWRDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kb3dubG9hZENvbXBsZXRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGNhcmRQYXlsb2FkRG93bmxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRQYXlsb2FkRG93bmxvYWRlZDtcbiAgICB9XG5cblxuICAgIGdldCBjYXJkSWQoKTogc3RyaW5nICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkSWQ7XG4gICAgfVxuXG4gICAgZ2V0IGNhcmRQYXlsb2FkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXJkUGF5bG9hZDtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlRGF0YURvd25sb2FkZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYW1wbGVEYXRhRG93bmxvYWRlZDtcbiAgICB9XG5cbiAgICBnZXQgc2FtcGxlRGF0YSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2FtcGxlRGF0YTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTYW1wbGVDYXRhbG9ndWUge1xuICAgIHByaXZhdGUgX2VudHJpZXM6IENhdGFsb2d1ZUVudHJ5W10gPSBbXTtcbiAgICBwcml2YXRlIF9pc0Rvd25sb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF91cmw6IHN0cmluZztcblxuICAgIHByaXZhdGUgZG93bmxvYWRlZCgpIHtcbiAgICAgICAgdGhpcy5faXNEb3dubG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5vbkRvd25sb2FkZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25Eb3dubG9hZGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwYXJzZShpbnB1dDogYW55KSB7XG4gICAgICAgIGxldCBlbnRyaWVzOiBhbnlbXSA9IG51bGw7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBlbnRyaWVzID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbnRyaWVzID0gQXJyYXkuaXNBcnJheShpbnB1dFtcImVudHJpZXNcIl0pID8gaW5wdXRbXCJlbnRyaWVzXCJdIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VudHJpZXMgPSBbXTtcblxuICAgICAgICBpZiAoZW50cmllcyAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlzcGxheU5hbWUgPSBBZGFwdGl2ZS5wYXJzZVN0cmluZyhlbnRyeVtcImRpc3BsYXlOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhcmRQYXlsb2FkVXJsID0gQWRhcHRpdmUucGFyc2VTdHJpbmcoZW50cnlbXCJjYXJkUGF5bG9hZFVybFwiXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlOYW1lICYmIGNhcmRQYXlsb2FkVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRyaWVzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENhdGFsb2d1ZUVudHJ5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZFBheWxvYWRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLnBhcnNlU3RyaW5nKGVudHJ5W1wiZGF0YVNhbXBsZVVybFwiXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRG93bmxvYWRlZDogKHNlbmRlcjogU2FtcGxlQ2F0YWxvZ3VlKSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcgPSBcIi4vc2FtcGxlLWNhdGFsb2d1ZS5qc29uXCIpIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgfVxuXG4gICAgZG93bmxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Rvd25sb2FkZWQpIHtcbiAgICAgICAgICAgIGxldCBkb3dubG9hZGVyID0gbmV3IERvd25sb2FkZXIodGhpcy51cmwpO1xuICAgICAgICAgICAgZG93bmxvYWRlci5vbkVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRyaWVzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWRlZCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRvd25sb2FkZXIub25TdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb3dubG9hZGVyLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2UoSlNPTi5wYXJzZShkb3dubG9hZGVyLmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3dhbGxvdyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWRlZCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRvd25sb2FkZXIuZG93bmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZG93bmxvYWRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzRG93bmxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRG93bmxvYWRlZDtcbiAgICB9XG5cbiAgICBnZXQgZW50cmllcygpOiBDYXRhbG9ndWVFbnRyeVtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudHJpZXM7XG4gICAgfVxuXG4gICAgZ2V0IHVybCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgIH1cblxuICAgIHNldCB1cmwodmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3VybCkge1xuICAgICAgICAgICAgdGhpcy5fdXJsID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMuX2lzRG93bmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5leHBvcnQgY29uc3Qgb3RoZXJUZXN0UGF5bG9hZDogc3RyaW5nID0gYHtcblx0XCIkc2NoZW1hXCI6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIixcblx0XCJ0eXBlXCI6IFwiQWRhcHRpdmVDYXJkXCIsXG5cdFwidmVyc2lvblwiOiBcIjEuMFwiLFxuXHRcImJvZHlcIjogW1xuXHRcdHtcblx0XHRcdFwidHlwZVwiOiBcIkFjdGlvblNldFwiLFxuXHRcdFx0XCJhY3Rpb25zXCI6IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdFwidHlwZVwiOiBcIkFjdGlvbi5TaG93Q2FyZFwiLFxuXHRcdFx0XHRcdFwidGl0bGVcIjogXCJTZXQgZHVlIGRhdGVcIixcblx0XHRcdFx0XHRcImNhcmRcIjoge1xuXHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwiQWRhcHRpdmVDYXJkXCIsXG5cdFx0XHRcdFx0XHRcImJvZHlcIjogW1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XCJ0eXBlXCI6IFwiSW5wdXQuRGF0ZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFwiaWRcIjogXCJkdWVEYXRlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIlNlbGVjdCBkdWUgZGF0ZVwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcInR5cGVcIjogXCJJbnB1dC5UZXh0XCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJpZFwiOiBcImNvbW1lbnRcIixcblx0XHRcdFx0XHRcdFx0XHRcImlzTXVsdGlsaW5lXCI6IHRydWUsXG5cdFx0XHRcdFx0XHRcdFx0XCJwbGFjZWhvbGRlclwiOiBcIkFkZCBhIGNvbW1lbnRcIlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdFx0XCJhY3Rpb25zXCI6IFtcblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFwidHlwZVwiOiBcIkFjdGlvbi5PcGVuVXJsXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJ0aXRsZVwiOiBcIk9LXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJ1cmxcIjogXCJodHRwczovL2FkYXB0aXZlY2FyZHMuaW9cIlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0XCJ0eXBlXCI6IFwiQWN0aW9uLk9wZW5VcmxcIixcblx0XHRcdFx0XHRcInRpdGxlXCI6IFwiVmlld1wiLFxuXHRcdFx0XHRcdFwidXJsXCI6IFwiaHR0cHM6Ly9hZGFwdGl2ZWNhcmRzLmlvXCJcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH1cblx0XVxufWA7XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0UGF5bG9hZDogc3RyaW5nID0gYHtcbiAgICBcInR5cGVcIjogXCJBZGFwdGl2ZUNhcmRcIixcbiAgICBcImJvZHlcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgIFwic2l6ZVwiOiBcIk1lZGl1bVwiLFxuICAgICAgICAgICAgXCJ3ZWlnaHRcIjogXCJCb2xkZXJcIixcbiAgICAgICAgICAgIFwidGV4dFwiOiBcIlB1Ymxpc2ggQWRhcHRpdmUgQ2FyZCBzY2hlbWFcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJDb2x1bW5TZXRcIixcbiAgICAgICAgICAgIFwiY29sdW1uc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJDb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0eWxlXCI6IFwiUGVyc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJodHRwczovL21hdHRoaWRpbmdlci5jb20vaW1hZ2VzL2Jpby1waG90by5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogXCJTbWFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIFwid2lkdGhcIjogXCJhdXRvXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2VpZ2h0XCI6IFwiQm9sZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiTWF0dCBIaWRpbmdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhY2luZ1wiOiBcIk5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJDcmVhdGVkIHt7REFURSgyMDE3LTAyLTE0VDA2OjA4OjM5WixTSE9SVCl9fVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaXNTdWJ0bGVcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndyYXBcIjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBcIndpZHRoXCI6IFwic3RyZXRjaFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgIFwidGV4dFwiOiBcIk5vdyB0aGF0IHdlIGhhdmUgZGVmaW5lZCB0aGUgbWFpbiBydWxlcyBhbmQgZmVhdHVyZXMgb2YgdGhlIGZvcm1hdCwgd2UgbmVlZCB0byBwcm9kdWNlIGEgc2NoZW1hIGFuZCBwdWJsaXNoIGl0IHRvIEdpdEh1Yi4gVGhlIHNjaGVtYSB3aWxsIGJlIHRoZSBzdGFydGluZyBwb2ludCBvZiBvdXIgcmVmZXJlbmNlIGRvY3VtZW50YXRpb24uXCIsXG4gICAgICAgICAgICBcIndyYXBcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJGYWN0U2V0XCIsXG4gICAgICAgICAgICBcImZhY3RzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJCb2FyZDpcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIkFkYXB0aXZlIENhcmRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiTGlzdDpcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcIkJhY2tsb2dcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiQXNzaWduZWQgdG86XCIsXG4gICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIjogXCJNYXR0IEhpZGluZ2VyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIkR1ZSBkYXRlOlwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiTm90IHNldFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXSxcbiAgICBcImFjdGlvbnNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJBY3Rpb24uU2hvd0NhcmRcIixcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJTZXQgZHVlIGRhdGVcIixcbiAgICAgICAgICAgIFwiY2FyZFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAgICAgXCJib2R5XCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW5wdXQuRGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImR1ZURhdGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJbnB1dC5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGFjZWhvbGRlclwiOiBcIkFkZCBhIGNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXNNdWx0aWxpbmVcIjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcImFjdGlvbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJBY3Rpb24uT3BlblVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIk9LXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCIkc2NoZW1hXCI6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW8vc2NoZW1hcy9hZGFwdGl2ZS1jYXJkLmpzb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJBY3Rpb24uT3BlblVybFwiLFxuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIlZpZXdcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiaHR0cDovL2FkYXB0aXZlY2FyZHMuaW9cIlxuICAgICAgICB9XG4gICAgXSxcbiAgICBcIiRzY2hlbWFcIjogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiLFxuICAgIFwidmVyc2lvblwiOiBcIjEuMFwiXG59YDtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wbGF0ZVBheWxvYWQ6IHN0cmluZyA9IGB7XG4gICAgXCJ0eXBlXCI6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgXCJib2R5XCI6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQ29udGFpbmVyXCIsXG4gICAgICAgICAgICBcIml0ZW1zXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJUaGlzIGV4YW1wbGUgdXNlcyBbQWRhcHRpdmUgQ2FyZCBUZW1wbGF0aW5nXShodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9hZGFwdGl2ZS1jYXJkcy90ZW1wbGF0aW5nLykgKihQcmV2aWV3KSpcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IFwiTWVkaXVtXCIsXG4gICAgICAgICAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJDbGljayB0aGUgKipQcmV2aWV3IG1vZGUqKiB0b29sYmFyIGJ1dHRvbiB0byBzZWUgdGhlIGNhcmQgYm91bmQgdG8gdGhlICoqU2FtcGxlIERhdGEqKiBpbiB0aGUgbG93ZXItcmlnaHQuIFNhbXBsZSBEYXRhIGhlbHBzIGRlc2lnbiB5b3VyIGNhcmQgYnkgc2ltdWxhdGluZyB0aGUgcmVhbCBkYXRhLlwiLFxuICAgICAgICAgICAgICAgICAgICBcIndyYXBcIjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJUZXh0QmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0XCI6IFwiV2hlbiB5b3UncmUgcmVhZHkgdG8gcG9wdWxhdGUgaXQgd2l0aCByZWFsIGRhdGEsIHVzZSB0aGUgQWRhcHRpdmUgQ2FyZCBbdGVtcGxhdGluZyBTREtzXShodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9hZGFwdGl2ZS1jYXJkcy90ZW1wbGF0aW5nL3NkaykuXCIsXG4gICAgICAgICAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwic3R5bGVcIjogXCJnb29kXCIsXG4gICAgICAgICAgICBcImJsZWVkXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICBcInNpemVcIjogXCJNZWRpdW1cIixcbiAgICAgICAgICAgIFwid2VpZ2h0XCI6IFwiQm9sZGVyXCIsXG4gICAgICAgICAgICBcInRleHRcIjogXCJ7dGl0bGV9XCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQ29sdW1uU2V0XCIsXG4gICAgICAgICAgICBcImNvbHVtbnNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiaXRlbXNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZVwiOiBcIlBlcnNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwie2NyZWF0b3IucHJvZmlsZUltYWdlfVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiOiBcIlNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBcImF1dG9cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJDb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVtc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWlnaHRcIjogXCJCb2xkZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJ7Y3JlYXRvci5uYW1lfVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid3JhcFwiOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlRleHRCbG9ja1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhY2luZ1wiOiBcIk5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJDcmVhdGVkIHt7REFURSh7Y3JlYXRlZFV0Y30sU0hPUlQpfX1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlzU3VidGxlXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3cmFwXCI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgXCJ3aWR0aFwiOiBcInN0cmV0Y2hcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICBcInRleHRcIjogXCJ7ZGVzY3JpcHRpb259XCIsXG4gICAgICAgICAgICBcIndyYXBcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJGYWN0U2V0XCIsXG4gICAgICAgICAgICBcImZhY3RzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiJGRhdGFcIjogXCJ7cHJvcGVydGllc31cIixcbiAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIntrZXl9OlwiLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwie3ZhbHVlfVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXSxcbiAgICBcImFjdGlvbnNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJBY3Rpb24uU2hvd0NhcmRcIixcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJTZXQgZHVlIGRhdGVcIixcbiAgICAgICAgICAgIFwiY2FyZFwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAgICAgXCJib2R5XCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiSW5wdXQuRGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiBcImR1ZURhdGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJJbnB1dC5UZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGFjZWhvbGRlclwiOiBcIkFkZCBhIGNvbW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaXNNdWx0aWxpbmVcIjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcImFjdGlvbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJBY3Rpb24uU3VibWl0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiT0tcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIiRzY2hlbWFcIjogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIkFjdGlvbi5PcGVuVXJsXCIsXG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiVmlld1wiLFxuICAgICAgICAgICAgXCJ1cmxcIjogXCJ7dmlld1VybH1cIlxuICAgICAgICB9XG4gICAgXSxcbiAgICBcIiRzY2hlbWFcIjogXCJodHRwOi8vYWRhcHRpdmVjYXJkcy5pby9zY2hlbWFzL2FkYXB0aXZlLWNhcmQuanNvblwiLFxuICAgIFwidmVyc2lvblwiOiBcIjEuMFwiXG59YDtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHREYXRhUGF5bG9hZDogc3RyaW5nID0gYHtcbiAgICBcInRpdGxlXCI6IFwiUHVibGlzaCBBZGFwdGl2ZSBDYXJkIFNjaGVtYVwiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogXCJOb3cgdGhhdCB3ZSBoYXZlIGRlZmluZWQgdGhlIG1haW4gcnVsZXMgYW5kIGZlYXR1cmVzIG9mIHRoZSBmb3JtYXQsIHdlIG5lZWQgdG8gcHJvZHVjZSBhIHNjaGVtYSBhbmQgcHVibGlzaCBpdCB0byBHaXRIdWIuIFRoZSBzY2hlbWEgd2lsbCBiZSB0aGUgc3RhcnRpbmcgcG9pbnQgb2Ygb3VyIHJlZmVyZW5jZSBkb2N1bWVudGF0aW9uLlwiLFxuICAgIFwiY3JlYXRvclwiOiB7XG4gICAgICAgIFwibmFtZVwiOiBcIk1hdHQgSGlkaW5nZXJcIixcbiAgICAgICAgXCJwcm9maWxlSW1hZ2VcIjogXCJodHRwczovL21hdHRoaWRpbmdlci5jb20vaW1hZ2VzL2Jpby1waG90by5qcGdcIlxuICAgIH0sXG4gICAgXCJjcmVhdGVkVXRjXCI6IFwiMjAxNy0wMi0xNFQwNjowODozOVpcIixcbiAgICBcInZpZXdVcmxcIjogXCJodHRwczovL2FkYXB0aXZlY2FyZHMuaW9cIixcbiAgICBcInByb3BlcnRpZXNcIjogW1xuICAgICAgICB7IFwia2V5XCI6IFwiQm9hcmRcIiwgXCJ2YWx1ZVwiOiBcIkFkYXB0aXZlIENhcmRzXCIgfSxcbiAgICAgICAgeyBcImtleVwiOiBcIkxpc3RcIiwgXCJ2YWx1ZVwiOiBcIkJhY2tsb2dcIiB9LFxuICAgICAgICB7IFwia2V5XCI6IFwiQXNzaWduZWQgdG9cIiwgXCJ2YWx1ZVwiOiBcIk1hdHQgSGlkaW5nZXJcIiB9LFxuICAgICAgICB7IFwia2V5XCI6IFwiRHVlIGRhdGVcIiwgXCJ2YWx1ZVwiOiBcIk5vdCBzZXRcIiB9XG4gICAgXVxufWAiLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IEhvc3RDb250YWluZXIgfSBmcm9tIFwiLi4vaG9zdC1jb250YWluZXJcIjtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRDb250YWluZXIgZXh0ZW5kcyBIb3N0Q29udGFpbmVyIHtcbiAgICBwdWJsaWMgcmVuZGVyVG8oaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjYXJkLWZyYW1lXCIpO1xuICAgICAgICBob3N0RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNhcmRIb3N0KTtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCB7IEdsb2JhbFNldHRpbmdzLCBHbG9iYWxSZWdpc3RyeSwgQ2FyZE9iamVjdFJlZ2lzdHJ5LCBDYXJkRWxlbWVudCwgQWN0aW9uLCBIb3N0Q29uZmlnLCBTZXJpYWxpemF0aW9uQ29udGV4dCwgVmVyc2lvbiwgVmVyc2lvbnMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0ICogYXMgaG9zdENvbmZpZyBmcm9tIFwiLi4vaG9zdENvbmZpZ3Mvc2FtcGxlLmpzb25cIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEhvc3RDb250YWluZXIge1xuICAgIHByaXZhdGUgX2NhcmRIb3N0OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9lbGVtZW50c1JlZ2lzdHJ5ID0gbmV3IENhcmRPYmplY3RSZWdpc3RyeTxDYXJkRWxlbWVudD4oKTtcbiAgICBwcml2YXRlIF9hY3Rpb25zUmVnaXN0cnkgPSBuZXcgQ2FyZE9iamVjdFJlZ2lzdHJ5PEFjdGlvbj4oKTtcblxuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSBzdHlsZVNoZWV0OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN0eWxlU2hlZXQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0eWxlU2hlZXQgPSBzdHlsZVNoZWV0O1xuXG4gICAgICAgIHRoaXMuX2NhcmRIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY2FyZEhvc3QuY2xhc3NOYW1lID0gXCJjYXJkSG9zdFwiO1xuXG4gICAgICAgIEdsb2JhbFJlZ2lzdHJ5LnBvcHVsYXRlV2l0aERlZmF1bHRFbGVtZW50cyh0aGlzLl9lbGVtZW50c1JlZ2lzdHJ5KTtcbiAgICAgICAgR2xvYmFsUmVnaXN0cnkucG9wdWxhdGVXaXRoRGVmYXVsdEFjdGlvbnModGhpcy5fYWN0aW9uc1JlZ2lzdHJ5KTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCByZW5kZXJUbyhob3N0RWxlbWVudDogSFRNTEVsZW1lbnQpO1xuXG4gICAgcHVibGljIGluaXRpYWxpemUoKSB7XG4gICAgICAgIEdsb2JhbFNldHRpbmdzLnVzZU1hcmtkb3duSW5SYWRpb0J1dHRvbkFuZENoZWNrYm94ID0gdHJ1ZTtcbiAgICAgICAgR2xvYmFsU2V0dGluZ3MudXNlQWR2YW5jZWRDYXJkQm90dG9tVHJ1bmNhdGlvbiA9IGZhbHNlO1xuICAgICAgICBHbG9iYWxTZXR0aW5ncy51c2VBZHZhbmNlZFRleHRCbG9ja1RydW5jYXRpb24gPSB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVTZXJpYWxpemF0aW9uQ29udGV4dCh0YXJnZXRWZXJzaW9uOiBWZXJzaW9uKTogU2VyaWFsaXphdGlvbkNvbnRleHQge1xuICAgICAgICBsZXQgY29udGV4dCA9IG5ldyBTZXJpYWxpemF0aW9uQ29udGV4dCh0YXJnZXRWZXJzaW9uKTtcbiAgICAgICAgY29udGV4dC5zZXRFbGVtZW50UmVnaXN0cnkodGhpcy5lbGVtZW50c1JlZ2lzdHJ5KTtcbiAgICAgICAgY29udGV4dC5zZXRBY3Rpb25SZWdpc3RyeSh0aGlzLmFjdGlvbnNSZWdpc3RyeSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEJhY2tncm91bmRDb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCIjRjZGNkY2XCI7XG4gICAgfVxuXG4gICAgcHVibGljIHBhcnNlRWxlbWVudChlbGVtZW50OiBDYXJkRWxlbWVudCwgc291cmNlOiBhbnksIGNvbnRleHQ6IFNlcmlhbGl6YXRpb25Db250ZXh0KSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaW4gYmFzZSBpbXBsZW1lbnRhdGlvblxuICAgIH1cblxuICAgIHB1YmxpYyBhbmNob3JDbGlja2VkKGVsZW1lbnQ6IENhcmRFbGVtZW50LCBhbmNob3I6IEhUTUxBbmNob3JFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIC8vIE5vdCBoYW5kbGVkIGJ5IHRoZSBob3N0IGNvbnRhaW5lciBieSBkZWZhdWx0XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SG9zdENvbmZpZygpOiBIb3N0Q29uZmlnIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIb3N0Q29uZmlnKGhvc3RDb25maWcpO1xuICAgIH1cblxuICAgIHN1cHBvcnRzQWN0aW9uQmFyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgY2FyZEhvc3QoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FyZEhvc3Q7XG4gICAgfVxuXG4gICAgZ2V0IGlzRml4ZWRIZWlnaHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgZWxlbWVudHNSZWdpc3RyeSgpOiBDYXJkT2JqZWN0UmVnaXN0cnk8Q2FyZEVsZW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzUmVnaXN0cnk7XG4gICAgfVxuXG4gICAgZ2V0IGFjdGlvbnNSZWdpc3RyeSgpOiBDYXJkT2JqZWN0UmVnaXN0cnk8QWN0aW9uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb25zUmVnaXN0cnk7XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldFZlcnNpb24oKTogVmVyc2lvbiB7XG4gICAgICAgIHJldHVybiBWZXJzaW9ucy52MV8wO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VUcmVlSXRlbSB9IGZyb20gXCIuL2Jhc2UtdHJlZS1pdGVtXCI7XG5pbXBvcnQgKiBhcyBEYXRhIGZyb20gXCIuL2RhdGFcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFUcmVlSXRlbSBleHRlbmRzIEJhc2VUcmVlSXRlbSB7XG4gICAgcHJpdmF0ZSBfY2hpbGRyZW46IEFycmF5PERhdGFUcmVlSXRlbT4gPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBidWlsZENoaWxkTGlzdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGlsZHJlbikge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB0aGlzLmZpZWxkLmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKG5ldyBEYXRhVHJlZUl0ZW0ocHJvcGVydGllc1trZXldKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldExhYmVsVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5kaXNwbGF5TmFtZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0QWRkaXRpb25hbFRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQudmFsdWVUeXBlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRBZGRpdGlvbmFsVGV4dENsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImFjZC1kYXRhLXRyZWUtaXRlbS1hZGRpdGlvbmFsVGV4dFwiO1xuICAgIH1cblxuICAgIHJlYWRvbmx5IGZpZWxkOiBEYXRhLkZpZWxkRGVmaW5pdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKGZpZWxkOiBEYXRhLkZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcblxuICAgICAgICB0aGlzLl9sZXZlbCA9IDA7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRGaWVsZCA9IGZpZWxkO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50RmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xldmVsKys7XG5cbiAgICAgICAgICAgIGN1cnJlbnRGaWVsZCA9IGN1cnJlbnRGaWVsZC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldENoaWxkQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgdGhpcy5idWlsZENoaWxkTGlzdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRBdChpbmRleDogbnVtYmVyKTogRGF0YVRyZWVJdGVtIHtcbiAgICAgICAgdGhpcy5idWlsZENoaWxkTGlzdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbltpbmRleF07XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5mdW5jdGlvbiBzaG91bGRVc2VJbmRleGVyU3ludGF4KG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGxldCByZWdFeCA9IC9bYS16QS1aMC05XyRdKi87XG4gICAgbGV0IG1hdGNoZXMgPSByZWdFeC5leGVjKG5hbWUpO1xuXG4gICAgLy8gSWYgbmFtZSBkb2Vzbid0IG9ubHkgY29udGFpbiBsZXR0ZXJzL2RpZ2l0cy9fXG4gICAgLy8gdGhlIGFjY2Vzc29yIG11c3QgdXNlIHRoZSBpbmRleGVyIHN5bnRheFxuICAgIHJldHVybiAhKG1hdGNoZXMgJiYgbWF0Y2hlc1swXSA9PT0gbmFtZSk7XG59ICAgXG5cbmV4cG9ydCB0eXBlIFZhbHVlVHlwZSA9IFwiU3RyaW5nXCIgfCBcIkJvb2xlYW5cIiB8IFwiTnVtYmVyXCIgfCBcIkFycmF5XCIgfCBcIk9iamVjdFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElTdHJpbmdEYXRhIHtcbiAgICB2YWx1ZVR5cGU6IFwiU3RyaW5nXCJcbiAgICBzYW1wbGVWYWx1ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTnVtYmVyRGF0YSB7XG4gICAgdmFsdWVUeXBlOiBcIk51bWJlclwiXG4gICAgc2FtcGxlVmFsdWU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJvb2xlYW5EYXRhIHtcbiAgICB2YWx1ZVR5cGU6IFwiQm9vbGVhblwiXG4gICAgc2FtcGxlVmFsdWU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBcnJheURhdGEge1xuICAgIHZhbHVlVHlwZTogXCJBcnJheVwiO1xuICAgIGl0ZW1UeXBlOiBJRGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT2JqZWN0RGF0YSB7XG4gICAgdmFsdWVUeXBlOiBcIk9iamVjdFwiO1xuICAgIGZpZWxkczogSUZpZWxkW107XG59XG5cbmV4cG9ydCB0eXBlIElEYXRhID0gSVN0cmluZ0RhdGEgfCBJQm9vbGVhbkRhdGEgfCBJTnVtYmVyRGF0YSB8IElBcnJheURhdGEgfCBJT2JqZWN0RGF0YTtcblxuZXhwb3J0IGludGVyZmFjZSBJRGF0YUZpZWxkIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZGlzcGxheU5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJU3RyaW5nRmllbGQgZXh0ZW5kcyBJRGF0YUZpZWxkLCBJU3RyaW5nRGF0YSB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgSU51bWJlckZpZWxkIGV4dGVuZHMgSURhdGFGaWVsZCwgSU51bWJlckRhdGEgeyB9XG5leHBvcnQgaW50ZXJmYWNlIElCb29sZWFuRmllbGQgZXh0ZW5kcyBJRGF0YUZpZWxkLCBJQm9vbGVhbkRhdGEgeyB9XG5leHBvcnQgaW50ZXJmYWNlIElPYmplY3RGaWVsZCBleHRlbmRzIElEYXRhRmllbGQsIElPYmplY3REYXRhIHsgfVxuZXhwb3J0IGludGVyZmFjZSBJQXJyYXlGaWVsZCBleHRlbmRzIElEYXRhRmllbGQsIElBcnJheURhdGEgeyB9XG5cbmV4cG9ydCB0eXBlIElGaWVsZCA9IElTdHJpbmdGaWVsZCB8IElOdW1iZXJGaWVsZCB8IElCb29sZWFuRmllbGQgfCBJT2JqZWN0RmllbGQgfCBJQXJyYXlGaWVsZDtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERhdGFUeXBlIHtcbiAgICBzdGF0aWMgcGFyc2UocGFyZW50OiBGaWVsZERlZmluaXRpb24sIGRhdGE6IElEYXRhKTogRGF0YVR5cGUge1xuICAgICAgICBzd2l0Y2ggKGRhdGEudmFsdWVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiU3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZVR5cGVEYXRhPHN0cmluZz4ocGFyZW50LCBcIlNhbXBsZSBkYXRhXCIsIGRhdGEuc2FtcGxlVmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBcIk51bWJlclwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWVUeXBlRGF0YTxudW1iZXI+KHBhcmVudCwgMTIzLCBkYXRhLnNhbXBsZVZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgXCJCb29sZWFuXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZVR5cGVEYXRhPGJvb2xlYW4+KHBhcmVudCwgdHJ1ZSwgZGF0YS5zYW1wbGVWYWx1ZSk7XG4gICAgICAgICAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXlEYXRhLnBhcnNlKHBhcmVudCwgZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdERhdGEucGFyc2UocGFyZW50LCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBkZXJpdmVGcm9tKHBhcmVudDogRmllbGREZWZpbml0aW9uLCB2YWx1ZTogYW55KTogRGF0YVR5cGUge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZhbHVlVHlwZURhdGE8c3RyaW5nPihwYXJlbnQsIFwiU2FtcGxlIGRhdGFcIiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWVUeXBlRGF0YTxib29sZWFuPihwYXJlbnQsIHRydWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmFsdWVUeXBlRGF0YTxudW1iZXI+KHBhcmVudCwgMTIzLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXlEYXRhLmRlcml2ZUZyb20ocGFyZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0RGF0YS5kZXJpdmVGcm9tKHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZGF0YSB0eXBlOiBcIiArIHR5cGVvZiB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBvd25lcjogRmllbGREZWZpbml0aW9uKSB7fVxuXG4gICAgYWJzdHJhY3QgZ2VuZXJhdGVTYW1wbGVEYXRhKCk6IGFueTtcblxuICAgIGdldENoaWxkRmllbGRzKCk6IEZpZWxkRGVmaW5pdGlvbltdIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcXVhbGlmeUZpZWxkTmFtZShmaWVsZE5hbWU6IHN0cmluZywgZmllbGRJc0xlYWY6IGJvb2xlYW4pIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkTmFtZTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBnZXQgdmFsdWVUeXBlKCk6IFZhbHVlVHlwZTtcblxuICAgIGdldCBpc0NvbGxlY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWYWx1ZVR5cGVEYXRhPFQgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuPiBleHRlbmRzIERhdGFUeXBlIHtcbiAgICBwcml2YXRlIF9zYW1wbGVWYWx1ZTogVDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSBvd25lcjogRmllbGREZWZpbml0aW9uLFxuICAgICAgICByZWFkb25seSBkZWZhdWx0U2FtcGxlVmFsdWU6IFQsXG4gICAgICAgIHNhbXBsZVZhbHVlPzogVCkge1xuICAgICAgICBzdXBlcihvd25lcik7XG5cbiAgICAgICAgdGhpcy5fc2FtcGxlVmFsdWUgPSBzYW1wbGVWYWx1ZTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbXBsZURhdGEoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhbXBsZVZhbHVlID8gdGhpcy5zYW1wbGVWYWx1ZSA6IHRoaXMuZGVmYXVsdFNhbXBsZVZhbHVlO1xuICAgIH1cblxuICAgIGdldCBzYW1wbGVWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhbXBsZVZhbHVlO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZVR5cGUoKTogVmFsdWVUeXBlIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGhpcy5kZWZhdWx0U2FtcGxlVmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJTdHJpbmdcIjtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJOdW1iZXJcIjtcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiQm9vbGVhblwiO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXJyYXlEYXRhIGV4dGVuZHMgRGF0YVR5cGUge1xuICAgIHN0YXRpYyBwYXJzZShwYXJlbnQ6IEZpZWxkRGVmaW5pdGlvbiwgZGF0YTogSUFycmF5RGF0YSk6IEFycmF5RGF0YSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQXJyYXlEYXRhKHBhcmVudCk7XG4gICAgICAgIHJlc3VsdC5kYXRhVHlwZSA9IERhdGFUeXBlLnBhcnNlKHBhcmVudCwgZGF0YS5pdGVtVHlwZSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVyaXZlRnJvbShwYXJlbnQ6IEZpZWxkRGVmaW5pdGlvbiwgaW5wdXQ6IG9iamVjdCk6IEFycmF5RGF0YSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklucHV0IGlzIG5vdCBhbiBhcnJheS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFycmF5RGF0YShwYXJlbnQpO1xuXG4gICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQuZGF0YVR5cGUgPSBEYXRhVHlwZS5kZXJpdmVGcm9tKHBhcmVudCwgaW5wdXRbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBkYXRhVHlwZTogRGF0YVR5cGUgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBvd25lcjogRmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgIHN1cGVyKG93bmVyKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVNhbXBsZURhdGEoKTogYW55IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGFUeXBlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmRhdGFUeXBlLmdlbmVyYXRlU2FtcGxlRGF0YSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRGaWVsZHMoKTogRmllbGREZWZpbml0aW9uW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhVHlwZSA/IHRoaXMuZGF0YVR5cGUuZ2V0Q2hpbGRGaWVsZHMoKSA6IFtdO1xuICAgIH1cblxuICAgIHF1YWxpZnlGaWVsZE5hbWUoZmllbGROYW1lOiBzdHJpbmcsIGZpZWxkSXNMZWFmOiBib29sZWFuKSB7XG4gICAgICAgIGlmICghZmllbGRJc0xlYWYpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZE5hbWUgKyBcIlswXVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnF1YWxpZnlGaWVsZE5hbWUoZmllbGROYW1lLCBmaWVsZElzTGVhZik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaXNDb2xsZWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgdmFsdWVUeXBlKCk6IFZhbHVlVHlwZSB7XG4gICAgICAgIHJldHVybiBcIkFycmF5XCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2JqZWN0RGF0YSBleHRlbmRzIERhdGFUeXBlIHtcbiAgICBzdGF0aWMgcGFyc2UocGFyZW50OiBGaWVsZERlZmluaXRpb24sIGRhdGE6IElPYmplY3REYXRhKTogT2JqZWN0RGF0YSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgT2JqZWN0RGF0YShwYXJlbnQpO1xuXG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIGRhdGEuZmllbGRzKSB7XG4gICAgICAgICAgICBsZXQgZmllbGREZWZpbml0aW9uID0gbmV3IEZpZWxkRGVmaW5pdGlvbihwYXJlbnQpO1xuICAgICAgICAgICAgZmllbGREZWZpbml0aW9uLm5hbWUgPSBmaWVsZC5uYW1lO1xuICAgICAgICAgICAgZmllbGREZWZpbml0aW9uLmRpc3BsYXlOYW1lID0gZmllbGQuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICBmaWVsZERlZmluaXRpb24uZGF0YVR5cGUgPSBEYXRhVHlwZS5wYXJzZShmaWVsZERlZmluaXRpb24sIDxJRGF0YT5maWVsZCk7XG5cbiAgICAgICAgICAgIHJlc3VsdC5maWVsZHMucHVzaChmaWVsZERlZmluaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVyaXZlRnJvbShwYXJlbnQ6IEZpZWxkRGVmaW5pdGlvbiwgaW5wdXQ6IG9iamVjdCk6IE9iamVjdERhdGEge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IE9iamVjdERhdGEocGFyZW50KTtcblxuICAgICAgICBpZiAoaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBuZXcgRmllbGREZWZpbml0aW9uKHBhcmVudCk7XG4gICAgICAgICAgICAgICAgZmllbGQuZGF0YVR5cGUgPSAgRGF0YVR5cGUuZGVyaXZlRnJvbShmaWVsZCwgaW5wdXRba2V5XSk7XG4gICAgICAgICAgICAgICAgZmllbGQubmFtZSA9IGtleTtcblxuICAgICAgICAgICAgICAgIHJlc3VsdC5maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlYWRvbmx5IGZpZWxkczogRmllbGREZWZpbml0aW9uW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IG93bmVyOiBGaWVsZERlZmluaXRpb24pIHtcbiAgICAgICAgc3VwZXIob3duZXIpO1xuICAgIH1cblxuICAgIGdlbmVyYXRlU2FtcGxlRGF0YSgpOiBhbnkge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIHJlc3VsdFtmaWVsZC5uYW1lXSA9IGZpZWxkLmRhdGFUeXBlLmdlbmVyYXRlU2FtcGxlRGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRDaGlsZEZpZWxkcygpOiBGaWVsZERlZmluaXRpb25bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkcztcbiAgICB9XG5cbiAgICBnZXQgdmFsdWVUeXBlKCk6IFZhbHVlVHlwZSB7XG4gICAgICAgIHJldHVybiBcIk9iamVjdFwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpZWxkRGVmaW5pdGlvbiB7XG4gICAgc3RhdGljIHBhcnNlKGRhdGE6IElEYXRhKTogRmllbGREZWZpbml0aW9uIHtcbiAgICAgICAgbGV0IGZpZWxkID0gbmV3IEZpZWxkRGVmaW5pdGlvbihudWxsKTtcbiAgICAgICAgZmllbGQubmFtZSA9IFwiJHJvb3RcIjtcbiAgICAgICAgZmllbGQuZGF0YVR5cGUgPSBEYXRhVHlwZS5wYXJzZShmaWVsZCwgZGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cblxuICAgIHN0YXRpYyBkZXJpdmVGcm9tKGlucHV0OiBhbnkpOiBGaWVsZERlZmluaXRpb24ge1xuICAgICAgICBsZXQgZmllbGQgPSBuZXcgRmllbGREZWZpbml0aW9uKG51bGwpO1xuICAgICAgICBmaWVsZC5uYW1lID0gXCIkcm9vdFwiO1xuICAgICAgICBmaWVsZC5kYXRhVHlwZSA9IERhdGFUeXBlLmRlcml2ZUZyb20oZmllbGQsIGlucHV0KTtcblxuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZGlzcGxheU5hbWU6IHN0cmluZztcblxuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYXRhVHlwZTogRGF0YVR5cGU7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBwYXJlbnQ6IEZpZWxkRGVmaW5pdGlvbikge31cblxuICAgIGFzRXhwcmVzc2lvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCIke1wiICsgdGhpcy5nZXRQYXRoKCkgKyBcIn1cIjtcbiAgICB9XG5cbiAgICBnZXRQYXRoKGFzTGVhZjogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcge1xuICAgICAgICBsZXQgY3VycmVudEZpZWxkOiBGaWVsZERlZmluaXRpb24gPSB0aGlzO1xuICAgICAgICBsZXQgcGF0aDogRmllbGREZWZpbml0aW9uW10gPSBbXTtcblxuICAgICAgICB3aGlsZSAoY3VycmVudEZpZWxkKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudEZpZWxkKTtcblxuICAgICAgICAgICAgY3VycmVudEZpZWxkID0gY3VycmVudEZpZWxkLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBsZXQgZm9yY2VJbmRleGVyU3ludGF4OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBxdWFsaWZpZWROYW1lID0gcGF0aFtpXS5xdWFsaWZpZWROYW1lKGZhbHNlKVxuXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXNlSW5kZXhlclN5bnRheChxdWFsaWZpZWROYW1lKSB8fCBmb3JjZUluZGV4ZXJTeW50YXgpIHtcbiAgICAgICAgICAgICAgICBxdWFsaWZpZWROYW1lID0gXCJbJ1wiICsgcXVhbGlmaWVkTmFtZSArIFwiJ11cIjtcblxuICAgICAgICAgICAgICAgIGZvcmNlSW5kZXhlclN5bnRheCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIi5cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBxdWFsaWZpZWROYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBxdWFsaWZpZWROYW1lKGFzTGVhZjogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFUeXBlLnF1YWxpZnlGaWVsZE5hbWUodGhpcy5uYW1lLCBhc0xlYWYpO1xuICAgIH1cblxuICAgIGdldCBkaXNwbGF5TmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGxheU5hbWUgPyB0aGlzLl9kaXNwbGF5TmFtZSA6IHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBzZXQgZGlzcGxheU5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9kaXNwbGF5TmFtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBjaGlsZHJlbigpOiBGaWVsZERlZmluaXRpb25bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFUeXBlLmdldENoaWxkRmllbGRzKCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzQ29sbGVjdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVR5cGUuaXNDb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIGdldCB2YWx1ZVR5cGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVR5cGUudmFsdWVUeXBlO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoQykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgQmFzZVRyZWVJdGVtIH0gZnJvbSBcIi4vYmFzZS10cmVlLWl0ZW1cIjtcbmltcG9ydCB7IERlc2lnbmVyUGVlciB9IGZyb20gXCIuL2Rlc2lnbmVyLXBlZXJzXCI7XG5cbmV4cG9ydCBjbGFzcyBEZXNpZ25lclBlZXJUcmVlSXRlbSBleHRlbmRzIEJhc2VUcmVlSXRlbSB7XG4gICAgcHJpdmF0ZSBjb21wdXRlTGV2ZWwoKSB7XG4gICAgICAgIHRoaXMuX2xldmVsID0gMDtcblxuICAgICAgICBsZXQgcGVlciA9IHRoaXMub3duZXI7XG5cbiAgICAgICAgd2hpbGUgKHBlZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xldmVsKys7XG5cbiAgICAgICAgICAgIHBlZXIgPSBwZWVyLnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgKHRoaXMuZ2V0Q2hpbGRBdChpKSBhcyBEZXNpZ25lclBlZXJUcmVlSXRlbSkuY29tcHV0ZUxldmVsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SWNvbkNsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLnJlZ2lzdHJhdGlvbi5pY29uQ2xhc3M7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldExhYmVsVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5vd25lci5nZXRDYXJkT2JqZWN0KCkuZ2V0SnNvblR5cGVOYW1lKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxUZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmdldFRyZWVJdGVtVGV4dCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZWxlY3RlZENoYW5nZWQoc2Nyb2xsSW50b1ZpZXc6IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIuc2VsZWN0ZWRDaGFuZ2VkKHNjcm9sbEludG9WaWV3KTtcblxuICAgICAgICB0aGlzLm93bmVyLmlzU2VsZWN0ZWQgPSB0aGlzLmlzU2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgb3duZXI6IERlc2lnbmVyUGVlcjtcblxuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBEZXNpZ25lclBlZXIsIGlzRXhwYW5kZWQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyKGlzRXhwYW5kZWQpO1xuXG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5vd25lci5vblBhcmVudENoYW5nZWQgPSAoc2VuZGVyOiBEZXNpZ25lclBlZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZUxldmVsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXB1dGVMZXZlbCgpO1xuICAgIH1cblxuICAgIGdldENoaWxkQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3duZXIuZ2V0Q2hpbGRDb3VudCgpO1xuICAgIH1cblxuICAgIGdldENoaWxkQXQoaW5kZXg6IG51bWJlcik6IEJhc2VUcmVlSXRlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyLmdldENoaWxkQXQoaW5kZXgpLnRyZWVJdGVtO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQWRhcHRpdmUgIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5pbXBvcnQgKiBhcyBDb250cm9scyAgZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IERyYWdnYWJsZUVsZW1lbnQgfSBmcm9tIFwiLi9kcmFnZ2FibGUtZWxlbWVudFwiO1xuaW1wb3J0IHsgUGVlckNvbW1hbmQgfSBmcm9tIFwiLi9wZWVyLWNvbW1hbmRcIjtcbmltcG9ydCB7IENhcmREZXNpZ25lclN1cmZhY2UsIERlc2lnbkNvbnRleHQgfSBmcm9tIFwiLi9jYXJkLWRlc2lnbmVyLXN1cmZhY2VcIjtcbmltcG9ydCB7IERlc2lnbmVyUGVlclRyZWVJdGVtIH0gZnJvbSBcIi4vZGVzaWduZXItcGVlci10cmVlaXRlbVwiO1xuaW1wb3J0IHsgUmVjdCwgSVBvaW50LCBVdGlscyB9IGZyb20gXCIuL21pc2NlbGxhbmVvdXNcIjtcbmltcG9ydCB7IEdsb2JhbFNldHRpbmdzIH0gZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgeyBGaWVsZFBpY2tlciB9IGZyb20gXCIuL2ZpZWxkLXBpY2tlclwiO1xuaW1wb3J0IHsgU3RyaW5ncyB9IGZyb20gXCIuL3N0cmluZ3NcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERlc2lnbmVyUGVlcklucGxhY2VFZGl0b3Ige1xuICAgIG9uQ2xvc2U6IChhcHBseUNoYW5nZXM6IGJvb2xlYW4pID0+IHZvaWQ7XG5cbiAgICBhYnN0cmFjdCBpbml0aWFsaXplKCk7XG4gICAgYWJzdHJhY3QgYXBwbHlDaGFuZ2VzKCk7XG4gICAgYWJzdHJhY3QgcmVuZGVyKCk6IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FyZEVsZW1lbnRQZWVySW5wbGFjZUVkaXRvcjxUQ2FyZEVsZW1lbnQgZXh0ZW5kcyBBZGFwdGl2ZS5DYXJkRWxlbWVudD4gZXh0ZW5kcyBEZXNpZ25lclBlZXJJbnBsYWNlRWRpdG9yIHtcbiAgICByZWFkb25seSBjYXJkRWxlbWVudDogVENhcmRFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IoY2FyZEVsZW1lbnQ6IFRDYXJkRWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQgPSBjYXJkRWxlbWVudDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlIHtcbiAgICBwcml2YXRlIF9pY29uQ2xhc3M/OiBzdHJpbmc7XG5cbiAgICByZWFkb25seSBjYXRlZ29yeTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoY2F0ZWdvcnk6IHN0cmluZywgaWNvbkNsYXNzPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBjYXRlZ29yeTtcbiAgICAgICAgdGhpcy5faWNvbkNsYXNzID0gaWNvbkNsYXNzO1xuICAgIH1cblxuICAgIGdldCBpY29uQ2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ljb25DbGFzcyA/IHRoaXMuX2ljb25DbGFzcyA6IFwiYWNkLWljb24tZGVmYXVsdEVsZW1lbnRJY29uXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uPFRTb3VyY2UsIFRQZWVyPiBleHRlbmRzIERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2V7XG4gICAgcmVhZG9ubHkgc291cmNlVHlwZTogVFNvdXJjZTtcblxuICAgIHBlZXJUeXBlOiBUUGVlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZVR5cGU6IFRTb3VyY2UsIHBlZXJUeXBlOiBUUGVlciwgY2F0ZWdvcnk6IHN0cmluZywgaWNvbkNsYXNzOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIHN1cGVyKGNhdGVnb3J5LCBpY29uQ2xhc3MpO1xuXG4gICAgICAgIHRoaXMuc291cmNlVHlwZSA9IHNvdXJjZVR5cGU7XG4gICAgICAgIHRoaXMucGVlclR5cGUgPSBwZWVyVHlwZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkge1xuICAgIHN0YXRpYyByZWFkb25seSBEZWZhdWx0Q2F0ZWdvcnkgPSBcIl9fZGVmYXVsdENhdGVnb3J5XCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IExheW91dENhdGVnb3J5ID0gXCJMYXlvdXRcIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgU3R5bGVDYXRlZ29yeSA9IFwiU3R5bGVcIjtcbiAgICBzdGF0aWMgcmVhZG9ubHkgU2VsZWN0aW9uQWN0aW9uID0gXCJTZWxlY3Rpb24gYWN0aW9uXCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IElubGluZUFjdGlvbiA9IFwiSW5saW5lIGFjdGlvblwiO1xuICAgIHN0YXRpYyByZWFkb25seSBWYWxpZGF0aW9uID0gXCJWYWxpZGF0aW9uXCI7XG4gICAgc3RhdGljIHJlYWRvbmx5IFJlZnJlc2ggPSBcIlJlZnJlc2hcIlxuXG4gICAgcHJpdmF0ZSBfZW50cmllczogUHJvcGVydHlTaGVldEVudHJ5W10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IG5hbWU6IHN0cmluZykgeyB9XG5cbiAgICByZW5kZXIoY29udGFpbmVyOiBBZGFwdGl2ZS5Db250YWluZXIsIGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCBkaXNwbGF5Q2F0ZWdvcnlOYW1lOiBib29sZWFuKSB7XG4gICAgICAgIGxldCBlbnRyaWVzVG9SZW5kZXI6IFByb3BlcnR5U2hlZXRFbnRyeVtdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5fZW50cmllcykge1xuICAgICAgICAgICAgaWYgKEFkYXB0aXZlLmlzVmVyc2lvbkxlc3NPckVxdWFsKGVudHJ5LnRhcmdldFZlcnNpb24sIGNvbnRleHQuZGVzaWduQ29udGV4dC50YXJnZXRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgIGVudHJpZXNUb1JlbmRlci5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyaWVzVG9SZW5kZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGRpc3BsYXlDYXRlZ29yeU5hbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVhZGVyID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgICAgIGhlYWRlci5zZXBhcmF0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhlYWRlci50ZXh0ID0gXCIqKlwiICsgKHRoaXMubmFtZSA9PT0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSA/IGNvbnRleHQucGVlci5nZXRDYXJkT2JqZWN0KCkuZ2V0SnNvblR5cGVOYW1lKCkgOiB0aGlzLm5hbWUpICsgXCIqKlwiO1xuXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZEl0ZW0oaGVhZGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZW50cmllc1RvUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFkYXB0aXZlLmlzVmVyc2lvbkxlc3NPckVxdWFsKGVudHJ5LnRhcmdldFZlcnNpb24sIGNvbnRleHQuZGVzaWduQ29udGV4dC50YXJnZXRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkSXRlbShlbnRyeS5yZW5kZXIoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZCguLi5lbnRyaWVzOiBQcm9wZXJ0eVNoZWV0RW50cnlbXSkge1xuICAgICAgICB0aGlzLl9lbnRyaWVzID0gdGhpcy5fZW50cmllcy5jb25jYXQoZW50cmllcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKC4uLmVudHJpZXM6IFByb3BlcnR5U2hlZXRFbnRyeVtdKSB7XG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGxldCBpbmRleDogbnVtYmVyO1xuXG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fZW50cmllcy5pbmRleE9mKGVudHJ5KTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChpbmRleCA+PSAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEVudHJ5QXQoaW5kZXg6IG51bWJlcik6IFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRyaWVzW2luZGV4XTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRyaWVzLmxlbmd0aDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVNoZWV0IHtcbiAgICBwcml2YXRlIF9jYXRlZ29yaWVzOiB7IFtrZXk6IHN0cmluZ106IFByb3BlcnR5U2hlZXRDYXRlZ29yeSB9ID0ge307XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBkaXNwbGF5Q2F0ZWdvcnlOYW1lczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fY2F0ZWdvcmllc1tQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5XSA9IG5ldyBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkoUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSk7XG4gICAgICAgIHRoaXMuX2NhdGVnb3JpZXNbUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5XSA9IG5ldyBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkoUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5KTtcbiAgICAgICAgdGhpcy5fY2F0ZWdvcmllc1tQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeV0gPSBuZXcgUHJvcGVydHlTaGVldENhdGVnb3J5KFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TdHlsZUNhdGVnb3J5KTtcbiAgICB9XG5cbiAgICBhZGQoY2F0ZWdvcnlOYW1lOiBzdHJpbmcsIC4uLmVudHJpZXM6IFByb3BlcnR5U2hlZXRFbnRyeVtdKSB7XG4gICAgICAgIGxldCBjYXRlZ29yeSA9IHRoaXMuX2NhdGVnb3JpZXNbY2F0ZWdvcnlOYW1lXTtcblxuICAgICAgICBpZiAoIWNhdGVnb3J5KSB7XG4gICAgICAgICAgICBjYXRlZ29yeSA9IG5ldyBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkoY2F0ZWdvcnlOYW1lKTtcblxuICAgICAgICAgICAgdGhpcy5fY2F0ZWdvcmllc1tjYXRlZ29yeU5hbWVdID0gY2F0ZWdvcnk7XG4gICAgICAgIH1cblxuICAgICAgICBjYXRlZ29yeS5hZGQoLi4uZW50cmllcyk7XG4gICAgfVxuXG4gICAgYWRkQWN0aW9uUHJvcGVydGllcyhcbiAgICAgICAgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbixcbiAgICAgICAgcGVlcjogRGVzaWduZXJQZWVyLFxuICAgICAgICBhY3Rpb246IEFkYXB0aXZlLkFjdGlvbixcbiAgICAgICAgY2F0ZWdvcnk6IHN0cmluZyxcbiAgICAgICAgZXhjbHVkZVByb3BlcnRpZXM6IFByb3BlcnR5U2hlZXRFbnRyeVtdID0gWyBBY3Rpb25QZWVyLmljb25VcmxQcm9wZXJ0eSwgQWN0aW9uUGVlci5zdHlsZVByb3BlcnR5LCBBY3Rpb25QZWVyLm1vZGVQcm9wZXJ0eSBdKSB7XG4gICAgICAgIGxldCBhY3Rpb25QZWVyID0gQ2FyZERlc2lnbmVyU3VyZmFjZS5hY3Rpb25QZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHBlZXIuZGVzaWduZXJTdXJmYWNlLCBudWxsLCBhY3Rpb24pO1xuICAgICAgICBhY3Rpb25QZWVyLm9uQ2hhbmdlZCA9IChzZW5kZXI6IERlc2lnbmVyUGVlciwgdXBkYXRlUHJvcGVydHlTaGVldDogYm9vbGVhbikgPT4geyBwZWVyLmNoYW5nZWQodXBkYXRlUHJvcGVydHlTaGVldCk7IH07XG5cbiAgICAgICAgbGV0IHN1YlByb3BlcnR5U2hlZXQgPSBuZXcgUHJvcGVydHlTaGVldChmYWxzZSk7XG4gICAgICAgIGFjdGlvblBlZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHN1YlByb3BlcnR5U2hlZXQsIGNhdGVnb3J5KTtcblxuICAgICAgICBpZiAoZXhjbHVkZVByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc3ViUHJvcGVydHlTaGVldC5yZW1vdmUoLi4uZXhjbHVkZVByb3BlcnRpZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGQoXG4gICAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICAgIG5ldyBTdWJQcm9wZXJ0eVNoZWV0RW50cnkodGFyZ2V0VmVyc2lvbiwgYWN0aW9uLCBzdWJQcm9wZXJ0eVNoZWV0KSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKC4uLmVudHJpZXM6IFByb3BlcnR5U2hlZXRFbnRyeVtdKSB7XG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5TmFtZSBvZiBPYmplY3Qua2V5cyh0aGlzLl9jYXRlZ29yaWVzKSkge1xuICAgICAgICAgICAgdGhpcy5fY2F0ZWdvcmllc1tjYXRlZ29yeU5hbWVdLnJlbW92ZSguLi5lbnRyaWVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcihjb250YWluZXI6IEFkYXB0aXZlLkNvbnRhaW5lciwgY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpIHtcbiAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnlOYW1lIG9mIE9iamVjdC5rZXlzKHRoaXMuX2NhdGVnb3JpZXMpKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXRlZ29yaWVzW2NhdGVnb3J5TmFtZV0ucmVuZGVyKGNvbnRhaW5lciwgY29udGV4dCwgdGhpcy5kaXNwbGF5Q2F0ZWdvcnlOYW1lcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVNoZWV0Q29udGV4dCB7XG4gICAgcHJpdmF0ZSBfdGFyZ2V0OiBvYmplY3QgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgZGVzaWduQ29udGV4dDogRGVzaWduQ29udGV4dCxcbiAgICAgICAgcmVhZG9ubHkgcGVlcjogRGVzaWduZXJQZWVyLFxuICAgICAgICB0YXJnZXQ6IG9iamVjdCA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldCgpOiBvYmplY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0ICE9IHVuZGVmaW5lZCA/IHRoaXMuX3RhcmdldCA6IHRoaXMucGVlci5nZXRDYXJkT2JqZWN0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUHJvcGVydHlTaGVldEVudHJ5IHtcbiAgICBhYnN0cmFjdCByZW5kZXIoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5DYXJkRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24pIHsgfVxufVxuXG5leHBvcnQgY2xhc3MgU3ViUHJvcGVydHlTaGVldEVudHJ5IHtcbiAgICByZW5kZXIoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5DYXJkRWxlbWVudCB7XG4gICAgICAgIGxldCBjb250YWluZXIgPSBuZXcgQWRhcHRpdmUuQ29udGFpbmVyKCk7XG4gICAgICAgIGNvbnRhaW5lci5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcblxuICAgICAgICB0aGlzLnByb3BlcnR5U2hlZXQucmVuZGVyKGNvbnRhaW5lciwgbmV3IFByb3BlcnR5U2hlZXRDb250ZXh0KFxuICAgICAgICAgICAgY29udGV4dC5kZXNpZ25Db250ZXh0LFxuICAgICAgICAgICAgY29udGV4dC5wZWVyLFxuICAgICAgICAgICAgdGhpcy50YXJnZXQpKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sIHJlYWRvbmx5IHRhcmdldDogb2JqZWN0LCByZWFkb25seSBwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0KSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1c3RvbVByb3BlcnR5U2hlZXRFbnRyeSBleHRlbmRzIFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgcmVuZGVyKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQge1xuICAgICAgICBpZiAodGhpcy5vblJlbmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub25SZW5kZXIoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLCByZWFkb25seSBvblJlbmRlcjogKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KSA9PiBBZGFwdGl2ZS5DYXJkRWxlbWVudCkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uKTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVByb3BlcnR5U2hlZXRFZGl0b3JDb21tYW5kIHtcbiAgICBpZD86IHN0cmluZztcbiAgICBjYXB0aW9uOiBzdHJpbmc7XG4gICAgYWx0VGV4dD86IHN0cmluZztcbiAgICBleHBhbmRlZD86IGJvb2xlYW47XG4gICAgb25FeGVjdXRlOiAoc2VuZGVyOiBTaW5nbGVJbnB1dFByb3BlcnR5RWRpdG9yLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTaW5nbGVJbnB1dFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgUHJvcGVydHlTaGVldEVudHJ5IHtcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgY3JlYXRlSW5wdXQoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBBZGFwdGl2ZS5JbnB1dDtcblxuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0QWRkaXRpb25hbENvbW1hbmRzKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogSVByb3BlcnR5U2hlZXRFZGl0b3JDb21tYW5kW10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmVuZGVyKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQge1xuICAgICAgICBsZXQgbGVmdENvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oKTtcbiAgICAgICAgbGVmdENvbHVtbi53aWR0aCA9IG5ldyBBZGFwdGl2ZS5TaXplQW5kVW5pdCgxMDAsIEFkYXB0aXZlLlNpemVVbml0LlBpeGVsKTtcbiAgICAgICAgbGVmdENvbHVtbi52ZXJ0aWNhbENvbnRlbnRBbGlnbm1lbnQgPSBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudC5DZW50ZXI7XG5cbiAgICAgICAgbGV0IHJpZ2h0Q29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbigpO1xuICAgICAgICByaWdodENvbHVtbi53aWR0aCA9IFwic3RyZXRjaFwiO1xuICAgICAgICByaWdodENvbHVtbi52ZXJ0aWNhbENvbnRlbnRBbGlnbm1lbnQgPSBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudC5DZW50ZXI7XG5cbiAgICAgICAgbGV0IGNvbHVtblNldCA9IG5ldyBBZGFwdGl2ZS5Db2x1bW5TZXQoKTtcblxuICAgICAgICBjb2x1bW5TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG5cbiAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbihsZWZ0Q29sdW1uKTtcbiAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbihyaWdodENvbHVtbik7XG5cbiAgICAgICAgbGV0IGxhYmVsID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICBsYWJlbC5ob3Jpem9udGFsQWxpZ25tZW50ID0gQWRhcHRpdmUuSG9yaXpvbnRhbEFsaWdubWVudC5SaWdodDtcbiAgICAgICAgbGFiZWwud3JhcCA9IHRydWU7XG4gICAgICAgIGxhYmVsLnRleHQgPSB0aGlzLmxhYmVsO1xuICAgICAgICBsYWJlbC5pZCA9IEFkYXB0aXZlLmdlbmVyYXRlVW5pcXVlSWQoKTtcblxuICAgICAgICBsZXQgaW5wdXQgPSB0aGlzLmNyZWF0ZUlucHV0KGNvbnRleHQpO1xuICAgICAgICBpbnB1dC5sYWJlbGxlZEJ5ID0gbGFiZWwuaWQ7XG5cbiAgICAgICAgaW5wdXQub25WYWx1ZUNoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5VmFsdWUoY29udGV4dCwgaW5wdXQudmFsdWUpO1xuXG4gICAgICAgICAgICBjb250ZXh0LnBlZXIuY2hhbmdlZCh0aGlzLmNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxlZnRDb2x1bW4uYWRkSXRlbShsYWJlbCk7XG4gICAgICAgIHJpZ2h0Q29sdW1uLmFkZEl0ZW0oaW5wdXQpO1xuXG4gICAgICAgIGxldCBhZGRpdGlvbmFsQ29tbWFuZHMgPSB0aGlzLmdldEFkZGl0aW9uYWxDb21tYW5kcyhjb250ZXh0KTtcblxuICAgICAgICBpZiAoYWRkaXRpb25hbENvbW1hbmRzICYmIGFkZGl0aW9uYWxDb21tYW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgY29tbWFuZENvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oKTtcbiAgICAgICAgICAgIGNvbW1hbmRDb2x1bW4ud2lkdGggPSBcImF1dG9cIjtcbiAgICAgICAgICAgIGNvbW1hbmRDb2x1bW4uc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICBjb21tYW5kQ29sdW1uLnZlcnRpY2FsQ29udGVudEFsaWdubWVudCA9IEFkYXB0aXZlLlZlcnRpY2FsQWxpZ25tZW50LkNlbnRlcjtcblxuICAgICAgICAgICAgbGV0IGFjdGlvblNldCA9IG5ldyBBZGFwdGl2ZS5BY3Rpb25TZXQoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgY29tbWFuZCBvZiBhZGRpdGlvbmFsQ29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IEFkYXB0aXZlLlN1Ym1pdEFjdGlvbigpO1xuICAgICAgICAgICAgICAgIGFjdGlvbi5pZCA9IGNvbW1hbmQuaWQ7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnRpdGxlID0gY29tbWFuZC5jYXB0aW9uO1xuICAgICAgICAgICAgICAgIGFjdGlvbi50b29sdGlwID0gY29tbWFuZC5hbHRUZXh0O1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQuZXhwYW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uLnN0YXRlID0gQWRhcHRpdmUuQWN0aW9uQnV0dG9uU3RhdGUuRXhwYW5kZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGFjdGlvbi5vbkV4ZWN1dGUgPSAoc2VuZGVyOiBBZGFwdGl2ZS5BY3Rpb24pID0+IHsgY29tbWFuZC5vbkV4ZWN1dGUodGhpcywgc2VuZGVyLnJlbmRlcmVkRWxlbWVudCk7IH07XG5cbiAgICAgICAgICAgICAgICBhY3Rpb25TZXQuYWRkQWN0aW9uKGFjdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbW1hbmRDb2x1bW4uYWRkSXRlbShhY3Rpb25TZXQpO1xuICAgICAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbihjb21tYW5kQ29sdW1uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2x1bW5TZXQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBsYWJlbDogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKHRhcmdldFZlcnNpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhc2VTdHJpbmdQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBwbGFjZUhvbGRlcjogc3RyaW5nID0gXCIobm90IHNldClcIjtcblxuICAgIHByb3RlY3RlZCBjcmVhdGVJbnB1dChjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLklucHV0IHtcbiAgICAgICAgbGV0IGlucHV0ID0gbmV3IEFkYXB0aXZlLlRleHRJbnB1dCgpO1xuICAgICAgICBpbnB1dC5kZWZhdWx0VmFsdWUgPSB0aGlzLmdldFByb3BlcnR5VmFsdWUoY29udGV4dCk7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5wbGFjZUhvbGRlcjtcbiAgICAgICAgaW5wdXQuaXNNdWx0aWxpbmUgPSB0aGlzLmlzTXVsdGlsaW5lO1xuXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixcbiAgICAgICAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGFsbG93QmluZGluZzogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICByZWFkb25seSBpc011bHRpbGluZTogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICByZWFkb25seSBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKHRhcmdldFZlcnNpb24sIHByb3BlcnR5TmFtZSwgbGFiZWwsIGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdQcm9wZXJ0eUVkaXRvciBleHRlbmRzIEJhc2VTdHJpbmdQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldEFkZGl0aW9uYWxDb21tYW5kcyhjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IElQcm9wZXJ0eVNoZWV0RWRpdG9yQ29tbWFuZFtdIHtcbiAgICAgICAgaWYgKEdsb2JhbFNldHRpbmdzLmVuYWJsZURhdGFCaW5kaW5nU3VwcG9ydCAmJiB0aGlzLmFsbG93QmluZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BlcnR5TmFtZSArIFwiQmluZERhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogU3RyaW5ncy50b29sYm94ZXMucHJvcGVydHlTaGVldC5jb21tYW5kcy5iaW5kRGF0YS5kaXNwbGF5VGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICBhbHRUZXh0OiBTdHJpbmdzLnRvb2xib3hlcy5wcm9wZXJ0eVNoZWV0LmNvbW1hbmRzLmJpbmREYXRhLmFjY2Vzc2libGVUZXh0KHRoaXMubGFiZWwpLFxuICAgICAgICAgICAgICAgICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG9uRXhlY3V0ZTogKHNlbmRlcjogU2luZ2xlSW5wdXRQcm9wZXJ0eUVkaXRvciwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkUGlja2VyID0gbmV3IEZpZWxkUGlja2VyKGNvbnRleHQuZGVzaWduQ29udGV4dC5kYXRhU3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUGlja2VyLm9uQ2xvc2UgPSAoc2VuZGVyLCB3YXNDYW5jZWxsZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQsIGZpZWxkUGlja2VyLnNlbGVjdGVkRmllbGQuYXNFeHByZXNzaW9uKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlja2VkRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBlZXIuY2hhbmdlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tlZEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUGlja2VyLnBvcHVwKGNsaWNrZWRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0QWRkaXRpb25hbENvbW1hbmRzKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3RyaW5nQXJyYXlQcm9wZXJ0eUVkaXRvciBleHRlbmRzIEJhc2VTdHJpbmdQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICBsZXQgcmF3VmFsdWUgPSBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV07XG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgaWYgKHJhd1ZhbHVlICE9PSB1bmRlZmluZWQgJiYgQXJyYXkuaXNBcnJheShyYXdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgcmF3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0LmpvaW4oXCIsXCIpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgcmF3VmFsdWVzID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgcmF3VmFsdWUgb2YgcmF3VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhd1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJhd1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0IDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IHByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBsYWJlbDogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBhbGxvd0JpbmRpbmc6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcmVhZG9ubHkgaXNNdWx0aWxpbmU6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uLCBwcm9wZXJ0eU5hbWUsIGxhYmVsLCBhbGxvd0JpbmRpbmcsIGlzTXVsdGlsaW5lLCBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG5cbiAgICAgICAgdGhpcy5wbGFjZUhvbGRlciA9IFwiKG5vdCBzZXQsIGNvbW1hLXNlcGFyYXRlZCBsaXN0KVwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE51bWJlclByb3BlcnR5RWRpdG9yIGV4dGVuZHMgU2luZ2xlSW5wdXRQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHRoaXMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQge1xuICAgICAgICBsZXQgaW5wdXQgPSBuZXcgQWRhcHRpdmUuTnVtYmVySW5wdXQoKTtcbiAgICAgICAgaW5wdXQuZGVmYXVsdFZhbHVlID0gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQpO1xuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IFwiKG5vdCBzZXQpXCI7XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgZGVmYXVsdFZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgICAgIHJlYWRvbmx5IGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2gpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9iamVjdFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgU3RyaW5nUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3VzdG9tQ2FyZE9iamVjdFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgU3RyaW5nUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucGVlci5nZXRDYXJkT2JqZWN0KCkuZ2V0Q3VzdG9tUHJvcGVydHkodGhpcy5wcm9wZXJ0eU5hbWUpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnRleHQucGVlci5nZXRDYXJkT2JqZWN0KCkuc2V0Q3VzdG9tUHJvcGVydHkodGhpcy5wcm9wZXJ0eU5hbWUsIHZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCb29sZWFuUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBTaW5nbGVJbnB1dFByb3BlcnR5RWRpdG9yIHtcbiAgICBwcm90ZWN0ZWQgZ2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IGFueSB7XG4gICAgICAgIGxldCB2ID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIgPyB2LnRvU3RyaW5nKCkgOiBcImZhbHNlXCI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdmFsdWUgPT0gXCJ0cnVlXCI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQge1xuICAgICAgICBsZXQgaW5wdXQgPSBuZXcgQWRhcHRpdmUuVG9nZ2xlSW5wdXQoKTtcbiAgICAgICAgaW5wdXQuZGVmYXVsdFZhbHVlID0gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQpO1xuXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVZlcnNpb25lZENob2ljZSB7XG4gICAgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbn1cblxuY29uc3QgTm90U2V0VmFsdWUgPSBcIkBAbm90X3NldEBAXCI7XG5cbmV4cG9ydCBjbGFzcyBDaG9pY2VQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFNpbmdsZUlucHV0UHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXTtcblxuICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlICE9PSB1bmRlZmluZWQgPyBjdXJyZW50VmFsdWUudG9TdHJpbmcoKSA6IE5vdFNldFZhbHVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gTm90U2V0VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQge1xuICAgICAgICBsZXQgaW5wdXQgPSBuZXcgQWRhcHRpdmUuQ2hvaWNlU2V0SW5wdXQoKTtcbiAgICAgICAgaW5wdXQuZGVmYXVsdFZhbHVlID0gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQpO1xuICAgICAgICBpbnB1dC5pc0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLmlzTnVsbGFibGUpIHtcbiAgICAgICAgICAgIGlucHV0LmNob2ljZXMucHVzaChuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiKG5vdCBzZXQpXCIsIE5vdFNldFZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IFwiKG5vdCBzZXQpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBjaG9pY2Ugb2YgdGhpcy5jaG9pY2VzKSB7XG4gICAgICAgICAgICBpZiAoQWRhcHRpdmUuaXNWZXJzaW9uTGVzc09yRXF1YWwoY2hvaWNlLnRhcmdldFZlcnNpb24sIGNvbnRleHQuZGVzaWduQ29udGV4dC50YXJnZXRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgIGlucHV0LmNob2ljZXMucHVzaChuZXcgQWRhcHRpdmUuQ2hvaWNlKGNob2ljZS5uYW1lLCBjaG9pY2UudmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixcbiAgICAgICAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGNob2ljZXM6IElWZXJzaW9uZWRDaG9pY2VbXSxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcmVhZG9ubHkgaXNOdWxsYWJsZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKHRhcmdldFZlcnNpb24sIHByb3BlcnR5TmFtZSwgbGFiZWwsIGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb250YWluZXJTdHlsZVByb3BlcnR5RWRpdG9yIGV4dGVuZHMgQ2hvaWNlUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgbGV0IGN1cnJlbnRTdHlsZSA9IGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXTtcblxuICAgICAgICByZXR1cm4gY3VycmVudFN0eWxlID8gY3VycmVudFN0eWxlLnRvU3RyaW5nKCkgOiBOb3RTZXRWYWx1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodmFsdWUgPT0gTm90U2V0VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixyZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZywgcmVhZG9ubHkgbGFiZWw6IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIHRhcmdldFZlcnNpb24sXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiKG5vdCBzZXQpXCIsIHZhbHVlOiBOb3RTZXRWYWx1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJEZWZhdWx0XCIsIHZhbHVlOiBcImRlZmF1bHRcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJFbXBoYXNpc1wiLCB2YWx1ZTogXCJlbXBoYXNpc1wiIH0sXG4gICAgICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBuYW1lOiBcIkFjY2VudFwiLCB2YWx1ZTogXCJhY2NlbnRcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgbmFtZTogXCJHb29kXCIsIHZhbHVlOiBcImdvb2RcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgbmFtZTogXCJBdHRlbnRpb25cIiwgdmFsdWU6IFwiYXR0ZW50aW9uXCIgfSxcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIG5hbWU6IFwiV2FybmluZ1wiLCB2YWx1ZTogXCJ3YXJuaW5nXCIgfVxuICAgICAgICAgICAgXSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTnVsbGFibGVCb29sZWFuUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBDaG9pY2VQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudFZhbHVlID09PSBcImJvb2xlYW5cIiA/IGN1cnJlbnRWYWx1ZS50b1N0cmluZygpIDogTm90U2V0VmFsdWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBOb3RTZXRWYWx1ZSkge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdmFsdWUgPT09IFwidHJ1ZVwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixyZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZywgcmVhZG9ubHkgbGFiZWw6IHN0cmluZykge1xuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIHRhcmdldFZlcnNpb24sXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiKG5vdCBzZXQpXCIsIHZhbHVlOiBOb3RTZXRWYWx1ZSB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJUcnVlXCIsIHZhbHVlOiBcInRydWVcIiB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgbmFtZTogXCJGYWxzZVwiLCB2YWx1ZTogXCJmYWxzZVwiIH1cbiAgICAgICAgICAgIF0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtbldpZHRoUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBDaG9pY2VQcm9wZXJ0eUVkaXRvciB7XG4gICAgcHJvdGVjdGVkIGdldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpOiBhbnkge1xuICAgICAgICBpZiAoY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdIGluc3RhbmNlb2YgQWRhcHRpdmUuU2l6ZUFuZFVuaXQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0udW5pdCA9PSBBZGFwdGl2ZS5TaXplVW5pdC5QaXhlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInBpeGVsc1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwid2VpZ2h0ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gXCJhdXRvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGl4ZWxzXCI6XG4gICAgICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gbmV3IEFkYXB0aXZlLlNpemVBbmRVbml0KDUwLCBBZGFwdGl2ZS5TaXplVW5pdC5QaXhlbCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwid2VpZ2h0ZWRcIjpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBuZXcgQWRhcHRpdmUuU2l6ZUFuZFVuaXQoNTAsIEFkYXB0aXZlLlNpemVVbml0LldlaWdodCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic3RyZXRjaFwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBcInN0cmV0Y2hcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhlaWdodFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgQ2hvaWNlUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBwcm9jZXNzZWRWYWx1ZTogc3RyaW5nO1xuXG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICAgICAgICBjYXNlIFwic3RyZXRjaFwiOlxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFZhbHVlID0gXCJhdXRvXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBwcm9jZXNzZWRWYWx1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaXplQW5kVW5pdFByb3BlcnR5RWRpdG9yIGV4dGVuZHMgTnVtYmVyUHJvcGVydHlFZGl0b3Ige1xuICAgIHByb3RlY3RlZCBnZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogYW55IHtcbiAgICAgICAgcmV0dXJuICg8QWRhcHRpdmUuU2l6ZUFuZFVuaXQ+Y29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdKS5waHlzaWNhbFNpemUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBuZXcgQWRhcHRpdmUuU2l6ZUFuZFVuaXQocGFyc2VJbnQodmFsdWUpLCB0aGlzLnNpemVVbml0KTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixcbiAgICAgICAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IHNpemVVbml0OiBBZGFwdGl2ZS5TaXplVW5pdCxcbiAgICAgICAgcmVhZG9ubHkgZGVmYXVsdFZhbHVlOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgICAgIHJlYWRvbmx5IGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgZGVmYXVsdFZhbHVlLCBjYXVzZXNQcm9wZXJ0eVNoZWV0UmVmcmVzaCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWN0aW9uUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBTaW5nbGVJbnB1dFByb3BlcnR5RWRpdG9yIHtcbiAgICBwcm90ZWN0ZWQgZ2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IGFueSB7XG4gICAgICAgIGxldCBhY3Rpb24gPSA8QWRhcHRpdmUuQWN0aW9uPmNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXTtcblxuICAgICAgICByZXR1cm4gYWN0aW9uID8gYWN0aW9uLmdldEpzb25UeXBlTmFtZSgpIDogXCJub25lXCI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldFByb3BlcnR5VmFsdWUoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHZhbHVlID09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSBjb250ZXh0LmRlc2lnbkNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuY3JlYXRlSW5zdGFuY2UodmFsdWUsIGNvbnRleHQuZGVzaWduQ29udGV4dC50YXJnZXRWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVJbnB1dChjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLklucHV0IHtcbiAgICAgICAgbGV0IGlucHV0ID0gbmV3IEFkYXB0aXZlLkNob2ljZVNldElucHV0KCk7XG4gICAgICAgIGlucHV0LmRlZmF1bHRWYWx1ZSA9IHRoaXMuZ2V0UHJvcGVydHlWYWx1ZShjb250ZXh0KTtcbiAgICAgICAgaW5wdXQuaXNDb21wYWN0ID0gdHJ1ZTtcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSBcIihub3Qgc2V0KVwiO1xuICAgICAgICBpbnB1dC5jaG9pY2VzLnB1c2gobmV3IEFkYXB0aXZlLkNob2ljZShcIihub3Qgc2V0KVwiLCBcIm5vbmVcIikpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dC5kZXNpZ25Db250ZXh0Lmhvc3RDb250YWluZXIuYWN0aW9uc1JlZ2lzdHJ5LmdldEl0ZW1Db3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhY3Rpb25UeXBlID0gY29udGV4dC5kZXNpZ25Db250ZXh0Lmhvc3RDb250YWluZXIuYWN0aW9uc1JlZ2lzdHJ5LmdldEl0ZW1BdChpKS50eXBlTmFtZTtcbiAgICAgICAgICAgIGxldCBleGNsdWRlQWN0aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZm9yYmlkZGVuQWN0aW9uVHlwZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbGlzdCBjb250YWlucyBcIipcIiwgYWxsIGFjdGlvbiB0eXBlcyBhcmUgZGlzYWxsb3dlZC4uLlxuICAgICAgICAgICAgICAgIGV4Y2x1ZGVBY3Rpb24gPSB0aGlzLmZvcmJpZGRlbkFjdGlvblR5cGVzLmluZGV4T2YoXCIqXCIpID49IDAgfHwgdGhpcy5mb3JiaWRkZW5BY3Rpb25UeXBlcy5pbmRleE9mKGFjdGlvblR5cGUpID49IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZUFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyAuLi5leGNlcHQgaWYgdGhlIGxpc3QgZXhwbGljaXRseSBjb250YWlucyB0aGUgdHlwZSBuYW1lIHByZWZpeGVkIHdpdGggYSBcIi1cIiBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gRXhhbXBsZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgWyBcIipcIiwgXCItQWN0aW9uLkV4ZWN1dGVcIiwgXCItQWN0aW9uLlN1Ym1pdFwiIF1cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgTWVhbmluZzogYWxsIGFjdGlvbnMgYXJlIGRpc2FsbG93ZWQgZXhjZXB0IEFjdGlvbi5FeGVjdXRlIGFuZCBBY3Rpb24uU3VibWl0XG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVBY3Rpb24gPSB0aGlzLmZvcmJpZGRlbkFjdGlvblR5cGVzLmluZGV4T2YoXCItXCIgKyBhY3Rpb25UeXBlKSA8IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWV4Y2x1ZGVBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hvaWNlID0gbmV3IEFkYXB0aXZlLkNob2ljZShhY3Rpb25UeXBlLCBhY3Rpb25UeXBlKTtcblxuICAgICAgICAgICAgICAgIGlucHV0LmNob2ljZXMucHVzaChjaG9pY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICByZWFkb25seSB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5UYXJnZXRWZXJzaW9uLFxuICAgICAgICByZWFkb25seSBwcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgZm9yYmlkZGVuQWN0aW9uVHlwZXM6IHN0cmluZ1tdID0gW10sXG4gICAgICAgIHJlYWRvbmx5IGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbiwgcHJvcGVydHlOYW1lLCBsYWJlbCwgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2gpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvdW5kUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBQcm9wZXJ0eVNoZWV0RW50cnkge1xuICAgIHJlbmRlcihjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLkNhcmRFbGVtZW50IHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IG5ldyBBZGFwdGl2ZS5Db250YWluZXIoKTtcblxuICAgICAgICBsZXQgdGFyZ2V0ID0gY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdO1xuXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmluaXRpYWxpemVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcy5pbml0aWFsaXplUHJvcGVydHkoKTtcblxuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5lbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFkYXB0aXZlLmlzVmVyc2lvbkxlc3NPckVxdWFsKGVudHJ5LnRhcmdldFZlcnNpb24sIGNvbnRleHQuZGVzaWduQ29udGV4dC50YXJnZXRWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkSXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnJlbmRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvcGVydHlTaGVldENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGVzaWduQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wZWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixcbiAgICAgICAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGVudHJpZXM6IFByb3BlcnR5U2hlZXRFbnRyeVtdID0gW10sXG4gICAgICAgIHJlYWRvbmx5IGluaXRpYWxpemVQcm9wZXJ0eT86ICgpID0+IG9iamVjdCkge1xuICAgICAgICBzdXBlcih0YXJnZXRWZXJzaW9uKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnVtUHJvcGVydHlFZGl0b3IgZXh0ZW5kcyBTaW5nbGVJbnB1dFByb3BlcnR5RWRpdG9yIHtcbiAgICBwcm90ZWN0ZWQgZ2V0UHJvcGVydHlWYWx1ZShjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IGFueSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNvbnRleHQudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXTtcblxuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogXCItMVwiO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGxldCB2YWx1ZUFzSW50ID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcblxuICAgICAgICBpZiAodmFsdWVBc0ludCA+PSAwKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRhcmdldFt0aGlzLnByb3BlcnR5TmFtZV0gPSB2YWx1ZUFzSW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNyZWF0ZUlucHV0KGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0KTogQWRhcHRpdmUuSW5wdXQge1xuICAgICAgICBsZXQgaW5wdXQgPSBuZXcgQWRhcHRpdmUuQ2hvaWNlU2V0SW5wdXQoKTtcbiAgICAgICAgaW5wdXQuaXNDb21wYWN0ID0gdHJ1ZTtcblxuICAgICAgICBsZXQgZGVmYXVsdFZhbHVlID0gdGhpcy5nZXRQcm9wZXJ0eVZhbHVlKGNvbnRleHQpO1xuICAgICAgICBpbnB1dC5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IFwiLTFcIjtcblxuICAgICAgICBpZiAodGhpcy5pc051bGxhYmxlKSB7XG4gICAgICAgICAgICBpbnB1dC5jaG9pY2VzLnB1c2gobmV3IEFkYXB0aXZlLkNob2ljZShcIihub3Qgc2V0KVwiLCBcIi0xXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gXCIobm90IHNldClcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmVudW1UeXBlKSB7XG4gICAgICAgICAgICBsZXQgdiA9IHBhcnNlSW50KGtleSwgMTApO1xuXG4gICAgICAgICAgICBpZiAoIWlzTmFOKHYpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuY2hvaWNlcy5wdXNoKG5ldyBBZGFwdGl2ZS5DaG9pY2UodGhpcy5lbnVtVHlwZVtrZXldLCBrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVGFyZ2V0VmVyc2lvbixcbiAgICAgICAgcmVhZG9ubHkgcHJvcGVydHlOYW1lOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmcsXG4gICAgICAgIHJlYWRvbmx5IGVudW1UeXBlOiB7IFtzOiBudW1iZXJdOiBzdHJpbmcgfSxcbiAgICAgICAgcmVhZG9ubHkgY2F1c2VzUHJvcGVydHlTaGVldFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgcmVhZG9ubHkgaXNOdWxsYWJsZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIHN1cGVyKHRhcmdldFZlcnNpb24sIHByb3BlcnR5TmFtZSwgbGFiZWwsIGNhdXNlc1Byb3BlcnR5U2hlZXRSZWZyZXNoKTtcbiAgICB9XG59XG5cbmludGVyZmFjZSBJTmFtZVZhbHVlUGFpciB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHZhbHVlOiBzdHJpbmc7XG59XG5cbmNsYXNzIE5hbWVWYWx1ZVBhaXJQcm9wZXJ0eUVkaXRvciBleHRlbmRzIFByb3BlcnR5U2hlZXRFbnRyeSB7XG4gICAgcHJpdmF0ZSBjb2xsZWN0aW9uQ2hhbmdlZChjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCwgbmFtZVZhbHVlUGFpcnM6IElOYW1lVmFsdWVQYWlyW10sIHJlZnJlc2hQcm9wZXJ0eVNoZWV0OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnRleHQudGFyZ2V0W3RoaXMuY29sbGVjdGlvblByb3BlcnR5TmFtZV0gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBuYW1lVmFsdWVQYWlyIG9mIG5hbWVWYWx1ZVBhaXJzKSB7XG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMuY3JlYXRlQ29sbGVjdGlvbkl0ZW0obmFtZVZhbHVlUGFpci5uYW1lLCBuYW1lVmFsdWVQYWlyLnZhbHVlKTtcblxuICAgICAgICAgICAgY29udGV4dC50YXJnZXRbdGhpcy5jb2xsZWN0aW9uUHJvcGVydHlOYW1lXS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5wZWVyLmNoYW5nZWQocmVmcmVzaFByb3BlcnR5U2hlZXQpO1xuICAgIH1cblxuICAgIHJlbmRlcihjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLkNhcmRFbGVtZW50IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBZGFwdGl2ZS5Db250YWluZXIoKTtcblxuICAgICAgICBsZXQgY29sbGVjdGlvbiA9IGNvbnRleHQudGFyZ2V0W3RoaXMuY29sbGVjdGlvblByb3BlcnR5TmFtZV07XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgXCIgKyB0aGlzLmNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWUgKyBcIiBwcm9wZXJ0eSBvbiBcIiArIGNvbnRleHQucGVlci5nZXRDYXJkT2JqZWN0KCkuZ2V0SnNvblR5cGVOYW1lKCkgKyBcIiBlaXRoZXIgZG9lc24ndCBleGlzdCBvciBpc24ndCBhbiBhcnJheS5cIilcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lVmFsdWVQYWlyczogSU5hbWVWYWx1ZVBhaXJbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHBhaXIgb2YgY29sbGVjdGlvbikge1xuICAgICAgICAgICAgbmFtZVZhbHVlUGFpcnMucHVzaChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhaXJbdGhpcy5uYW1lUHJvcGVydHlOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhaXJbdGhpcy52YWx1ZVByb3BlcnR5TmFtZV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZVZhbHVlUGFpcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlVGV4dEJsb2NrID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgbWVzc2FnZVRleHRCbG9jay5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0QmxvY2sudGV4dCA9IHRoaXMubWVzc2FnZUlmRW1wdHk7XG5cbiAgICAgICAgICAgIHJlc3VsdC5hZGRJdGVtKG1lc3NhZ2VUZXh0QmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lVmFsdWVQYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0SW5wdXQgPSBuZXcgQWRhcHRpdmUuVGV4dElucHV0KCk7XG4gICAgICAgICAgICAgICAgdGV4dElucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5uYW1lUHJvcGVydHlMYWJlbDtcbiAgICAgICAgICAgICAgICB0ZXh0SW5wdXQuZGVmYXVsdFZhbHVlID0gbmFtZVZhbHVlUGFpcnNbaV0ubmFtZTtcbiAgICAgICAgICAgICAgICB0ZXh0SW5wdXQub25WYWx1ZUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVWYWx1ZVBhaXJzW2ldLm5hbWUgPSBzZW5kZXIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uQ2hhbmdlZChjb250ZXh0LCBuYW1lVmFsdWVQYWlycywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsZXQgbmFtZUNvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oXCJzdHJldGNoXCIpO1xuICAgICAgICAgICAgICAgIG5hbWVDb2x1bW4uYWRkSXRlbSh0ZXh0SW5wdXQpO1xuXG4gICAgICAgICAgICAgICAgdGV4dElucHV0ID0gbmV3IEFkYXB0aXZlLlRleHRJbnB1dCgpO1xuICAgICAgICAgICAgICAgIHRleHRJbnB1dC5wbGFjZWhvbGRlciA9IHRoaXMudmFsdWVQcm9wZXJ0eUxhYmVsO1xuICAgICAgICAgICAgICAgIHRleHRJbnB1dC5kZWZhdWx0VmFsdWUgPSBuYW1lVmFsdWVQYWlyc1tpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0ZXh0SW5wdXQub25WYWx1ZUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVWYWx1ZVBhaXJzW2ldLnZhbHVlID0gc2VuZGVyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbkNoYW5nZWQoY29udGV4dCwgbmFtZVZhbHVlUGFpcnMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlQ29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbihcInN0cmV0Y2hcIik7XG4gICAgICAgICAgICAgICAgdmFsdWVDb2x1bW4uc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICAgICAgdmFsdWVDb2x1bW4uYWRkSXRlbSh0ZXh0SW5wdXQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlbW92ZUFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24udGl0bGUgPSBcIlhcIjtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24udG9vbHRpcCA9IFwiUmVtb3ZlXCI7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQWN0aW9uLm9uRXhlY3V0ZSA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZVZhbHVlUGFpcnMuc3BsaWNlKGksIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbkNoYW5nZWQoY29udGV4dCwgbmFtZVZhbHVlUGFpcnMsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBhY3Rpb25TZXQgPSBuZXcgQWRhcHRpdmUuQWN0aW9uU2V0KCk7XG4gICAgICAgICAgICAgICAgYWN0aW9uU2V0LmFkZEFjdGlvbihyZW1vdmVBY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlbW92ZUNvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oXCJhdXRvXCIpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUNvbHVtbi5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgICAgICByZW1vdmVDb2x1bW4uYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtblNldCA9IG5ldyBBZGFwdGl2ZS5Db2x1bW5TZXQoKTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbihuYW1lQ29sdW1uKTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKHZhbHVlQ29sdW1uKTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKHJlbW92ZUNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkSXRlbShjb2x1bW5TZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFkZEFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgYWRkQWN0aW9uLnRpdGxlID0gdGhpcy5hZGRCdXR0b25UaXRsZTtcbiAgICAgICAgYWRkQWN0aW9uLm9uRXhlY3V0ZSA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIG5hbWVWYWx1ZVBhaXJzLnB1c2goeyBuYW1lOiBcIlwiLCB2YWx1ZTogXCJcIiB9KTtcblxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uQ2hhbmdlZChjb250ZXh0LCBuYW1lVmFsdWVQYWlycywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWN0aW9uU2V0ID0gbmV3IEFkYXB0aXZlLkFjdGlvblNldCgpO1xuICAgICAgICBhY3Rpb25TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgIGFjdGlvblNldC5hZGRBY3Rpb24oYWRkQWN0aW9uKTtcblxuICAgICAgICByZXN1bHQuYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHJlYWRvbmx5IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlRhcmdldFZlcnNpb24sXG4gICAgICAgIHJlYWRvbmx5IGNvbGxlY3Rpb25Qcm9wZXJ0eU5hbWU6IHN0cmluZyxcbiAgICAgICAgcmVhZG9ubHkgbmFtZVByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSB2YWx1ZVByb3BlcnR5TmFtZTogc3RyaW5nLFxuICAgICAgICByZWFkb25seSBjcmVhdGVDb2xsZWN0aW9uSXRlbTogKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4gYW55LFxuICAgICAgICByZWFkb25seSBuYW1lUHJvcGVydHlMYWJlbDogc3RyaW5nID0gXCJOYW1lXCIsXG4gICAgICAgIHJlYWRvbmx5IHZhbHVlUHJvcGVydHlMYWJlbDogc3RyaW5nID0gXCJWYWx1ZVwiLFxuICAgICAgICByZWFkb25seSBhZGRCdXR0b25UaXRsZTogc3RyaW5nID0gXCJBZGRcIixcbiAgICAgICAgcmVhZG9ubHkgbWVzc2FnZUlmRW1wdHk6IHN0cmluZyA9IFwiVGhpcyBjb2xsZWN0aW9uIGlzIGVtcHR5XCIpIHtcbiAgICAgICAgc3VwZXIodGFyZ2V0VmVyc2lvbik7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGVzaWduZXJQZWVyIGV4dGVuZHMgRHJhZ2dhYmxlRWxlbWVudCB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlkUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJpZFwiLCBcIklkXCIpO1xuXG4gICAgc3RhdGljIG9uUG9wdWxhdGVQcm9wZXJ0eVNoZWV0PzogKHNlbmRlcjogRGVzaWduZXJQZWVyLCBwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0KSA9PiB2b2lkO1xuXG4gICAgcHJpdmF0ZSBfcGFyZW50OiBEZXNpZ25lclBlZXI7XG4gICAgcHJpdmF0ZSBfY2FyZE9iamVjdDogQWRhcHRpdmUuQ2FyZE9iamVjdDtcbiAgICBwcml2YXRlIF9jaGlsZHJlbjogQXJyYXk8RGVzaWduZXJQZWVyPiA9IFtdO1xuICAgIHByaXZhdGUgX2lzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9pbnBsYWNlRWRpdG9yT3ZlcmxheTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaW5wbGFjZUVkaXRvcjogRGVzaWduZXJQZWVySW5wbGFjZUVkaXRvciA9IG51bGw7XG5cbiAgICBwcml2YXRlIGNsb3NlSW5wbGFjZUVkaXRvcihhcHBseUNoYW5nZXM6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX2lucGxhY2VFZGl0b3IpIHtcbiAgICAgICAgICAgIGlmIChhcHBseUNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yLmFwcGx5Q2hhbmdlcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkKHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHRyeU9wZW5JbnBsYWNlRWRpdG9yKCk6IGJvb2xlYW4ge1xuICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yID0gdGhpcy5jcmVhdGVJbnBsYWNlRWRpdG9yKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lucGxhY2VFZGl0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3Iub25DbG9zZSA9IChhcHBseUNoYW5nZXM6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlSW5wbGFjZUVkaXRvcihhcHBseUNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS5zdHlsZS56SW5kZXggPSBcIjYwMFwiO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3JPdmVybGF5LnN0eWxlLndpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuX2lucGxhY2VFZGl0b3JPdmVybGF5Lm9uZm9jdXMgPSAoZSkgPT4geyB0aGlzLmNsb3NlSW5wbGFjZUVkaXRvcih0cnVlKTsgfTtcblxuICAgICAgICAgICAgbGV0IGNhcmRPYmplY3RCb3VuZGluZ1JlY3QgPSB0aGlzLmdldENhcmRPYmplY3RCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgICAgIGxldCBwZWVyQm91bmRpbmdSZWN0ID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKTtcbiAgICAgICAgICAgIGxldCB0b3BQYWRkaW5nID0gcGVlckJvdW5kaW5nUmVjdC5oZWlnaHQgLSBjYXJkT2JqZWN0Qm91bmRpbmdSZWN0LmhlaWdodDtcblxuICAgICAgICAgICAgbGV0IGlucGxhY2VFZGl0b3JIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGlucGxhY2VFZGl0b3JIb3N0LmNsYXNzTmFtZSA9IFwiYWNkLWlucGxhY2UtZWRpdG9yLWhvc3RcIjtcbiAgICAgICAgICAgIGlucGxhY2VFZGl0b3JIb3N0LnN0eWxlLmxlZnQgPSBNYXRoLmZsb29yKGNhcmRPYmplY3RCb3VuZGluZ1JlY3QubGVmdCArIHBhZ2VYT2Zmc2V0KSArIFwicHhcIjtcbiAgICAgICAgICAgIGlucGxhY2VFZGl0b3JIb3N0LnN0eWxlLnRvcCA9IE1hdGguZmxvb3IoY2FyZE9iamVjdEJvdW5kaW5nUmVjdC50b3AgKyBwYWdlWU9mZnNldCAtIHRvcFBhZGRpbmcpICsgXCJweFwiO1xuICAgICAgICAgICAgaW5wbGFjZUVkaXRvckhvc3Quc3R5bGUud2lkdGggPSBNYXRoLmNlaWwocGVlckJvdW5kaW5nUmVjdC53aWR0aCkgKyBcInB4XCI7XG4gICAgICAgICAgICBpbnBsYWNlRWRpdG9ySG9zdC5zdHlsZS5oZWlnaHQgPSBNYXRoLmNlaWwocGVlckJvdW5kaW5nUmVjdC5oZWlnaHQpICsgXCJweFwiO1xuICAgICAgICAgICAgaW5wbGFjZUVkaXRvckhvc3Quc3R5bGUucGFkZGluZ1RvcCA9IHRvcFBhZGRpbmcgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGxldCByZW5kZXJlZElucGxhY2VFZGl0b3IgPSB0aGlzLl9pbnBsYWNlRWRpdG9yLnJlbmRlcigpO1xuICAgICAgICAgICAgcmVuZGVyZWRJbnBsYWNlRWRpdG9yLmNsYXNzTGlzdC5hZGQoXCJhY2QtaW5wbGFjZS1lZGl0b3JcIik7XG4gICAgICAgICAgICByZW5kZXJlZElucGxhY2VFZGl0b3IudGFiSW5kZXggPSAwO1xuICAgICAgICAgICAgcmVuZGVyZWRJbnBsYWNlRWRpdG9yLm9uYmx1ciA9IChlKSA9PiB7IHRoaXMuY2xvc2VJbnBsYWNlRWRpdG9yKHRydWUpOyB9O1xuXG4gICAgICAgICAgICBpbnBsYWNlRWRpdG9ySG9zdC5hcHBlbmRDaGlsZChyZW5kZXJlZElucGxhY2VFZGl0b3IpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yT3ZlcmxheS5hcHBlbmRDaGlsZChpbnBsYWNlRWRpdG9ySG9zdCk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5faW5wbGFjZUVkaXRvck92ZXJsYXkpO1xuXG4gICAgICAgICAgICB0aGlzLl9pbnBsYWNlRWRpdG9yLmluaXRpYWxpemUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgc3VwZXIuY2xpY2soZSk7XG5cbiAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZG91YmxlQ2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBzdXBlci5kb3VibGVDbGljayhlKTtcblxuICAgICAgICB0aGlzLnRyeU9wZW5JbnBsYWNlRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldFRvb2xUaXAoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICAvLyBEbyBub3RoaW5nIGluIGJhc2UgaW1wbGVtZW50YXRpb25cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxSZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1wZWVyXCIpO1xuXG4gICAgICAgIGxldCB0b29sVGlwID0gdGhpcy5nZXRUb29sVGlwKCk7XG5cbiAgICAgICAgaWYgKHRvb2xUaXApIHtcbiAgICAgICAgICAgIGVsZW1lbnQudGl0bGUgPSB0b29sVGlwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb250YWluZXIoKSkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVDc3NTdHlsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZHJhZ2dpbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcGVlckFkZGVkKG5ld1BlZXI6IERlc2lnbmVyUGVlcikge1xuICAgICAgICB0aGlzLmNoYW5nZWQoZmFsc2UpO1xuXG4gICAgICAgIGlmICh0aGlzLm9uUGVlckFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uUGVlckFkZGVkKHRoaXMsIG5ld1BlZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBlZXJSZW1vdmVkKHBlZXI6IERlc2lnbmVyUGVlcikge1xuICAgICAgICBpZiAodGhpcy5vblBlZXJSZW1vdmVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uUGVlclJlbW92ZWQocGVlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgICAgbGV0IGNsaWVudFJlY3QgPSB0aGlzLmdldEJvdW5kaW5nUmVjdCgpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS53aWR0aCA9IGNsaWVudFJlY3Qud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBjbGllbnRSZWN0LmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnN0eWxlLmxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zdHlsZS50b3AgPSBjbGllbnRSZWN0LnRvcCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVJbnBsYWNlRWRpdG9yKCk6IERlc2lnbmVyUGVlcklucGxhY2VFZGl0b3Ige1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGludGVybmFsUmVtb3ZlKCk6IGJvb2xlYW47XG5cbiAgICByZWFkb25seSByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2U7XG4gICAgcmVhZG9ubHkgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlO1xuICAgIHJlYWRvbmx5IHRyZWVJdGVtOiBEZXNpZ25lclBlZXJUcmVlSXRlbTtcblxuICAgIG9uUGFyZW50Q2hhbmdlZDogKHNlbmRlcjogRGVzaWduZXJQZWVyKSA9PiB2b2lkO1xuICAgIG9uU2VsZWN0ZWRDaGFuZ2VkOiAoc2VuZGVyOiBEZXNpZ25lclBlZXIpID0+IHZvaWQ7XG4gICAgb25DaGFuZ2VkOiAoc2VuZGVyOiBEZXNpZ25lclBlZXIsIHVwZGF0ZVByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gICAgb25QZWVyUmVtb3ZlZDogKHNlbmRlcjogRGVzaWduZXJQZWVyKSA9PiB2b2lkO1xuICAgIG9uUGVlckFkZGVkOiAoc2VuZGVyOiBEZXNpZ25lclBlZXIsIG5ld1BlZXI6IERlc2lnbmVyUGVlcikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGNhcmRPYmplY3Q6IEFkYXB0aXZlLkNhcmRPYmplY3QpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb24gPSByZWdpc3RyYXRpb247XG4gICAgICAgIHRoaXMuZGVzaWduZXJTdXJmYWNlID0gZGVzaWduZXJTdXJmYWNlO1xuICAgICAgICB0aGlzLl9jYXJkT2JqZWN0ID0gY2FyZE9iamVjdDtcbiAgICAgICAgdGhpcy50cmVlSXRlbSA9IG5ldyBEZXNpZ25lclBlZXJUcmVlSXRlbSh0aGlzLCB0aGlzLmlzVHJlZUl0ZW1FeHBhbmRlZEJ5RGVmYXVsdCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgZ2V0Qm91bmRpbmdSZWN0KCk6IFJlY3Q7XG4gICAgYWJzdHJhY3QgZ2V0Q2FyZE9iamVjdEJvdW5kaW5nUmVjdCgpOiBSZWN0O1xuXG4gICAgZ2V0Q2FyZE9iamVjdCgpOiBBZGFwdGl2ZS5DYXJkT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRPYmplY3Q7XG4gICAgfVxuXG4gICAgdXBkYXRlQ2hpbGRyZW4oKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5nZXRDaGlsZEF0KGkpLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGFuZ2VkKHVwZGF0ZVByb3BlcnR5U2hlZXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHRoaXMub25DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlZCh0aGlzLCB1cGRhdGVQcm9wZXJ0eVNoZWV0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRyZWVJdGVtVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgY2FuRHJvcChwZWVyOiBEZXNpZ25lclBlZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNhbkJlUmVtb3ZlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdHJ5RHJvcChwZWVyOiBEZXNpZ25lclBlZXIsIGluc2VydGlvblBvaW50OiBJUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeUFkZChwZWVyOiBEZXNpZ25lclBlZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGluc2VydENoaWxkKHBlZXI6IERlc2lnbmVyUGVlciwgaW5kZXg6IG51bWJlciA9IC0xKSB7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChwZWVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgcGVlcik7XG4gICAgICAgIH1cblxuICAgICAgICBwZWVyLnBhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5wZWVyQWRkZWQocGVlcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGQocGVlcjogRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2NoaWxkcmVuLmluZGV4T2YocGVlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHBlZXIucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDaGlsZENvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRBdChpbmRleDogbnVtYmVyKTogRGVzaWduZXJQZWVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuW2luZGV4XTtcbiAgICB9XG5cbiAgICBnZXRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBwcm9tb3RlUGFyZW50Q29tbWFuZHM6IGJvb2xlYW4gPSBmYWxzZSk6IEFycmF5PFBlZXJDb21tYW5kPiB7XG4gICAgICAgIGxldCByZXN1bHQ6IEFycmF5PFBlZXJDb21tYW5kPiA9IFtdO1xuXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0LCByZXN1bHQpO1xuXG4gICAgICAgIGlmIChwcm9tb3RlUGFyZW50Q29tbWFuZHMgJiYgdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnRDb21tYW5kcyA9IHRoaXMucGFyZW50LmdldENvbW1hbmRzKGNvbnRleHQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjb21tYW5kIG9mIHBhcmVudENvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQuaXNQcm9tb3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlKG9ubHlGcm9tQ2FyZDogYm9vbGVhbiwgcmVtb3ZlQ2hpbGRyZW46IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHJlbW92ZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuWzBdLnJlbW92ZShvbmx5RnJvbUNhcmQsIHJlbW92ZUNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmludGVybmFsUmVtb3ZlKCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCAmJiAhb25seUZyb21DYXJkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50c0Zyb21EZXNpZ25lclN1cmZhY2UoKTtcblxuICAgICAgICAgICAgdGhpcy5wZWVyUmVtb3ZlZCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgYWRkRWxlbWVudHNUb0Rlc2lnbmVyU3VyZmFjZShkZXNpZ25lclN1cmZhY2U6IEhUTUxFbGVtZW50LCBwcm9jZXNzQ2hpbGRyZW46IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBkZXNpZ25lclN1cmZhY2UuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlZEVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChwcm9jZXNzQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRBdChpKS5hZGRFbGVtZW50c1RvRGVzaWduZXJTdXJmYWNlKGRlc2lnbmVyU3VyZmFjZSwgcHJvY2Vzc0NoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZUVsZW1lbnRzRnJvbURlc2lnbmVyU3VyZmFjZShwcm9jZXNzQ2hpbGRyZW46IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucmVuZGVyZWRFbGVtZW50KTtcblxuICAgICAgICBpZiAocHJvY2Vzc0NoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ2V0Q2hpbGRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkQXQoaSkucmVtb3ZlRWxlbWVudHNGcm9tRGVzaWduZXJTdXJmYWNlKHByb2Nlc3NDaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBidWlsZFByb3BlcnR5U2hlZXRDYXJkKGNvbnRleHQ6IERlc2lnbkNvbnRleHQpOiBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQge1xuICAgICAgICBsZXQgY2FyZCA9IG5ldyBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQoKTtcbiAgICAgICAgY2FyZC5wYWRkaW5nID0gbmV3IEFkYXB0aXZlLlBhZGRpbmdEZWZpbml0aW9uKFxuICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbCxcbiAgICAgICAgICAgIEFkYXB0aXZlLlNwYWNpbmcuU21hbGwsXG4gICAgICAgICAgICBBZGFwdGl2ZS5TcGFjaW5nLlNtYWxsLFxuICAgICAgICAgICAgQWRhcHRpdmUuU3BhY2luZy5TbWFsbCk7XG5cbiAgICAgICAgbGV0IHByb3BlcnR5U2hlZXQgPSBuZXcgUHJvcGVydHlTaGVldCgpO1xuXG4gICAgICAgIHRoaXMucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQpO1xuXG4gICAgICAgIGlmIChEZXNpZ25lclBlZXIub25Qb3B1bGF0ZVByb3BlcnR5U2hlZXQpIHtcbiAgICAgICAgICAgIERlc2lnbmVyUGVlci5vblBvcHVsYXRlUHJvcGVydHlTaGVldCh0aGlzLCBwcm9wZXJ0eVNoZWV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQucmVuZGVyKFxuICAgICAgICAgICAgY2FyZCxcbiAgICAgICAgICAgIG5ldyBQcm9wZXJ0eVNoZWV0Q29udGV4dChjb250ZXh0LCB0aGlzKSk7XG5cbiAgICAgICAgbGV0IGFjdGlvblNldCA9IG5ldyBBZGFwdGl2ZS5BY3Rpb25TZXQoKTtcbiAgICAgICAgbGV0IGNvbW1hbmRzID0gdGhpcy5nZXRDb21tYW5kcyhjb250ZXh0LCB0cnVlKTtcblxuICAgICAgICBmb3IgKGxldCBjb21tYW5kIG9mIGNvbW1hbmRzKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZC5zaG93SW5Qcm9wZXJ0eVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBhY3Rpb24udGl0bGUgPSBjb21tYW5kLm5hbWU7XG4gICAgICAgICAgICAgICAgYWN0aW9uLm9uRXhlY3V0ZSA9IChzZW5kZXI6IEFkYXB0aXZlLkFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kLmV4ZWN1dGUoY29tbWFuZCwgYWN0aW9uLnJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWN0aW9uU2V0LmFkZEFjdGlvbihhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYWN0aW9uU2V0LnNlcGFyYXRvciA9IHRydWU7XG5cbiAgICAgICAgY2FyZC5hZGRJdGVtKGFjdGlvblNldCk7XG5cbiAgICAgICAgcmV0dXJuIGNhcmQ7XG4gICAgfVxuXG4gICAgc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRyZWVJdGVtICYmIHRoaXMudHJlZUl0ZW0ucmVuZGVyZWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRyZWVJdGVtLnJlbmRlcmVkRWxlbWVudC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzVHJlZUl0ZW1FeHBhbmRlZEJ5RGVmYXVsdCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IHBhcmVudCgpOiBEZXNpZ25lclBlZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgIH1cblxuICAgIHNldCBwYXJlbnQodmFsdWU6IERlc2lnbmVyUGVlcikge1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5vblBhcmVudENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25QYXJlbnRDaGFuZ2VkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzU2VsZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1NlbGVjdGVkO1xuICAgIH1cblxuICAgIHNldCBpc1NlbGVjdGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSB0aGlzLl9pc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICB0aGlzLnRyZWVJdGVtLmlzU2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25TZWxlY3RlZENoYW5nZWQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25QZWVyIGV4dGVuZHMgRGVzaWduZXJQZWVyIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdGl0bGVQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInRpdGxlXCIsIFwiVGl0bGVcIiwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1vZGVQcm9wZXJ0eSA9IG5ldyBDaG9pY2VQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNSxcbiAgICAgICAgXCJtb2RlXCIsXG4gICAgICAgIFwiTW9kZVwiLFxuICAgICAgICBbXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsIG5hbWU6IFwiUHJpbWFyeVwiLCB2YWx1ZTogQWRhcHRpdmUuQWN0aW9uTW9kZT8uUHJpbWFyeSB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBuYW1lOiBcIlNlY29uZGFyeVwiLCB2YWx1ZTogQWRhcHRpdmUuQWN0aW9uTW9kZT8uU2Vjb25kYXJ5IH1cbiAgICAgICAgXSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHN0eWxlUHJvcGVydHkgPSBuZXcgQ2hvaWNlUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsXG4gICAgICAgIFwic3R5bGVcIixcbiAgICAgICAgXCJTdHlsZVwiLFxuICAgICAgICBbXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIG5hbWU6IFwiRGVmYXVsdFwiLCB2YWx1ZTogQWRhcHRpdmUuQWN0aW9uU3R5bGU/LkRlZmF1bHQgfSxcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgbmFtZTogXCJQb3NpdGl2ZVwiLCB2YWx1ZTogQWRhcHRpdmUuQWN0aW9uU3R5bGU/LlBvc2l0aXZlIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIG5hbWU6IFwiRGVzdHJ1Y3RpdmVcIiwgdmFsdWU6IEFkYXB0aXZlLkFjdGlvblN0eWxlPy5EZXN0cnVjdGl2ZSB9XG4gICAgICAgIF0pO1xuICAgIHN0YXRpYyByZWFkb25seSBpY29uVXJsUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgXCJpY29uVXJsXCIsIFwiSWNvbiBVUkxcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHRvb2x0aXBQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBcInRvb2x0aXBcIiwgXCJUb29sdGlwXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBpc0VuYWJsZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfNSwgXCJpc0VuYWJsZWRcIiwgXCJFbmFibGVkXCIpO1xuXG4gICAgcHJvdGVjdGVkIGRvdWJsZUNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgc3VwZXIuZG91YmxlQ2xpY2soZSk7XG5cbiAgICAgICAgdGhpcy5hY3Rpb24ucmVuZGVyZWRFbGVtZW50LmNsaWNrKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVtb3ZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb24ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmVudDogRGVzaWduZXJQZWVyLFxuICAgICAgICBkZXNpZ25lclN1cmZhY2U6IENhcmREZXNpZ25lclN1cmZhY2UsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uQmFzZSxcbiAgICAgICAgYWN0aW9uOiBBZGFwdGl2ZS5BY3Rpb24pIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBkZXNpZ25lclN1cmZhY2UsIHJlZ2lzdHJhdGlvbiwgYWN0aW9uKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uLnRpdGxlICYmIHRoaXMuYWN0aW9uLnRpdGxlICE9IFwiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGlvbi50aXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5pbnRlcm5hbEdldFRyZWVJdGVtVGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ1JlY3QoKTogUmVjdCB7XG4gICAgICAgIGxldCBkZXNpZ25TdXJmYWNlT2Zmc2V0ID0gdGhpcy5kZXNpZ25lclN1cmZhY2UuZ2V0RGVzaWduZXJTdXJmYWNlT2Zmc2V0KCk7XG4gICAgICAgIGxldCBhY3Rpb25Cb3VuZGluZ1JlY3QgPSB0aGlzLmFjdGlvbi5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KFxuICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LnRvcCAtIGRlc2lnblN1cmZhY2VPZmZzZXQueSxcbiAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5yaWdodCAtIGRlc2lnblN1cmZhY2VPZmZzZXQueCxcbiAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5ib3R0b20gLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICBhY3Rpb25Cb3VuZGluZ1JlY3QubGVmdCAtIGRlc2lnblN1cmZhY2VPZmZzZXQueFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldENhcmRPYmplY3RCb3VuZGluZ1JlY3QoKTogUmVjdCB7XG4gICAgICAgIGxldCBhY3Rpb25Cb3VuZGluZ1JlY3QgPSB0aGlzLmFjdGlvbi5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KFxuICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LnRvcCxcbiAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5yaWdodCxcbiAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5ib3R0b20sXG4gICAgICAgICAgICBhY3Rpb25Cb3VuZGluZ1JlY3QubGVmdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBBY3Rpb25QZWVyLmlkUHJvcGVydHksXG4gICAgICAgICAgICBBY3Rpb25QZWVyLmlzRW5hYmxlZFByb3BlcnR5LFxuICAgICAgICAgICAgQWN0aW9uUGVlci50aXRsZVByb3BlcnR5LFxuICAgICAgICAgICAgQWN0aW9uUGVlci50b29sdGlwUHJvcGVydHksXG4gICAgICAgICAgICBBY3Rpb25QZWVyLm1vZGVQcm9wZXJ0eSxcbiAgICAgICAgICAgIEFjdGlvblBlZXIuc3R5bGVQcm9wZXJ0eSxcbiAgICAgICAgICAgIEFjdGlvblBlZXIuaWNvblVybFByb3BlcnR5KTtcbiAgICB9XG5cbiAgICBnZXQgYWN0aW9uKCk6IEFkYXB0aXZlLkFjdGlvbiB7XG4gICAgICAgIHJldHVybiA8QWRhcHRpdmUuQWN0aW9uPnRoaXMuZ2V0Q2FyZE9iamVjdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR5cGVkQWN0aW9uUGVlcjxUQWN0aW9uIGV4dGVuZHMgQWRhcHRpdmUuQWN0aW9uPiBleHRlbmRzIEFjdGlvblBlZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJlbnQ6IERlc2lnbmVyUGVlcixcbiAgICAgICAgZGVzaWduZXJTdXJmYWNlOiBDYXJkRGVzaWduZXJTdXJmYWNlLFxuICAgICAgICByZWdpc3RyYXRpb246IERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UsXG4gICAgICAgIGFjdGlvbjogVEFjdGlvbikge1xuICAgICAgICBzdXBlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgcmVnaXN0cmF0aW9uLCBhY3Rpb24pO1xuICAgIH1cblxuICAgIGdldCBhY3Rpb24oKTogVEFjdGlvbiB7XG4gICAgICAgIHJldHVybiA8VEFjdGlvbj50aGlzLmdldENhcmRPYmplY3QoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIdHRwQWN0aW9uUGVlciBleHRlbmRzIFR5cGVkQWN0aW9uUGVlcjxBZGFwdGl2ZS5IdHRwQWN0aW9uPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlnbm9yZUlucHV0VmFsaWRhdGlvblByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8zLCBcImlnbm9yZUlucHV0VmFsaWRhdGlvblwiLCBcIklnbm9yZSBpbnB1dCB2YWxpZGF0aW9uXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtZXRob2RQcm9wZXJ0eSA9IG5ldyBDaG9pY2VQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgXCJtZXRob2RcIixcbiAgICAgICAgXCJNZXRob2RcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBuYW1lOiBcIkdFVFwiLCB2YWx1ZTogXCJHRVRcIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBuYW1lOiBcIlBPU1RcIiwgdmFsdWU6IFwiUE9TVFwiIH1cbiAgICAgICAgXSxcbiAgICAgICAgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHVybFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidXJsXCIsIFwiVXJsXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBib2R5UHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJib2R5XCIsIFwiQm9keVwiLCBmYWxzZSwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IGhlYWRlcnNQcm9wZXJ0eSA9IG5ldyBOYW1lVmFsdWVQYWlyUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgIFwiaGVhZGVyc1wiLFxuICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgXCJ2YWx1ZVwiLFxuICAgICAgICAobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7IHJldHVybiBuZXcgQWRhcHRpdmUuSHR0cEhlYWRlcihuYW1lLCB2YWx1ZSk7IH0sXG4gICAgICAgIFwiTmFtZVwiLFxuICAgICAgICBcIlZhbHVlXCIsXG4gICAgICAgIFwiQWRkIGEgbmV3IGhlYWRlclwiLFxuICAgICAgICBcIlRoaXMgYWN0aW9uIGhhcyBubyBoZWFkZXIuXCIpO1xuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBIdHRwQWN0aW9uUGVlci5pZ25vcmVJbnB1dFZhbGlkYXRpb25Qcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBIdHRwQWN0aW9uUGVlci5tZXRob2RQcm9wZXJ0eSxcbiAgICAgICAgICAgIEh0dHBBY3Rpb25QZWVyLnVybFByb3BlcnR5KTtcblxuICAgICAgICBpZiAodGhpcy5hY3Rpb24ubWV0aG9kID09IFwiUE9TVFwiKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgSHR0cEFjdGlvblBlZXIuYm9keVByb3BlcnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgXCJIVFRQIGhlYWRlcnNcIixcbiAgICAgICAgICAgIEh0dHBBY3Rpb25QZWVyLmhlYWRlcnNQcm9wZXJ0eSk7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVN1Ym1pdEFjdGlvblBlZXI8VEFjdGlvbiBleHRlbmRzIEFkYXB0aXZlLlN1Ym1pdEFjdGlvbj4gZXh0ZW5kcyBUeXBlZEFjdGlvblBlZXI8VEFjdGlvbj4ge1xuICAgIHN0YXRpYyByZWFkb25seSBkYXRhUHJvcGVydHkgPSBuZXcgT2JqZWN0UHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJkYXRhXCIsIFwiRGF0YVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgYXNzb2NpYXRlZElucHV0c1Byb3BlcnR5ID0gbmV3IENob2ljZVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8zLFxuICAgICAgICBcImFzc29jaWF0ZWRJbnB1dHNcIixcbiAgICAgICAgXCJBc3NvY2lhdGVkIGlucHV0c1wiLFxuICAgICAgICBbXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsIG5hbWU6IFwiQXV0b21hdGljXCIsIHZhbHVlOiBcImF1dG9cIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8zLCBuYW1lOiBcIk5vbmVcIiwgdmFsdWU6IFwibm9uZVwiIH1cbiAgICAgICAgXSk7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQmFzZVN1Ym1pdEFjdGlvblBlZXIuZGF0YVByb3BlcnR5LFxuICAgICAgICAgICAgQmFzZVN1Ym1pdEFjdGlvblBlZXIuYXNzb2NpYXRlZElucHV0c1Byb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJtaXRBY3Rpb25QZWVyIGV4dGVuZHMgQmFzZVN1Ym1pdEFjdGlvblBlZXI8QWRhcHRpdmUuU3VibWl0QWN0aW9uPiB7IH1cblxuZXhwb3J0IGNsYXNzIEV4ZWN1dGVBY3Rpb25QZWVyIGV4dGVuZHMgQmFzZVN1Ym1pdEFjdGlvblBlZXI8QWRhcHRpdmUuRXhlY3V0ZUFjdGlvbj4ge1xuICAgIHN0YXRpYyByZWFkb25seSB2ZXJiUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfNCwgXCJ2ZXJiXCIsIFwiVmVyYlwiKTtcblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoZGVmYXVsdENhdGVnb3J5LCBFeGVjdXRlQWN0aW9uUGVlci52ZXJiUHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9wZW5VcmxBY3Rpb25QZWVyIGV4dGVuZHMgVHlwZWRBY3Rpb25QZWVyPEFkYXB0aXZlLk9wZW5VcmxBY3Rpb24+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdXJsUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ1cmxcIiwgXCJVcmxcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgT3BlblVybEFjdGlvblBlZXIudXJsUHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNob3dDYXJkQWN0aW9uUGVlciBleHRlbmRzIFR5cGVkQWN0aW9uUGVlcjxBZGFwdGl2ZS5TaG93Q2FyZEFjdGlvbj4ge1xuICAgIHByb3RlY3RlZCBnZXRUb29sVGlwKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkRvdWJsZSBjbGljayB0byBvcGVuL2Nsb3NlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9nZ2xlVmlzaWJpbGl0eUFjdGlvblBlZXIgZXh0ZW5kcyBUeXBlZEFjdGlvblBlZXI8QWRhcHRpdmUuVG9nZ2xlVmlzaWJpbGl0eUFjdGlvbj4ge1xufVxuXG5leHBvcnQgY2xhc3MgQ2FyZEVsZW1lbnRQZWVyIGV4dGVuZHMgRGVzaWduZXJQZWVyIHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZGF0YUNvbnRleHRQcm9wZXJ0eSA9IG5ldyBDdXN0b21DYXJkT2JqZWN0UHJvcGVydHlFZGl0b3IoXCIqXCIsIFwiJGRhdGFcIiwgXCJEYXRhIGNvbnRleHRcIiwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHdoZW5Qcm9wZXJ0eSA9IG5ldyBDdXN0b21DYXJkT2JqZWN0UHJvcGVydHlFZGl0b3IoXCIqXCIsIFwiJHdoZW5cIiwgXCJPbmx5IHNob3cgd2hlblwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaWRQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImlkXCIsIFwiSWRcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlzVmlzaWJsZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcImlzVmlzaWJsZVwiLCBcIkluaXRpYWxseSB2aXNpYmxlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBzcGFjaW5nUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic3BhY2luZ1wiLCBcIlNwYWNpbmdcIiwgQWRhcHRpdmUuU3BhY2luZyk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHNlcGFyYXRvclByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInNlcGFyYXRvclwiLCBcIlNlcGFyYXRvclwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaG9yaXpvbnRhbEFsaWdubWVudFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImhvcml6b250YWxBbGlnbm1lbnRcIiwgXCJIb3Jpem9udGFsIGFsaWdubWVudFwiLCBBZGFwdGl2ZS5Ib3Jpem9udGFsQWxpZ25tZW50KTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaGVpZ2h0UHJvcGVydHkgPSBuZXcgSGVpZ2h0UHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsXG4gICAgICAgIFwiaGVpZ2h0XCIsXG4gICAgICAgIFwiSGVpZ2h0XCIsXG4gICAgICAgIFtcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgbmFtZTogXCJBdXRvbWF0aWNcIiwgdmFsdWU6IFwiYXV0b1wiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIG5hbWU6IFwiU3RyZXRjaFwiLCB2YWx1ZTogXCJzdHJldGNoXCIgfVxuICAgICAgICBdKTtcblxuICAgIHByb3RlY3RlZCBpbnNlcnRFbGVtZW50QWZ0ZXIobmV3RWxlbWVudDogQWRhcHRpdmUuQ2FyZEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQucGFyZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnBhcmVudC5pbnNlcnRJdGVtQWZ0ZXIobmV3RWxlbWVudCwgdGhpcy5jYXJkRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHZhciBuZXdQZWVyID0gQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UodGhpcy5kZXNpZ25lclN1cmZhY2UsIHRoaXMsIG5ld0VsZW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLnBlZXJBZGRlZChuZXdQZWVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbW92ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsVXBkYXRlQ3NzU3R5bGVzKCkge1xuICAgICAgICBzdXBlci5pbnRlcm5hbFVwZGF0ZUNzc1N0eWxlcygpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImludmlzaWJsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpbnZpc2libGVcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyZW50OiBEZXNpZ25lclBlZXIsXG4gICAgICAgIGRlc2lnbmVyU3VyZmFjZTogQ2FyZERlc2lnbmVyU3VyZmFjZSxcbiAgICAgICAgcmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlLFxuICAgICAgICBjYXJkRWxlbWVudDogQWRhcHRpdmUuQ2FyZEVsZW1lbnQsXG4gICAgICAgIGluaXRpYWxpemVDYXJkRWxlbWVudD86IGJvb2xlYW4pIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBkZXNpZ25lclN1cmZhY2UsIHJlZ2lzdHJhdGlvbiwgY2FyZEVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChpbml0aWFsaXplQ2FyZEVsZW1lbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgZmluZENhcmRFbGVtZW50Q2hpbGQoZWxlbWVudDogQWRhcHRpdmUuQ2FyZEVsZW1lbnQpIDogQ2FyZEVsZW1lbnRQZWVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcGVlciA9IHRoaXMuZ2V0Q2hpbGRBdChpKTtcblxuICAgICAgICAgICAgaWYgKHBlZXIgaW5zdGFuY2VvZiBDYXJkRWxlbWVudFBlZXIgJiYgcGVlci5jYXJkRWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwZWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmaW5kQWN0aW9uQ2hpbGQoYWN0aW9uOiBBZGFwdGl2ZS5BY3Rpb24pIDogQWN0aW9uUGVlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBlZXIgPSB0aGlzLmdldENoaWxkQXQoaSk7XG5cbiAgICAgICAgICAgIGlmIChwZWVyIGluc3RhbmNlb2YgQWN0aW9uUGVlciAmJiBwZWVyLmFjdGlvbiA9PT0gYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHVwZGF0ZUNoaWxkcmVuKGluaXRpYWxpemVDYXJkRWxlbWVudD86IGJvb2xlYW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdldENoaWxkQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdQZWVyID0gdGhpcy5nZXRDaGlsZEF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdQZWVyIGluc3RhbmNlb2YgQ2FyZEVsZW1lbnRQZWVyICYmIHRoaXMuY2FyZEVsZW1lbnQuaW5kZXhPZihleGlzdGluZ1BlZXIuY2FyZEVsZW1lbnQpIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZXhpc3RpbmdQZWVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nUGVlciBpbnN0YW5jZW9mIEFjdGlvblBlZXIgJiYgdGhpcy5jYXJkRWxlbWVudC5pbmRleE9mQWN0aW9uKGV4aXN0aW5nUGVlci5hY3Rpb24pIDwgMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZXhpc3RpbmdQZWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpdGVtQ291bnQgPSAwO1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudCBpbnN0YW5jZW9mIEFkYXB0aXZlLkNhcmRFbGVtZW50Q29udGFpbmVyKSB7XG4gICAgICAgICAgICBpdGVtQ291bnQgPSB0aGlzLmNhcmRFbGVtZW50LmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ1BlZXIgPSB0aGlzLmZpbmRDYXJkRWxlbWVudENoaWxkKHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUF0KGkpKTtcblxuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdQZWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQoXG4gICAgICAgICAgICAgICAgICAgICAgICBDYXJkRGVzaWduZXJTdXJmYWNlLmNhcmRFbGVtZW50UGVlclJlZ2lzdHJ5LmNyZWF0ZVBlZXJJbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2lnbmVyU3VyZmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUF0KGkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FyZEVsZW1lbnQuZ2V0QWN0aW9uQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdQZWVyID0gdGhpcy5maW5kQWN0aW9uQ2hpbGQodGhpcy5jYXJkRWxlbWVudC5nZXRBY3Rpb25BdChpKSk7XG5cbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdQZWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgQ2FyZERlc2lnbmVyU3VyZmFjZS5hY3Rpb25QZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNpZ25lclN1cmZhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5nZXRBY3Rpb25BdChpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ291bnQgKyBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgZ2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGxldCB0ZXh0ID0gc3VwZXIuZ2V0VHJlZUl0ZW1UZXh0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBcIkhpZGRlblwiO1xuXG4gICAgICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiAtIFwiICsgdGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgY2FuRHJvcChwZWVyOiBEZXNpZ25lclBlZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQgaW5zdGFuY2VvZiBBZGFwdGl2ZS5Db250YWluZXIgJiYgcGVlciBpbnN0YW5jZW9mIENhcmRFbGVtZW50UGVlcjtcbiAgICB9XG5cbiAgICB0cnlEcm9wKHBlZXI6IERlc2lnbmVyUGVlciwgaW5zZXJ0aW9uUG9pbnQ6IElQb2ludCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudCBpbnN0YW5jZW9mIEFkYXB0aXZlLkNvbnRhaW5lciAmJiBwZWVyIGluc3RhbmNlb2YgQ2FyZEVsZW1lbnRQZWVyKSB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0Q2hpbGQ6IERlc2lnbmVyUGVlciA9IG51bGw7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0QWZ0ZXI6IGJvb2xlYW47XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRDaGlsZENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5nZXRDaGlsZEF0KGkpLmdldEJvdW5kaW5nUmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlY3QuaXNJbnNpZGUoaW5zZXJ0aW9uUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldENoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGluc2VydEFmdGVyID0gKGluc2VydGlvblBvaW50LnkgLSByZWN0LnRvcCkgPj0gKHJlY3QuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0Q2hpbGQgIT0gcGVlcikge1xuICAgICAgICAgICAgICAgIGlmIChwZWVyLmNhcmRFbGVtZW50LnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBlZXIucmVtb3ZlKHRydWUsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcGVlci5wYXJlbnQucmVtb3ZlQ2hpbGQocGVlcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWZ0ZXIgPSAoaW5zZXJ0aW9uUG9pbnQueSAtIHJlY3QudG9wKSA+PSAocmVjdC5oZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5nZXRJdGVtQ291bnQoKSA+IDAgJiYgaW5zZXJ0QWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuaW5zZXJ0SXRlbUFmdGVyKHBlZXIuY2FyZEVsZW1lbnQsIHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUF0KHRoaXMuY2FyZEVsZW1lbnQuZ2V0SXRlbUNvdW50KCkgLSAxKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50Lmluc2VydEl0ZW1BZnRlcihwZWVyLmNhcmRFbGVtZW50LCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydEFmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50Lmluc2VydEl0ZW1BZnRlcihwZWVyLmNhcmRFbGVtZW50LCAoPENhcmRFbGVtZW50UGVlcj50YXJnZXRDaGlsZCkuY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5pbnNlcnRJdGVtQmVmb3JlKHBlZXIuY2FyZEVsZW1lbnQsICg8Q2FyZEVsZW1lbnRQZWVyPnRhcmdldENoaWxkKS5jYXJkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydENoaWxkKHBlZXIsIHBlZXIuY2FyZEVsZW1lbnQuaW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZChmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnlBZGQocGVlcjogRGVzaWduZXJQZWVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50IGluc3RhbmNlb2YgQWRhcHRpdmUuQ29udGFpbmVyICYmIHBlZXIgaW5zdGFuY2VvZiBDYXJkRWxlbWVudFBlZXIpIHtcbiAgICAgICAgICAgIGlmIChwZWVyLmNhcmRFbGVtZW50LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghcGVlci5yZW1vdmUodHJ1ZSwgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwZWVyLnBhcmVudC5yZW1vdmVDaGlsZChwZWVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRJdGVtKHBlZXIuY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChwZWVyLCBwZWVyLmNhcmRFbGVtZW50LmluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZChmYWxzZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpOiBSZWN0IHtcbiAgICAgICAgbGV0IGRlc2lnblN1cmZhY2VPZmZzZXQgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5nZXREZXNpZ25lclN1cmZhY2VPZmZzZXQoKTtcbiAgICAgICAgbGV0IGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0ID0gdGhpcy5jYXJkRWxlbWVudC5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuaGFzVmlzaWJsZVNlcGFyYXRvcikge1xuICAgICAgICAgICAgbGV0IHNlcGFyYXRvckJvdW5kaW5nUmVjdCA9IHRoaXMuY2FyZEVsZW1lbnQuc2VwYXJhdG9yRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0KFxuICAgICAgICAgICAgICAgIE1hdGgubWluKHNlcGFyYXRvckJvdW5kaW5nUmVjdC50b3AsIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LnRvcCkgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoc2VwYXJhdG9yQm91bmRpbmdSZWN0LnJpZ2h0LCBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5yaWdodCkgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LngsXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgoc2VwYXJhdG9yQm91bmRpbmdSZWN0LmJvdHRvbSwgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QuYm90dG9tKSAtIGRlc2lnblN1cmZhY2VPZmZzZXQueSxcbiAgICAgICAgICAgICAgICBNYXRoLm1pbihzZXBhcmF0b3JCb3VuZGluZ1JlY3QubGVmdCwgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QubGVmdCkgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LngsXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY3QoXG4gICAgICAgICAgICAgICAgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QudG9wIC0gZGVzaWduU3VyZmFjZU9mZnNldC55LFxuICAgICAgICAgICAgICAgIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LnJpZ2h0IC0gZGVzaWduU3VyZmFjZU9mZnNldC54LFxuICAgICAgICAgICAgICAgIGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0LmJvdHRvbSAtIGRlc2lnblN1cmZhY2VPZmZzZXQueSxcbiAgICAgICAgICAgICAgICBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5sZWZ0IC0gZGVzaWduU3VyZmFjZU9mZnNldC54XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q2FyZE9iamVjdEJvdW5kaW5nUmVjdCgpOiBSZWN0IHtcbiAgICAgICAgbGV0IGNhcmRFbGVtZW50Qm91bmRpbmdSZWN0ID0gdGhpcy5jYXJkRWxlbWVudC5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KFxuICAgICAgICAgICAgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QudG9wLFxuICAgICAgICAgICAgY2FyZEVsZW1lbnRCb3VuZGluZ1JlY3QucmlnaHQsXG4gICAgICAgICAgICBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5ib3R0b20sXG4gICAgICAgICAgICBjYXJkRWxlbWVudEJvdW5kaW5nUmVjdC5sZWZ0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBpZiAoR2xvYmFsU2V0dGluZ3MuZW5hYmxlRGF0YUJpbmRpbmdTdXBwb3J0KSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmRhdGFDb250ZXh0UHJvcGVydHksXG4gICAgICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLndoZW5Qcm9wZXJ0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5pZFByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmlzVmlzaWJsZVByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgIENhcmRFbGVtZW50UGVlci5zcGFjaW5nUHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuc2VwYXJhdG9yUHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaG9yaXpvbnRhbEFsaWdubWVudFByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmhlaWdodFByb3BlcnR5KTtcbiAgICB9XG5cbiAgICBnZXQgY2FyZEVsZW1lbnQoKTogQWRhcHRpdmUuQ2FyZEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gPEFkYXB0aXZlLkNhcmRFbGVtZW50PnRoaXMuZ2V0Q2FyZE9iamVjdCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPFRDYXJkRWxlbWVudCBleHRlbmRzIEFkYXB0aXZlLkNhcmRFbGVtZW50PiBleHRlbmRzIENhcmRFbGVtZW50UGVlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcmVudDogRGVzaWduZXJQZWVyLFxuICAgICAgICBkZXNpZ25lclN1cmZhY2U6IENhcmREZXNpZ25lclN1cmZhY2UsXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogRGVzaWduZXJQZWVyUmVnaXN0cmF0aW9uQmFzZSxcbiAgICAgICAgY2FyZEVsZW1lbnQ6IFRDYXJkRWxlbWVudCxcbiAgICAgICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50PzogYm9vbGVhbikge1xuICAgICAgICBzdXBlcihwYXJlbnQsIGRlc2lnbmVyU3VyZmFjZSwgcmVnaXN0cmF0aW9uLCBjYXJkRWxlbWVudCwgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KTtcbiAgICB9XG5cbiAgICBnZXQgY2FyZEVsZW1lbnQoKTogVENhcmRFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIDxUQ2FyZEVsZW1lbnQ+dGhpcy5nZXRDYXJkT2JqZWN0KCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRhcHRpdmVDYXJkUGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLkFkYXB0aXZlQ2FyZD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBsYW5nUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgXCJsYW5nXCIsIFwiTGFuZ3VhZ2VcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGZhbGxiYWNrVGV4dFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiZmFsbGJhY2tUZXh0XCIsIFwiRmFsbGJhY2sgdGV4dFwiLCBmYWxzZSwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHNwZWFrUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJzcGVha1wiLCBcIlNwZWFrXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSByZWZyZXNoUHJvcGVydHkgPSBuZXcgQ29tcG91bmRQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNCxcbiAgICAgICAgXCJyZWZyZXNoXCIsXG4gICAgICAgIFtcbiAgICAgICAgICAgIG5ldyBTdHJpbmdBcnJheVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzQsIFwidXNlcklkc1wiLCBcIlVzZXIgSURzXCIsIGZhbHNlLCB0cnVlKSxcbiAgICAgICAgICAgIG5ldyBBY3Rpb25Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV80LCBcImFjdGlvblwiLCBcIkFjdGlvblwiLCBbIFwiKlwiLCBcIi1BY3Rpb24uRXhlY3V0ZVwiIF0sIHRydWUpXG4gICAgICAgIF0sXG4gICAgICAgICgpID0+IHsgcmV0dXJuIG5ldyBBZGFwdGl2ZS5SZWZyZXNoRGVmaW5pdGlvbigpIH0pO1xuXG4gICAgcHJvdGVjdGVkIGFkZEFjdGlvbihhY3Rpb246IEFkYXB0aXZlLkFjdGlvbikge1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZEFjdGlvbihhY3Rpb24pO1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQoQ2FyZERlc2lnbmVyU3VyZmFjZS5hY3Rpb25QZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMuZGVzaWduZXJTdXJmYWNlLCB0aGlzLCBhY3Rpb24pKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxSZW1vdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGNvbW1hbmRzOiBBcnJheTxQZWVyQ29tbWFuZD4pIHtcbiAgICAgICAgc3VwZXIuaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0LCBjb21tYW5kcyk7XG5cbiAgICAgICAgbGV0IGF2YWlsYWJsZUFjdGlvbnM6IEFkYXB0aXZlLklUeXBlUmVnaXN0cmF0aW9uPEFkYXB0aXZlLkFjdGlvbj5bXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dC5ob3N0Q29udGFpbmVyLmFjdGlvbnNSZWdpc3RyeS5nZXRJdGVtQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdHlwZVJlZ2lzdHJhdGlvbiA9IGNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuZ2V0SXRlbUF0KGkpO1xuXG4gICAgICAgICAgICBpZiAodHlwZVJlZ2lzdHJhdGlvbi5zY2hlbWFWZXJzaW9uLmNvbXBhcmVUbyhjb250ZXh0LnRhcmdldFZlcnNpb24pIDw9IDApIHtcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVBY3Rpb25zLnB1c2godHlwZVJlZ2lzdHJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXZhaWxhYmxlQWN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQZWVyQ29tbWFuZChcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBZGQgYW4gYWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTaG93TmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogXCJhY2QtaWNvbi1ib2x0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93SW5Qcm9wZXJ0eVNoZWV0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9wdXBNZW51ID0gbmV3IENvbnRyb2xzLlBvcHVwTWVudSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmFpbGFibGVBY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtZW51SXRlbSA9IG5ldyBDb250cm9scy5Ecm9wRG93bkl0ZW0oaS50b1N0cmluZygpLCBhdmFpbGFibGVBY3Rpb25zW2ldLnR5cGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUl0ZW0ub25DbGljayA9IChjbGlja2VkSXRlbTogQ29udHJvbHMuRHJvcERvd25JdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVnaXN0cmF0aW9uID0gYXZhaWxhYmxlQWN0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpb24gPSBuZXcgcmVnaXN0cmF0aW9uLm9iamVjdFR5cGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9IHJlZ2lzdHJhdGlvbi50eXBlTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBY3Rpb24oYWN0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBNZW51LmNsb3NlUG9wdXAoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudS5pdGVtcy5hZGQobWVudUl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudS5wb3B1cChjbGlja2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjYW5CZVJlbW92ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQucmVtb3ZlKFxuICAgICAgICAgICAgRGVzaWduZXJQZWVyLmlkUHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaXNWaXNpYmxlUHJvcGVydHksXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaG9yaXpvbnRhbEFsaWdubWVudFByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLnNlcGFyYXRvclByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmhlaWdodFByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLnNwYWNpbmdQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBBZGFwdGl2ZUNhcmRQZWVyLmxhbmdQcm9wZXJ0eSxcbiAgICAgICAgICAgIEFkYXB0aXZlQ2FyZFBlZXIuZmFsbGJhY2tUZXh0UHJvcGVydHksXG4gICAgICAgICAgICBBZGFwdGl2ZUNhcmRQZWVyLnNwZWFrUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlJlZnJlc2gsXG4gICAgICAgICAgICBBZGFwdGl2ZUNhcmRQZWVyLnJlZnJlc2hQcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQucmVmcmVzaCAmJiB0aGlzLmNhcmRFbGVtZW50LnJlZnJlc2guYWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZEFjdGlvblByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQucmVmcmVzaC5hY3Rpb24sXG4gICAgICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlJlZnJlc2gsXG4gICAgICAgICAgICAgICAgWyBCYXNlU3VibWl0QWN0aW9uUGVlci5hc3NvY2lhdGVkSW5wdXRzUHJvcGVydHksIEFjdGlvblBlZXIuaWNvblVybFByb3BlcnR5LCBBY3Rpb25QZWVyLnN0eWxlUHJvcGVydHksIEFjdGlvblBlZXIubW9kZVByb3BlcnR5IF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLm1pbkhlaWdodFByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci52ZXJ0aWNhbENvbnRlbnRBbGlnbm1lbnRQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBcIkJhY2tncm91bmQgaW1hZ2VcIixcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuYmFja2dyb3VuZEltYWdlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlNlbGVjdGlvbkFjdGlvbixcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuc2VsZWN0QWN0aW9uUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbikge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGRBY3Rpb25Qcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbixcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtblBlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5Db2x1bW4+IHtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBwaXhlbFdpZHRoUHJvcGVydHkgPSBuZXcgU2l6ZUFuZFVuaXRQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcIndpZHRoXCIsIFwiV2lkdGggaW4gcGl4ZWxzXCIsIEFkYXB0aXZlLlNpemVVbml0LlBpeGVsKTtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSB3ZWlnaHRQcm9wZXJ0eSA9IG5ldyBTaXplQW5kVW5pdFByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwid2lkdGhcIiwgXCJXZWlnaHRcIiwgQWRhcHRpdmUuU2l6ZVVuaXQuV2VpZ2h0KTtcblxuICAgIHN0YXRpYyByZWFkb25seSB3aWR0aFByb3BlcnR5ID0gbmV3IENvbHVtbldpZHRoUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgIFwid2lkdGhcIixcbiAgICAgICAgXCJXaWR0aFwiLFxuICAgICAgICBbXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiQXV0b21hdGljXCIsIHZhbHVlOiBcImF1dG9cIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBuYW1lOiBcIlN0cmV0Y2hcIiwgdmFsdWU6IFwic3RyZXRjaFwiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiV2VpZ2h0ZWRcIiwgdmFsdWU6IFwid2VpZ2h0ZWRcIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBuYW1lOiBcIlBpeGVsc1wiLCB2YWx1ZTogXCJwaXhlbHNcIiB9XG4gICAgICAgIF0sXG4gICAgICAgIHRydWUpO1xuXG4gICAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQud2lkdGggaW5zdGFuY2VvZiBBZGFwdGl2ZS5TaXplQW5kVW5pdCkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNhcmRFbGVtZW50LndpZHRoLnVuaXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFkYXB0aXZlLlNpemVVbml0LldlaWdodDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiV2VpZ2h0OiBcIiArIHRoaXMuY2FyZEVsZW1lbnQud2lkdGgucGh5c2ljYWxTaXplO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhcmRFbGVtZW50LndpZHRoLnBoeXNpY2FsU2l6ZSArIFwiIHBpeGVsc1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNhcmRFbGVtZW50LndpZHRoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmV0Y2hcIjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3RyZXRjaFwiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkF1dG9tYXRpY1wiO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgQ29sdW1uUGVlci53aWR0aFByb3BlcnR5KTtcblxuICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC53aWR0aCBpbnN0YW5jZW9mIEFkYXB0aXZlLlNpemVBbmRVbml0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC53aWR0aC51bml0ID09IEFkYXB0aXZlLlNpemVVbml0LlBpeGVsKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgQ29sdW1uUGVlci5waXhlbFdpZHRoUHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgQ29sdW1uUGVlci53ZWlnaHRQcm9wZXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIubWluSGVpZ2h0UHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnZlcnRpY2FsQ29udGVudEFsaWdubWVudFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TdHlsZUNhdGVnb3J5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zdHlsZVByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5ibGVlZFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiQmFja2dyb3VuZCBpbWFnZVwiLFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5iYWNrZ3JvdW5kSW1hZ2VQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uLFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zZWxlY3RBY3Rpb25Qcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZEFjdGlvblByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uLFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uU2V0UGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLkNvbHVtblNldD4ge1xuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICBzdXBlci5pbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQsIGNvbW1hbmRzKTtcblxuICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgbmV3IFBlZXJDb21tYW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBZGQgYSBjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiBcImFjZC1pY29uLWFkZENvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICBpc1Byb21vdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGU6IChjb21tYW5kOiBQZWVyQ29tbWFuZCwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gbmV3IEFkYXB0aXZlLkNvbHVtbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLndpZHRoID0gXCJzdHJldGNoXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkQ29sdW1uKGNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQoQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UodGhpcy5kZXNpZ25lclN1cmZhY2UsIHRoaXMsIGNvbHVtbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNvbHVtbkNvdW50ID0gdGhpcy5jYXJkRWxlbWVudC5nZXRJdGVtQ291bnQoKTtcblxuICAgICAgICBzd2l0Y2ggKGNvbHVtbkNvdW50KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTm8gY29sdW1uXCI7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiMSBjb2x1bW5cIjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbkNvdW50ICsgXCIgY29sdW1uc1wiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIubWluSGVpZ2h0UHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnN0eWxlUHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLmJsZWVkUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlNlbGVjdGlvbkFjdGlvbixcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIuc2VsZWN0QWN0aW9uUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbikge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGRBY3Rpb25Qcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnNlbGVjdEFjdGlvbixcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbkRyb3AocGVlcjogRGVzaWduZXJQZWVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRhaW5lclBlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5Db250YWluZXI+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc2VsZWN0QWN0aW9uUHJvcGVydHkgPSBuZXcgQWN0aW9uUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgXCJzZWxlY3RBY3Rpb25cIiwgXCJBY3Rpb24gdHlwZVwiLCBbIEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLkpzb25UeXBlTmFtZSBdLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWluSGVpZ2h0UHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgXCJtaW5QaXhlbEhlaWdodFwiLCBcIk1pbmltdW0gaGVpZ2h0IGluIHBpeGVsc1wiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdmVydGljYWxDb250ZW50QWxpZ25tZW50UHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwidmVydGljYWxDb250ZW50QWxpZ25tZW50XCIsIFwiVmVydGljYWwgY29udGVudCBhbGlnbm1lbnRcIiwgQWRhcHRpdmUuVmVydGljYWxBbGlnbm1lbnQpO1xuICAgIHN0YXRpYyByZWFkb25seSBzdHlsZVByb3BlcnR5ID0gbmV3IENvbnRhaW5lclN0eWxlUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJzdHlsZVwiLCBcIlN0eWxlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBibGVlZFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcImJsZWVkXCIsIFwiQmxlZWRcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGJhY2tncm91bmRJbWFnZVByb3BlcnR5ID0gbmV3IENvbXBvdW5kUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgIFwiYmFja2dyb3VuZEltYWdlXCIsXG4gICAgICAgIFtcbiAgICAgICAgICAgIG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInVybFwiLCBcIlVSTFwiLCB0cnVlKSxcbiAgICAgICAgICAgIG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgXCJmaWxsTW9kZVwiLCBcIkZpbGwgbW9kZVwiLCBBZGFwdGl2ZS5GaWxsTW9kZSksXG4gICAgICAgICAgICBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwiaG9yaXpvbnRhbEFsaWdubWVudFwiLCBcIkhvcml6b250YWwgYWxpZ25tZW50XCIsIEFkYXB0aXZlLkhvcml6b250YWxBbGlnbm1lbnQpLFxuICAgICAgICAgICAgbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcInZlcnRpY2FsQWxpZ25tZW50XCIsIFwiVmVydGljYWwgYWxpZ25tZW50XCIsIEFkYXB0aXZlLlZlcnRpY2FsQWxpZ25tZW50KVxuICAgICAgICBdXG4gICAgKTtcblxuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgIENvbnRhaW5lclBlZXIubWluSGVpZ2h0UHJvcGVydHksXG4gICAgICAgICAgICBDb250YWluZXJQZWVyLnZlcnRpY2FsQ29udGVudEFsaWdubWVudFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TdHlsZUNhdGVnb3J5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zdHlsZVByb3BlcnR5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5ibGVlZFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiQmFja2dyb3VuZCBpbWFnZVwiLFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5iYWNrZ3JvdW5kSW1hZ2VQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uLFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zZWxlY3RBY3Rpb25Qcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZEFjdGlvblByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uLFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TZWxlY3Rpb25BY3Rpb24pO1xuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25TZXRQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuQWRhcHRpdmVDYXJkPiB7XG4gICAgcHJvdGVjdGVkIGFkZEFjdGlvbihhY3Rpb246IEFkYXB0aXZlLkFjdGlvbikge1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZEFjdGlvbihhY3Rpb24pO1xuXG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQoQ2FyZERlc2lnbmVyU3VyZmFjZS5hY3Rpb25QZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKHRoaXMuZGVzaWduZXJTdXJmYWNlLCB0aGlzLCBhY3Rpb24pKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBjb21tYW5kczogQXJyYXk8UGVlckNvbW1hbmQ+KSB7XG4gICAgICAgIHN1cGVyLmludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dCwgY29tbWFuZHMpO1xuXG4gICAgICAgIGxldCBhdmFpbGFibGVBY3Rpb25zOiBBZGFwdGl2ZS5JVHlwZVJlZ2lzdHJhdGlvbjxBZGFwdGl2ZS5BY3Rpb24+W10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRleHQuaG9zdENvbnRhaW5lci5hY3Rpb25zUmVnaXN0cnkuZ2V0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHR5cGVSZWdpc3RyYXRpb24gPSBjb250ZXh0Lmhvc3RDb250YWluZXIuYWN0aW9uc1JlZ2lzdHJ5LmdldEl0ZW1BdChpKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVSZWdpc3RyYXRpb24uc2NoZW1hVmVyc2lvbi5jb21wYXJlVG8oY29udGV4dC50YXJnZXRWZXJzaW9uKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgYXZhaWxhYmxlQWN0aW9ucy5wdXNoKHR5cGVSZWdpc3RyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF2YWlsYWJsZUFjdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUGVlckNvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWRkIGFuIGFjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2hvd05hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3M6IFwiYWNkLWljb24tYm9sdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0luUHJvcGVydHlTaGVldDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGU6IChjb21tYW5kOiBQZWVyQ29tbWFuZCwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvcHVwTWVudSA9IG5ldyBDb250cm9scy5Qb3B1cE1lbnUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXZhaWxhYmxlQWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVudUl0ZW0gPSBuZXcgQ29udHJvbHMuRHJvcERvd25JdGVtKGkudG9TdHJpbmcoKSwgYXZhaWxhYmxlQWN0aW9uc1tpXS50eXBlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVJdGVtLm9uQ2xpY2sgPSAoY2xpY2tlZEl0ZW06IENvbnRyb2xzLkRyb3BEb3duSXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbiA9IGF2YWlsYWJsZUFjdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IHJlZ2lzdHJhdGlvbi5vYmplY3RUeXBlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24udGl0bGUgPSByZWdpc3RyYXRpb24udHlwZU5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWN0aW9uKGFjdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudS5jbG9zZVBvcHVwKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cE1lbnUuaXRlbXMuYWRkKG1lbnVJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cE1lbnUucG9wdXAoY2xpY2tlZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEltYWdlU2V0UGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLkltYWdlU2V0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IEltYWdlU2l6ZVByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImltYWdlU2l6ZVwiLCBcIkltYWdlIHNpemVcIiwgQWRhcHRpdmUuSW1hZ2VTaXplKTtcblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGNvbW1hbmRzOiBBcnJheTxQZWVyQ29tbWFuZD4pIHtcbiAgICAgICAgc3VwZXIuaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0LCBjb21tYW5kcyk7XG5cbiAgICAgICAgY29tbWFuZHMucHVzaChcbiAgICAgICAgICAgIG5ldyBQZWVyQ29tbWFuZChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWRkIGFuIGltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogXCJhY2QtaWNvbi1pbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBpc1Byb21vdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGU6IChjb21tYW5kOiBQZWVyQ29tbWFuZCwgY2xpY2tlZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3SW1hZ2UgPSBuZXcgQWRhcHRpdmUuSW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRJbWFnZShuZXdJbWFnZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQoQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UodGhpcy5kZXNpZ25lclN1cmZhY2UsIHRoaXMsIG5ld0ltYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBJbWFnZVNldFBlZXIuSW1hZ2VTaXplUHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEltYWdlUGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLkltYWdlPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IHVybFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidXJsXCIsIFwiVXJsXCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBhbHRUZXh0UHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJhbHRUZXh0XCIsIFwiQWx0ZXJuYXRlIHRleHRcIiwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHNpemVQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJzaXplXCIsIFwiU2l6ZVwiLCBBZGFwdGl2ZS5TaXplKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcGl4ZWxXaWR0aFByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsIFwicGl4ZWxXaWR0aFwiLCBcIldpZHRoIGluIHBpeGVsc1wiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcGl4ZWxIZWlnaHRQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcInBpeGVsSGVpZ2h0XCIsIFwiSGVpZ2h0IGluIHBpeGVsc1wiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc3R5bGVQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJzdHlsZVwiLCBcIlN0eWxlXCIsIEFkYXB0aXZlLkltYWdlU3R5bGUpO1xuICAgIHN0YXRpYyByZWFkb25seSBiYWNrZ3JvdW5kQ29sb3JQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcImJhY2tncm91bmRDb2xvclwiLCBcIkJhY2tncm91bmQgY29sb3JcIik7XG5cbiAgICBwcml2YXRlIGdldCBpc1BhcmVudEltYWdlU2V0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBJbWFnZVNldFBlZXI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICBzdXBlci5pbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQsIGNvbW1hbmRzKTtcblxuICAgICAgICBpZiAoR2xvYmFsU2V0dGluZ3MuZW5hYmxlRGF0YUJpbmRpbmdTdXBwb3J0ICYmIGNvbnRleHQuZGF0YVN0cnVjdHVyZSkge1xuICAgICAgICAgICAgY29tbWFuZHMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUGVlckNvbW1hbmQoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQmluZC4uLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2hvd05hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sVGlwOiBcIlNlbGVjdCBhIGRhdGEgZmllbGQgdG8gYmluZCB0aGlzIEltYWdlIHRvLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGRQaWNrZXIgPSBuZXcgRmllbGRQaWNrZXIoY29udGV4dC5kYXRhU3RydWN0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFBpY2tlci5vbkNsb3NlID0gKHNlbmRlciwgd2FzQ2FuY2VsbGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2FzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnVybCA9IGZpZWxkUGlja2VyLnNlbGVjdGVkRmllbGQuYXNFeHByZXNzaW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFBpY2tlci5wb3B1cChjbGlja2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc1BhcmVudEltYWdlU2V0O1xuICAgIH1cblxuICAgIGdldEJvdW5kaW5nUmVjdCgpOiBSZWN0IHtcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJlbnRJbWFnZVNldCkge1xuICAgICAgICAgICAgbGV0IGRlc2lnblN1cmZhY2VPZmZzZXQgPSB0aGlzLmRlc2lnbmVyU3VyZmFjZS5nZXREZXNpZ25lclN1cmZhY2VPZmZzZXQoKTtcbiAgICAgICAgICAgIGxldCBhY3Rpb25Cb3VuZGluZ1JlY3QgPSB0aGlzLmNhcmRFbGVtZW50LnJlbmRlcmVkRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWN0KFxuICAgICAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC50b3AgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LnJpZ2h0IC0gZGVzaWduU3VyZmFjZU9mZnNldC54LFxuICAgICAgICAgICAgICAgIGFjdGlvbkJvdW5kaW5nUmVjdC5ib3R0b20gLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgYWN0aW9uQm91bmRpbmdSZWN0LmxlZnQgLSBkZXNpZ25TdXJmYWNlT2Zmc2V0LnhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Qm91bmRpbmdSZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgSW1hZ2VQZWVyLnVybFByb3BlcnR5LFxuICAgICAgICAgICAgSW1hZ2VQZWVyLmFsdFRleHRQcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzUGFyZW50SW1hZ2VTZXQpIHtcbiAgICAgICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBJbWFnZVBlZXIuc2l6ZVByb3BlcnR5LFxuICAgICAgICAgICAgICAgIEltYWdlUGVlci5waXhlbFdpZHRoUHJvcGVydHksXG4gICAgICAgICAgICAgICAgSW1hZ2VQZWVyLnBpeGVsSGVpZ2h0UHJvcGVydHkpO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBJbWFnZVBlZXIuc3R5bGVQcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBJbWFnZVBlZXIuYmFja2dyb3VuZENvbG9yUHJvcGVydHkpO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uLFxuICAgICAgICAgICAgICAgIENvbnRhaW5lclBlZXIuc2VsZWN0QWN0aW9uUHJvcGVydHkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jYXJkRWxlbWVudC5zZWxlY3RBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZEFjdGlvblByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0QWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU2VsZWN0aW9uQWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhUGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLk1lZGlhPiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGFsdFRleHRQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLCBcImFsdFRleHRcIiwgXCJBbHRlcm5hdGUgdGV4dFwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcG9zdGVyVXJsUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMSwgXCJwb3N0ZXJVcmxcIiwgXCJQb3N0ZXIgVVJMXCIsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBzb3VyY2VzUHJvcGVydHkgPSBuZXcgTmFtZVZhbHVlUGFpclByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8xLFxuICAgICAgICBcInNvdXJjZXNcIixcbiAgICAgICAgXCJ1cmxcIixcbiAgICAgICAgXCJtaW1lVHlwZVwiLFxuICAgICAgICAobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7IHJldHVybiBuZXcgQWRhcHRpdmUuTWVkaWFTb3VyY2UobmFtZSwgdmFsdWUpOyB9LFxuICAgICAgICBcIlVSTFwiLFxuICAgICAgICBcIk1JTUUgdHlwZVwiLFxuICAgICAgICBcIkFkZCBhIG5ldyBzb3VyY2VcIixcbiAgICAgICAgXCJObyBzb3VyY2UgaGFzIGJlZW4gZGVmaW5lZC5cIik7XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0ZWRNZWRpYVR5cGUgPT0gXCJhdWRpb1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJhdWRpb1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY2FyZEVsZW1lbnQuc2VsZWN0ZWRNZWRpYVR5cGUgPT0gXCJ2aWRlb1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2aWRlb1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmludGVybmFsR2V0VHJlZUl0ZW1UZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgTWVkaWFQZWVyLmFsdFRleHRQcm9wZXJ0eSxcbiAgICAgICAgICAgIE1lZGlhUGVlci5wb3N0ZXJVcmxQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBcIlNvdXJjZXNcIixcbiAgICAgICAgICAgIE1lZGlhUGVlci5zb3VyY2VzUHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZhY3RTZXRQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuRmFjdFNldD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBmYWN0c1Byb3BlcnR5ID0gbmV3IE5hbWVWYWx1ZVBhaXJQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMCxcbiAgICAgICAgXCJmYWN0c1wiLFxuICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgXCJ2YWx1ZVwiLFxuICAgICAgICAobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7IHJldHVybiBuZXcgQWRhcHRpdmUuRmFjdChuYW1lLCB2YWx1ZSk7IH0sXG4gICAgICAgIFwiTmFtZVwiLFxuICAgICAgICBcIlZhbHVlXCIsXG4gICAgICAgIFwiQWRkIGEgbmV3IGZhY3RcIixcbiAgICAgICAgXCJUaGlzIEZhY3RTZXQgaXMgZW1wdHkuXCIpO1xuXG4gICAgcHJvdGVjdGVkIGludGVybmFsR2V0VHJlZUl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LmZhY3RzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJObyBmYWN0XCI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWxsTmFtZXMgPSB0aGlzLmNhcmRFbGVtZW50LmZhY3RzLm1hcChcbiAgICAgICAgICAgICh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gYWxsTmFtZXMuam9pbihcIiwgXCIpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCk7XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5mYWN0cy5wdXNoKFxuICAgICAgICAgICAgbmV3IEFkYXB0aXZlLkZhY3QoXCJGYWN0IDFcIiwgXCJWYWx1ZSAxXCIpLFxuICAgICAgICAgICAgbmV3IEFkYXB0aXZlLkZhY3QoXCJGYWN0IDJcIiwgXCJWYWx1ZSAyXCIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiRmFjdHNcIixcbiAgICAgICAgICAgIEZhY3RTZXRQZWVyLmZhY3RzUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQucmVtb3ZlKENhcmRFbGVtZW50UGVlci5ob3Jpem9udGFsQWxpZ25tZW50UHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElucHV0UGVlcjxUSW5wdXQgZXh0ZW5kcyBBZGFwdGl2ZS5JbnB1dD4gZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxUSW5wdXQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbGFiZWxQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfMyxcbiAgICAgICAgXCJsYWJlbFwiLFxuICAgICAgICBcIkxhYmVsXCIpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IGlzUmVxdWlyZWRQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsXG4gICAgICAgIFwiaXNSZXF1aXJlZFwiLFxuICAgICAgICBcIlJlcXVpcmVkXCIpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IGVycm9yTWVzc2FnZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8zLFxuICAgICAgICBcImVycm9yTWVzc2FnZVwiLFxuICAgICAgICBcIkVycm9yIG1lc3NhZ2VcIik7XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQuaWQgPyB0aGlzLmNhcmRFbGVtZW50LmlkIDogc3VwZXIuaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKGRlZmF1bHRDYXRlZ29yeSwgSW5wdXRQZWVyLmxhYmVsUHJvcGVydHkpO1xuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5WYWxpZGF0aW9uLFxuICAgICAgICAgICAgSW5wdXRQZWVyLmlzUmVxdWlyZWRQcm9wZXJ0eSxcbiAgICAgICAgICAgIElucHV0UGVlci5lcnJvck1lc3NhZ2VQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5yZW1vdmUoXG4gICAgICAgICAgICBDYXJkRWxlbWVudFBlZXIuaG9yaXpvbnRhbEFsaWdubWVudFByb3BlcnR5LFxuICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmhlaWdodFByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0SW5wdXRQZWVyIGV4dGVuZHMgSW5wdXRQZWVyPEFkYXB0aXZlLlRleHRJbnB1dD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBkZWZhdWx0VmFsdWVQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImRlZmF1bHRWYWx1ZVwiLCBcIkRlZmF1bHQgdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHBsYWNlaG9sZGVyUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJwbGFjZWhvbGRlclwiLCBcIlBsYWNlaG9sZGVyXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBpc011bHRpbGluZVByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImlzTXVsdGlsaW5lXCIsIFwiTXVsdGktbGluZVwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgc3R5bGVQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJzdHlsZVwiLCBcIlN0eWxlXCIsIEFkYXB0aXZlLklucHV0VGV4dFN0eWxlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWF4TGVuZ3RoUHJvcGVydHkgPSBuZXcgTnVtYmVyUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJtYXhMZW5ndGhcIiwgXCJNYXhpbXVtIGxlbmd0aFwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgaW5saW5lQWN0aW9uUHJvcGVydHkgPSBuZXcgQWN0aW9uUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgXCJpbmxpbmVBY3Rpb25cIiwgXCJBY3Rpb24gdHlwZVwiLCBbIEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uLkpzb25UeXBlTmFtZSBdLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcmVnZXhQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8zLCBcInJlZ2V4XCIsIFwiUGF0dGVyblwiKTtcblxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIucGxhY2Vob2xkZXJQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuaXNNdWx0aWxpbmVQcm9wZXJ0eSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhcmRFbGVtZW50LmlzTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuc3R5bGVQcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuTGF5b3V0Q2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgQ2FyZEVsZW1lbnRQZWVyLmhlaWdodFByb3BlcnR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LklubGluZUFjdGlvbixcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuaW5saW5lQWN0aW9uUHJvcGVydHkpO1xuXG4gICAgICAgIGlmICh0aGlzLmNhcmRFbGVtZW50LmlubGluZUFjdGlvbikge1xuICAgICAgICAgICAgcHJvcGVydHlTaGVldC5hZGRBY3Rpb25Qcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmlubGluZUFjdGlvbixcbiAgICAgICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuSW5saW5lQWN0aW9uLFxuICAgICAgICAgICAgICAgIFsgQWN0aW9uUGVlci5zdHlsZVByb3BlcnR5LCBBY3Rpb25QZWVyLm1vZGVQcm9wZXJ0eSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVGV4dElucHV0UGVlci5tYXhMZW5ndGhQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRleHRJbnB1dFBlZXIuZGVmYXVsdFZhbHVlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LlZhbGlkYXRpb24sXG4gICAgICAgICAgICBUZXh0SW5wdXRQZWVyLnJlZ2V4UHJvcGVydHkpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCk7XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5wbGFjZWhvbGRlciA9IFwiUGxhY2Vob2xkZXIgdGV4dFwiO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE51bWJlcklucHV0UGVlciBleHRlbmRzIElucHV0UGVlcjxBZGFwdGl2ZS5OdW1iZXJJbnB1dD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBkZWZhdWx0VmFsdWVQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImRlZmF1bHRWYWx1ZVwiLCBcIkRlZmF1bHQgdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHBsYWNlaG9sZGVyUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJwbGFjZWhvbGRlclwiLCBcIlBsYWNlaG9sZGVyXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtaW5Qcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1pblwiLCBcIk1pbmltdW0gdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1heFByb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwibWF4XCIsIFwiTWF4aW11bSB2YWx1ZVwiKTtcblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBOdW1iZXJJbnB1dFBlZXIucGxhY2Vob2xkZXJQcm9wZXJ0eSxcbiAgICAgICAgICAgIE51bWJlcklucHV0UGVlci5kZWZhdWx0VmFsdWVQcm9wZXJ0eSxcbiAgICAgICAgICAgIE51bWJlcklucHV0UGVlci5taW5Qcm9wZXJ0eSxcbiAgICAgICAgICAgIE51bWJlcklucHV0UGVlci5tYXhQcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICBzdXBlci5pbml0aWFsaXplQ2FyZEVsZW1lbnQoKTtcblxuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnBsYWNlaG9sZGVyID0gXCJQbGFjZWhvbGRlciB0ZXh0XCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0ZUlucHV0UGVlciBleHRlbmRzIElucHV0UGVlcjxBZGFwdGl2ZS5EYXRlSW5wdXQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZGVmYXVsdFZhbHVlUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJkZWZhdWx0VmFsdWVcIiwgXCJEZWZhdWx0IHZhbHVlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtaW5Qcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1pblwiLCBcIk1pbmltdW0gdmFsdWVcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IG1heFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwibWF4XCIsIFwiTWF4aW11bSB2YWx1ZVwiKTtcblxuICAgIHBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0OiBQcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnk6IHN0cmluZyA9IFByb3BlcnR5U2hlZXRDYXRlZ29yeS5EZWZhdWx0Q2F0ZWdvcnkpIHtcbiAgICAgICAgc3VwZXIucG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBkZWZhdWx0Q2F0ZWdvcnksXG4gICAgICAgICAgICBEYXRlSW5wdXRQZWVyLmRlZmF1bHRWYWx1ZVByb3BlcnR5LFxuICAgICAgICAgICAgRGF0ZUlucHV0UGVlci5taW5Qcm9wZXJ0eSxcbiAgICAgICAgICAgIERhdGVJbnB1dFBlZXIubWF4UHJvcGVydHkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVJbnB1dFBlZXIgZXh0ZW5kcyBJbnB1dFBlZXI8QWRhcHRpdmUuVGltZUlucHV0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRWYWx1ZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiZGVmYXVsdFZhbHVlXCIsIFwiRGVmYXVsdCB2YWx1ZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWluUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJtaW5cIiwgXCJNaW5pbXVtIHZhbHVlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBtYXhQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1heFwiLCBcIk1heGltdW0gdmFsdWVcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVGltZUlucHV0UGVlci5kZWZhdWx0VmFsdWVQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRpbWVJbnB1dFBlZXIubWluUHJvcGVydHksXG4gICAgICAgICAgICBUaW1lSW5wdXRQZWVyLm1heFByb3BlcnR5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUb2dnbGVJbnB1dFBlZXIgZXh0ZW5kcyBJbnB1dFBlZXI8QWRhcHRpdmUuVG9nZ2xlSW5wdXQ+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZGVmYXVsdFZhbHVlUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJkZWZhdWx0VmFsdWVcIiwgXCJEZWZhdWx0IHZhbHVlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSB0aXRsZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidGl0bGVcIiwgXCJUaXRsZVwiLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdmFsdWVPblByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidmFsdWVPblwiLCBcIlZhbHVlIHdoZW4gb25cIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IHZhbHVlT2ZmUHJvcGVydHkgPSBuZXcgU3RyaW5nUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ2YWx1ZU9mZlwiLCBcIlZhbHVlIHdoZW4gb2ZmXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSB3cmFwUHJvcGVydHkgPSBuZXcgQm9vbGVhblByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsIFwid3JhcFwiLCBcIldyYXBcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLnRpdGxlUHJvcGVydHksXG4gICAgICAgICAgICBUb2dnbGVJbnB1dFBlZXIudmFsdWVPblByb3BlcnR5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLnZhbHVlT2ZmUHJvcGVydHksXG4gICAgICAgICAgICBUb2dnbGVJbnB1dFBlZXIuZGVmYXVsdFZhbHVlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLndyYXBQcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNhcmRFbGVtZW50KCkge1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LnRpdGxlID0gXCJOZXcgSW5wdXQuVG9nZ2xlXCI7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hvaWNlU2V0SW5wdXRQZWVyIGV4dGVuZHMgSW5wdXRQZWVyPEFkYXB0aXZlLkNob2ljZVNldElucHV0PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRWYWx1ZVByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwiZGVmYXVsdFZhbHVlXCIsIFwiRGVmYXVsdCB2YWx1ZVwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgcGxhY2Vob2xkZXJQcm9wZXJ0eSA9IG5ldyBTdHJpbmdQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcInBsYWNlaG9sZGVyXCIsIFwiUGxhY2Vob2xkZXJcIik7XG4gICAgc3RhdGljIHJlYWRvbmx5IGlzTXVsdGlzZWxlY3RQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJpc011bHRpU2VsZWN0XCIsIFwiQWxsb3cgbXVsdGkgc2VsZWN0aW9uXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBzdHlsZVByb3BlcnR5ID0gbmV3IENob2ljZVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwiU3R5bGVcIixcbiAgICAgICAgW1xuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBuYW1lOiBcIkNvbXBhY3RcIiwgdmFsdWU6IFwiY29tcGFjdFwiIH0sXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIG5hbWU6IFwiRXhwYW5kZWRcIiwgdmFsdWU6IFwiZXhwYW5kZWRcIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBuYW1lOiBcIkZpbHRlcmVkXCIsIHZhbHVlOiBcImZpbHRlcmVkXCIgfVxuICAgICAgICBdLFxuICAgICAgICB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgd3JhcFByb3BlcnR5ID0gbmV3IEJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8yLCBcIndyYXBcIiwgXCJXcmFwXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBjaG9pY2VzUHJvcGVydHkgPSBuZXcgTmFtZVZhbHVlUGFpclByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLFxuICAgICAgICBcImNob2ljZXNcIixcbiAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgIChuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHsgcmV0dXJuIG5ldyBBZGFwdGl2ZS5DaG9pY2UobmFtZSwgdmFsdWUpOyB9LFxuICAgICAgICBcIlRpdGxlXCIsXG4gICAgICAgIFwiVmFsdWVcIixcbiAgICAgICAgXCJBZGQgYSBuZXcgY2hvaWNlXCIsXG4gICAgICAgIFwiVGhpcyBDaG9pY2VTZXQgaXMgZW1wdHlcIik7XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgQ2hvaWNlU2V0SW5wdXRQZWVyLnBsYWNlaG9sZGVyUHJvcGVydHksXG4gICAgICAgICAgICBDaG9pY2VTZXRJbnB1dFBlZXIuaXNNdWx0aXNlbGVjdFByb3BlcnR5LFxuICAgICAgICAgICAgQ2hvaWNlU2V0SW5wdXRQZWVyLnN0eWxlUHJvcGVydHksXG4gICAgICAgICAgICBDaG9pY2VTZXRJbnB1dFBlZXIuZGVmYXVsdFZhbHVlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVG9nZ2xlSW5wdXRQZWVyLndyYXBQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBcIkNob2ljZXNcIixcbiAgICAgICAgICAgIENob2ljZVNldElucHV0UGVlci5jaG9pY2VzUHJvcGVydHkpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5wbGFjZWhvbGRlciA9IFwiUGxhY2Vob2xkZXIgdGV4dFwiO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuY2hvaWNlcy5wdXNoKFxuICAgICAgICAgICAgbmV3IEFkYXB0aXZlLkNob2ljZShcIkNob2ljZSAxXCIsIFwiQ2hvaWNlIDFcIiksXG4gICAgICAgICAgICBuZXcgQWRhcHRpdmUuQ2hvaWNlKFwiQ2hvaWNlIDJcIiwgXCJDaG9pY2UgMlwiKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuY2xhc3MgVGV4dEJsb2NrUGVlcklucGxhY2VFZGl0b3IgZXh0ZW5kcyBDYXJkRWxlbWVudFBlZXJJbnBsYWNlRWRpdG9yPEFkYXB0aXZlLlRleHRCbG9jaz4ge1xuICAgIHByaXZhdGUgX3JlbmRlcmVkRWxlbWVudDogSFRNTFRleHRBcmVhRWxlbWVudDtcblxuICAgIHByaXZhdGUgY2xvc2UoYXBwbHlDaGFuZ2VzOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZShhcHBseUNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LnNlbGVjdCgpO1xuICAgIH1cblxuICAgIGFwcGx5Q2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC50ZXh0ID0gdGhpcy5fcmVuZGVyZWRFbGVtZW50LnZhbHVlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdGV4dEJsb2NrLWlucGxhY2UtZWRpdG9yXCI7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC52YWx1ZSA9IHRoaXMuY2FyZEVsZW1lbnQudGV4dDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50Lm9ua2V5ZG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9scy5Db25zdGFudHMua2V5cy5lc2NhcGU6XG4gICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZShmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9scy5Db25zdGFudHMua2V5cy5lbnRlcjpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICFlLmNhbmNlbEJ1YmJsZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFwcGx5U3R5bGVzVG8odGhpcy5fcmVuZGVyZWRFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRleHRCbG9ja1BlZXIgZXh0ZW5kcyBUeXBlZENhcmRFbGVtZW50UGVlcjxBZGFwdGl2ZS5UZXh0QmxvY2s+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgdGV4dFByb3BlcnR5ID0gbmV3IFN0cmluZ1Byb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwidGV4dFwiLCBcIlRleHRcIiwgdHJ1ZSwgdHJ1ZSk7XG4gICAgc3RhdGljIHJlYWRvbmx5IHdyYXBQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJ3cmFwXCIsIFwiV3JhcFwiKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWF4TGluZXNQcm9wZXJ0eSA9IG5ldyBOdW1iZXJQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcIm1heExpbmVzXCIsIFwiTWF4aW11bSBsaW5lc1wiLCAwKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZm9udFR5cGVQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMiwgXCJmb250VHlwZVwiLCBcIkZvbnQgdHlwZVwiLCBBZGFwdGl2ZS5Gb250VHlwZSwgZmFsc2UsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBzaXplUHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwic2l6ZVwiLCBcIlNpemVcIiwgQWRhcHRpdmUuVGV4dFNpemUsIGZhbHNlLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgd2VpZ2h0UHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsIFwid2VpZ2h0XCIsIFwiV2VpZ2h0XCIsIEFkYXB0aXZlLlRleHRXZWlnaHQsIGZhbHNlLCB0cnVlKTtcbiAgICBzdGF0aWMgcmVhZG9ubHkgY29sb3JQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoQWRhcHRpdmUuVmVyc2lvbnMudjFfMCwgXCJjb2xvclwiLCBcIkNvbG9yXCIsIEFkYXB0aXZlLlRleHRDb2xvciwgZmFsc2UsIHRydWUpO1xuICAgIHN0YXRpYyByZWFkb25seSBzdWJ0bGVQcm9wZXJ0eSA9IG5ldyBOdWxsYWJsZUJvb2xlYW5Qcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV8wLCBcImlzU3VidGxlXCIsIFwiU3VidGxlXCIpO1xuICAgIHN0YXRpYyByZWFkb25seSBzdHlsZVByb3BlcnR5ID0gbmV3IENob2ljZVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwiQmFzZSBzdHlsZVwiLFxuICAgICAgICBbXG4gICAgICAgICAgICB7IHRhcmdldFZlcnNpb246IEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsIG5hbWU6IFwiRGVmYXVsdFwiLCB2YWx1ZTogXCJkZWZhdWx0XCIgfSxcbiAgICAgICAgICAgIHsgdGFyZ2V0VmVyc2lvbjogQWRhcHRpdmUuVmVyc2lvbnMudjFfNSwgbmFtZTogXCJIZWFkaW5nXCIsIHZhbHVlOiBcImhlYWRpbmdcIiB9LFxuICAgICAgICAgICAgeyB0YXJnZXRWZXJzaW9uOiBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBuYW1lOiBcIkNvbHVtbiBoZWFkZXJcIiwgdmFsdWU6IFwiY29sdW1uSGVhZGVyXCIgfVxuICAgICAgICBdLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdHJ1ZSk7XG5cbiAgICBwcm90ZWN0ZWQgY3JlYXRlSW5wbGFjZUVkaXRvcigpOiBEZXNpZ25lclBlZXJJbnBsYWNlRWRpdG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0QmxvY2tQZWVySW5wbGFjZUVkaXRvcih0aGlzLmNhcmRFbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQudGV4dDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxBZGRDb21tYW5kcyhjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBjb21tYW5kczogQXJyYXk8UGVlckNvbW1hbmQ+KSB7XG4gICAgICAgIHN1cGVyLmludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dCwgY29tbWFuZHMpO1xuXG4gICAgICAgIGlmIChjb250ZXh0LmRhdGFTdHJ1Y3R1cmUpIHtcbiAgICAgICAgICAgIGNvbW1hbmRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFBlZXJDb21tYW5kKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkJpbmQuLi5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1Nob3dOYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFRpcDogXCJTZWxlY3QgYSBkYXRhIGZpZWxkIHRvIGJpbmQgdGhpcyBUZXh0QmxvY2sgdG8uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlOiAoY29tbWFuZDogUGVlckNvbW1hbmQsIGNsaWNrZWRFbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZFBpY2tlciA9IG5ldyBGaWVsZFBpY2tlcihjb250ZXh0LmRhdGFTdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkUGlja2VyLm9uQ2xvc2UgPSAoc2VuZGVyLCB3YXNDYW5jZWxsZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQudGV4dCA9IGZpZWxkUGlja2VyLnNlbGVjdGVkRmllbGQuYXNFeHByZXNzaW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFBpY2tlci5wb3B1cChjbGlja2VkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRleHRCbG9ja1BlZXIudGV4dFByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRleHRCbG9ja1BlZXIud3JhcFByb3BlcnR5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci5tYXhMaW5lc1Byb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TdHlsZUNhdGVnb3J5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci5zdHlsZVByb3BlcnR5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci5mb250VHlwZVByb3BlcnR5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci5zaXplUHJvcGVydHksXG4gICAgICAgICAgICBUZXh0QmxvY2tQZWVyLndlaWdodFByb3BlcnR5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci5jb2xvclByb3BlcnR5LFxuICAgICAgICAgICAgVGV4dEJsb2NrUGVlci5zdWJ0bGVQcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgZ2V0VG9vbFRpcCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJEb3VibGUgY2xpY2sgdG8gZWRpdFwiO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDYXJkRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhcmRFbGVtZW50LnRleHQgfHwgdGhpcy5jYXJkRWxlbWVudC50ZXh0ID09IFwiXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FyZEVsZW1lbnQudGV4dCA9IFwiTmV3IFRleHRCbG9ja1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC53cmFwID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSaWNoVGV4dEJsb2NrUGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLlJpY2hUZXh0QmxvY2s+IHtcbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxHZXRUcmVlSXRlbVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQuYXNTdHJpbmcoKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldDogUHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5OiBzdHJpbmcgPSBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuRGVmYXVsdENhdGVnb3J5KSB7XG4gICAgICAgIHN1cGVyLnBvcHVsYXRlUHJvcGVydHlTaGVldChwcm9wZXJ0eVNoZWV0LCBkZWZhdWx0Q2F0ZWdvcnkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5LFxuICAgICAgICAgICAgbmV3IEN1c3RvbVByb3BlcnR5U2hlZXRFbnRyeShcbiAgICAgICAgICAgICAgICBcIipcIixcbiAgICAgICAgICAgICAgICAoY29udGV4dDogUHJvcGVydHlTaGVldENvbnRleHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZm9UZXh0QmxvY2sgPSBuZXcgQWRhcHRpdmUuVGV4dEJsb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIGluZm9UZXh0QmxvY2sudGV4dCA9IFwiVXNlIHRoZSAqKkNhcmQgUGF5bG9hZCBFZGl0b3IqKiB0byBlZGl0IHRoZSB0ZXh0IG9mIHRoaXMgUmljaFRleHRCbG9jayBlbGVtZW50LlwiO1xuICAgICAgICAgICAgICAgICAgICBpbmZvVGV4dEJsb2NrLndyYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbmZvVGV4dEJsb2NrLnNwYWNpbmcgPSBBZGFwdGl2ZS5TcGFjaW5nLkxhcmdlO1xuICAgICAgICAgICAgICAgICAgICBpbmZvVGV4dEJsb2NrLnNlcGFyYXRvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluZm9UZXh0QmxvY2suaG9yaXpvbnRhbEFsaWdubWVudCA9IEFkYXB0aXZlLkhvcml6b250YWxBbGlnbm1lbnQuQ2VudGVyO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmZvVGV4dEJsb2NrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ2FyZEVsZW1lbnQoKSB7XG4gICAgICAgIGxldCB0ZXh0UnVuID0gbmV3IEFkYXB0aXZlLlRleHRSdW4oKTtcbiAgICAgICAgdGV4dFJ1bi50ZXh0ID0gXCJOZXcgUmljaFRleHRCbG9ja1wiO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkSW5saW5lKHRleHRSdW4pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbFBlZXIgZXh0ZW5kcyBDb250YWluZXJQZWVyIHtcbiAgICBjYW5CZVJlbW92ZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlUm93UGVlciBleHRlbmRzIFR5cGVkQ2FyZEVsZW1lbnRQZWVyPEFkYXB0aXZlLlRhYmxlUm93PiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGhvcml6b250YWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNSxcbiAgICAgICAgXCJob3Jpem9udGFsQ2VsbENvbnRlbnRBbGlnbm1lbnRcIixcbiAgICAgICAgXCJIb3Jpem9udGFsIGNlbGwgY29udGVudCBhbGlnbm1lbnRcIixcbiAgICAgICAgQWRhcHRpdmUuSG9yaXpvbnRhbEFsaWdubWVudCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHRydWUpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IHZlcnRpY2FsQ2VsbENvbnRlbnRBbGlnbm1lbnRQcm9wZXJ0eSA9IG5ldyBFbnVtUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsXG4gICAgICAgIFwidmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFwiLFxuICAgICAgICBcIlZlcnRpY2FsIGNlbGwgY29udGVudCBhbGlnbm1lbnRcIixcbiAgICAgICAgQWRhcHRpdmUuVmVydGljYWxBbGlnbm1lbnQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB0cnVlKTtcblxuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5TdHlsZUNhdGVnb3J5LFxuICAgICAgICAgICAgQ29udGFpbmVyUGVlci5zdHlsZVByb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFByb3BlcnR5U2hlZXRDYXRlZ29yeS5MYXlvdXRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRhYmxlUm93UGVlci5ob3Jpem9udGFsQ2VsbENvbnRlbnRBbGlnbm1lbnRQcm9wZXJ0eSxcbiAgICAgICAgICAgIFRhYmxlUm93UGVlci52ZXJ0aWNhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHkpO1xuICAgIH1cblxuICAgIGdldCBpc1RyZWVJdGVtRXhwYW5kZWRCeURlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmNsYXNzIFRhYmxlQ29sdW1uc1Byb3BlcnR5RWRpdG9yIGV4dGVuZHMgUHJvcGVydHlTaGVldEVudHJ5IHtcbiAgICBwcml2YXRlIGNvbHVtbnNDaGFuZ2VkKGNvbnRleHQ6IFByb3BlcnR5U2hlZXRDb250ZXh0LCByZWZyZXNoUHJvcGVydHlTaGVldDogYm9vbGVhbikge1xuICAgICAgICBjb250ZXh0LnBlZXIudXBkYXRlQ2hpbGRyZW4oKTtcbiAgICAgICAgY29udGV4dC5wZWVyLmNoYW5nZWQocmVmcmVzaFByb3BlcnR5U2hlZXQpO1xuICAgIH1cblxuICAgIHJlbmRlcihjb250ZXh0OiBQcm9wZXJ0eVNoZWV0Q29udGV4dCk6IEFkYXB0aXZlLkNhcmRFbGVtZW50IHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBZGFwdGl2ZS5Db250YWluZXIoKTtcbiAgICAgICAgbGV0IHBlZXIgPSBjb250ZXh0LnBlZXIgYXMgVGFibGVQZWVyO1xuXG4gICAgICAgIGlmIChwZWVyLmNhcmRFbGVtZW50LmdldENvbHVtbkNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlVGV4dEJsb2NrID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgbWVzc2FnZVRleHRCbG9jay5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgIG1lc3NhZ2VUZXh0QmxvY2sudGV4dCA9IFwiTm8gY29sdW1uIGhhcyBiZWVuIGRlZmluZWRcIjtcblxuICAgICAgICAgICAgcmVzdWx0LmFkZEl0ZW0obWVzc2FnZVRleHRCbG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBlZXIuY2FyZEVsZW1lbnQuZ2V0Q29sdW1uQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtbkRlZmluaXRpb24gPSBwZWVyLmNhcmRFbGVtZW50LmdldENvbHVtbkF0KGkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoSW5wdXQgPSBuZXcgQWRhcHRpdmUuTnVtYmVySW5wdXQoKTtcbiAgICAgICAgICAgICAgICB3aWR0aElucHV0LnBsYWNlaG9sZGVyID0gXCJXaWR0aFwiO1xuICAgICAgICAgICAgICAgIHdpZHRoSW5wdXQubWluID0gMDtcbiAgICAgICAgICAgICAgICB3aWR0aElucHV0LmRlZmF1bHRWYWx1ZSA9IGNvbHVtbkRlZmluaXRpb24ud2lkdGgucGh5c2ljYWxTaXplO1xuICAgICAgICAgICAgICAgIHdpZHRoSW5wdXQub25WYWx1ZUNoYW5nZWQgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbkRlZmluaXRpb24ud2lkdGgucGh5c2ljYWxTaXplID0gc2VuZGVyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoY29udGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsZXQgd2lkdGhDb2x1bW4gPSBuZXcgQWRhcHRpdmUuQ29sdW1uKFwic3RyZXRjaFwiKTtcbiAgICAgICAgICAgICAgICB3aWR0aENvbHVtbi5hZGRJdGVtKHdpZHRoSW5wdXQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHVuaXRJbnB1dCA9IG5ldyBBZGFwdGl2ZS5DaG9pY2VTZXRJbnB1dCgpO1xuICAgICAgICAgICAgICAgIHVuaXRJbnB1dC5wbGFjZWhvbGRlciA9IFwiVW5pdFwiO1xuICAgICAgICAgICAgICAgIHVuaXRJbnB1dC5jaG9pY2VzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIG5ldyBBZGFwdGl2ZS5DaG9pY2UoXCJQaXhlbHNcIiwgQWRhcHRpdmUuU2l6ZVVuaXQuUGl4ZWwudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBBZGFwdGl2ZS5DaG9pY2UoXCJXZWlnaHRcIiwgQWRhcHRpdmUuU2l6ZVVuaXQuV2VpZ2h0LnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB1bml0SW5wdXQuZGVmYXVsdFZhbHVlID0gY29sdW1uRGVmaW5pdGlvbi53aWR0aC51bml0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdW5pdElucHV0Lm9uVmFsdWVDaGFuZ2VkID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZpbml0aW9uLndpZHRoLnVuaXQgPSBwYXJzZUludChzZW5kZXIudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoY29udGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsZXQgdW5pdENvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oXCJzdHJldGNoXCIpO1xuICAgICAgICAgICAgICAgIHVuaXRDb2x1bW4uc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICAgICAgdW5pdENvbHVtbi5hZGRJdGVtKHVuaXRJbnB1dCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlQWN0aW9uID0gbmV3IEFkYXB0aXZlLlN1Ym1pdEFjdGlvbigpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbi50aXRsZSA9IFwiWFwiO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbi50b29sdGlwID0gXCJSZW1vdmVcIjtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb24ub25FeGVjdXRlID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwZWVyLmNhcmRFbGVtZW50LnJlbW92ZUNvbHVtbihjb2x1bW5EZWZpbml0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnNDaGFuZ2VkKGNvbnRleHQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBhY3Rpb25TZXQgPSBuZXcgQWRhcHRpdmUuQWN0aW9uU2V0KCk7XG4gICAgICAgICAgICAgICAgYWN0aW9uU2V0LmFkZEFjdGlvbihyZW1vdmVBY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgbGV0IHJlbW92ZUFjdGlvbkNvbHVtbiA9IG5ldyBBZGFwdGl2ZS5Db2x1bW4oXCJhdXRvXCIpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUFjdGlvbkNvbHVtbi5zcGFjaW5nID0gQWRhcHRpdmUuU3BhY2luZy5TbWFsbDtcbiAgICAgICAgICAgICAgICByZW1vdmVBY3Rpb25Db2x1bW4uYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtblNldCA9IG5ldyBBZGFwdGl2ZS5Db2x1bW5TZXQoKTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgICAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbih3aWR0aENvbHVtbik7XG4gICAgICAgICAgICAgICAgY29sdW1uU2V0LmFkZENvbHVtbih1bml0Q29sdW1uKTtcbiAgICAgICAgICAgICAgICBjb2x1bW5TZXQuYWRkQ29sdW1uKHJlbW92ZUFjdGlvbkNvbHVtbik7XG5cbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkSXRlbShjb2x1bW5TZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFkZEFjdGlvbiA9IG5ldyBBZGFwdGl2ZS5TdWJtaXRBY3Rpb24oKTtcbiAgICAgICAgYWRkQWN0aW9uLnRpdGxlID0gXCJBZGQgYSBjb2x1bW5cIjtcbiAgICAgICAgYWRkQWN0aW9uLm9uRXhlY3V0ZSA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIHBlZXIuY2FyZEVsZW1lbnQuYWRkQ29sdW1uKG5ldyBBZGFwdGl2ZS5UYWJsZUNvbHVtbkRlZmluaXRpb24oKSk7XG5cbiAgICAgICAgICAgIHRoaXMuY29sdW1uc0NoYW5nZWQoY29udGV4dCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWN0aW9uU2V0ID0gbmV3IEFkYXB0aXZlLkFjdGlvblNldCgpO1xuICAgICAgICBhY3Rpb25TZXQuc3BhY2luZyA9IEFkYXB0aXZlLlNwYWNpbmcuU21hbGw7XG4gICAgICAgIGFjdGlvblNldC5hZGRBY3Rpb24oYWRkQWN0aW9uKTtcblxuICAgICAgICByZXN1bHQuYWRkSXRlbShhY3Rpb25TZXQpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVQZWVyIGV4dGVuZHMgVHlwZWRDYXJkRWxlbWVudFBlZXI8QWRhcHRpdmUuVGFibGU+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZmlyc3RSb3dBc0hlYWRlcnNQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsXG4gICAgICAgIFwiZmlyc3RSb3dBc0hlYWRlcnNcIixcbiAgICAgICAgXCJGaXJzdCByb3cgYXMgaGVhZGVyc1wiKTtcblxuICAgIHN0YXRpYyByZWFkb25seSBjZWxsU3BhY2luZ1Byb3BlcnR5ID0gbmV3IE51bWJlclByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LFxuICAgICAgICBcImNlbGxTcGFjaW5nXCIsXG4gICAgICAgIFwiQ2VsbCBzcGFjaW5nIChpbiBwaXhlbHMpXCIpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IHNob3dHcmlkTGluZXNQcm9wZXJ0eSA9IG5ldyBCb29sZWFuUHJvcGVydHlFZGl0b3IoXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzUsXG4gICAgICAgIFwic2hvd0dyaWRMaW5lc1wiLFxuICAgICAgICBcIkdyaWQgbGluZXNcIik7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgZ3JpZFN0eWxlUHJvcGVydHkgPSBuZXcgQ29udGFpbmVyU3R5bGVQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV81LCBcImdyaWRTdHlsZVwiLCBcIkdyaWQgc3R5bGVcIik7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgaG9yaXpvbnRhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHkgPSBuZXcgRW51bVByb3BlcnR5RWRpdG9yKFxuICAgICAgICBBZGFwdGl2ZS5WZXJzaW9ucy52MV81LFxuICAgICAgICBcImhvcml6b250YWxDZWxsQ29udGVudEFsaWdubWVudFwiLFxuICAgICAgICBcIkhvcml6b250YWwgY2VsbCBjb250ZW50IGFsaWdubWVudFwiLFxuICAgICAgICBBZGFwdGl2ZS5Ib3Jpem9udGFsQWxpZ25tZW50LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdHJ1ZSk7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgdmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5ID0gbmV3IEVudW1Qcm9wZXJ0eUVkaXRvcihcbiAgICAgICAgQWRhcHRpdmUuVmVyc2lvbnMudjFfNSxcbiAgICAgICAgXCJ2ZXJ0aWNhbENlbGxDb250ZW50QWxpZ25tZW50XCIsXG4gICAgICAgIFwiVmVydGljYWwgY2VsbCBjb250ZW50IGFsaWdubWVudFwiLFxuICAgICAgICBBZGFwdGl2ZS5WZXJ0aWNhbEFsaWdubWVudCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHRydWUpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IGNvbHVtbnNQcm9wZXJ0eSA9IG5ldyBUYWJsZUNvbHVtbnNQcm9wZXJ0eUVkaXRvcihBZGFwdGl2ZS5WZXJzaW9ucy52MV81KTtcblxuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsQWRkQ29tbWFuZHMoY29udGV4dDogRGVzaWduQ29udGV4dCwgY29tbWFuZHM6IEFycmF5PFBlZXJDb21tYW5kPikge1xuICAgICAgICBzdXBlci5pbnRlcm5hbEFkZENvbW1hbmRzKGNvbnRleHQsIGNvbW1hbmRzKTtcblxuICAgICAgICBjb21tYW5kcy5wdXNoKFxuICAgICAgICAgICAgbmV3IFBlZXJDb21tYW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBZGQgYSByb3dcIixcbiAgICAgICAgICAgICAgICAgICAgaXNQcm9tb3RhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZTogKGNvbW1hbmQ6IFBlZXJDb21tYW5kLCBjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByb3cgPSBuZXcgQWRhcHRpdmUuVGFibGVSb3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRSb3cocm93KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRDaGlsZChDYXJkRGVzaWduZXJTdXJmYWNlLmNhcmRFbGVtZW50UGVlclJlZ2lzdHJ5LmNyZWF0ZVBlZXJJbnN0YW5jZSh0aGlzLmRlc2lnbmVyU3VyZmFjZSwgdGhpcywgcm93KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNoaWxkcmVuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cbiAgICBcbiAgICBpbml0aWFsaXplQ2FyZEVsZW1lbnQoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemVDYXJkRWxlbWVudCgpO1xuXG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkQ29sdW1uKG5ldyBBZGFwdGl2ZS5UYWJsZUNvbHVtbkRlZmluaXRpb24oKSk7XG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkQ29sdW1uKG5ldyBBZGFwdGl2ZS5UYWJsZUNvbHVtbkRlZmluaXRpb24oKSk7XG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkQ29sdW1uKG5ldyBBZGFwdGl2ZS5UYWJsZUNvbHVtbkRlZmluaXRpb24oKSk7XG5cbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudC5hZGRSb3cobmV3IEFkYXB0aXZlLlRhYmxlUm93KCkpO1xuICAgICAgICB0aGlzLmNhcmRFbGVtZW50LmFkZFJvdyhuZXcgQWRhcHRpdmUuVGFibGVSb3coKSk7XG4gICAgICAgIHRoaXMuY2FyZEVsZW1lbnQuYWRkUm93KG5ldyBBZGFwdGl2ZS5UYWJsZVJvdygpKTtcbiAgICB9XG4gICAgXG4gICAgcG9wdWxhdGVQcm9wZXJ0eVNoZWV0KHByb3BlcnR5U2hlZXQ6IFByb3BlcnR5U2hlZXQsIGRlZmF1bHRDYXRlZ29yeTogc3RyaW5nID0gUHJvcGVydHlTaGVldENhdGVnb3J5LkRlZmF1bHRDYXRlZ29yeSkge1xuICAgICAgICBzdXBlci5wb3B1bGF0ZVByb3BlcnR5U2hlZXQocHJvcGVydHlTaGVldCwgZGVmYXVsdENhdGVnb3J5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIGRlZmF1bHRDYXRlZ29yeSxcbiAgICAgICAgICAgIFRhYmxlUGVlci5maXJzdFJvd0FzSGVhZGVyc1Byb3BlcnR5KTtcblxuICAgICAgICBwcm9wZXJ0eVNoZWV0LmFkZChcbiAgICAgICAgICAgIFwiQ29sdW1uc1wiLFxuICAgICAgICAgICAgVGFibGVQZWVyLmNvbHVtbnNQcm9wZXJ0eSk7XG5cbiAgICAgICAgcHJvcGVydHlTaGVldC5hZGQoXG4gICAgICAgICAgICBQcm9wZXJ0eVNoZWV0Q2F0ZWdvcnkuU3R5bGVDYXRlZ29yeSxcbiAgICAgICAgICAgIFRhYmxlUGVlci5zaG93R3JpZExpbmVzUHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVBlZXIuZ3JpZFN0eWxlUHJvcGVydHkpO1xuXG4gICAgICAgIHByb3BlcnR5U2hlZXQuYWRkKFxuICAgICAgICAgICAgUHJvcGVydHlTaGVldENhdGVnb3J5LkxheW91dENhdGVnb3J5LFxuICAgICAgICAgICAgVGFibGVQZWVyLmNlbGxTcGFjaW5nUHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVBlZXIuaG9yaXpvbnRhbENlbGxDb250ZW50QWxpZ25tZW50UHJvcGVydHksXG4gICAgICAgICAgICBUYWJsZVBlZXIudmVydGljYWxDZWxsQ29udGVudEFsaWdubWVudFByb3BlcnR5KTtcbiAgICB9XG59IiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiYWRhcHRpdmVjYXJkcy1jb250cm9sc1wiO1xuXG5leHBvcnQgY2xhc3MgRGlhbG9nQnV0dG9uIHtcbiAgICBvbkNsaWNrOiAoc2VuZGVyOiBEaWFsb2dCdXR0b24pID0+IHZvaWQ7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY2FwdGlvbjogc3RyaW5nKSB7fVxuXG4gICAgcmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy1idXR0b25cIjtcbiAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSB0aGlzLmNhcHRpb247XG4gICAgICAgIGVsZW1lbnQub25jbGljayA9IChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsaWNrZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGNsaWNrZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMub25DbGljayh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIERpYWxvZyB7XG4gICAgcHJpdmF0ZSBfb3ZlcmxheUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2lzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX29yaWdpbmFsRm9jdXNlZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2ZpcnN0Rm9jdXNhYmxlRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfbGFzdEZvY3VzYWJsZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHJlbmRlckNvbnRlbnQoKTogSFRNTEVsZW1lbnQ7XG5cbiAgICBvbkNsb3NlOiAoc2VuZGVyOiBEaWFsb2cpID0+IHZvaWQgPSBudWxsO1xuXG4gICAgcmVhZG9ubHkgY2xvc2VCdXR0b246IERpYWxvZ0J1dHRvbjtcbiAgICBidXR0b25zPzogRGlhbG9nQnV0dG9uW107XG5cbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHdpZHRoOiBzdHJpbmc7XG4gICAgaGVpZ2h0OiBzdHJpbmc7XG4gICAgLy8gZmxhZyB0byBwcmV2ZW50IGRpYWxvZyBjbG9zZSBvbiBvdmVybGF5IGVsZW1lbnQgY2xpY2ssIGRlZmF1bHQgaXQncyBzZXQgdG8gZmFsc2UsIGZvciBQaTJDYXJkIGl0IHdpbGwgYmUgc2V0IHRvIHRydWVcbiAgICBwcmV2ZW50TGlnaHREaXNtaXNzYWw6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uID0gbmV3IERpYWxvZ0J1dHRvbihcIkNsb3NlXCIpO1xuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uLm9uQ2xpY2sgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxGb2N1c2VkRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXlFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy1vdmVybGF5XCI7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGF5RWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjbGlja3Mgb24gdGhlIG92ZXJsYXkgd2luZG93IHNob3VsZCBkaXNtaXNzIHRoZSBkaWFsb2dcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJldmVudExpZ2h0RGlzbWlzc2FsKSB7IHRoaXMuY2xvc2UoKTsgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IGRpYWxvZ0ZyYW1lRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtZGlhbG9nLWZyYW1lXCI7XG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LnN0eWxlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbW9kYWxcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJkaWFsb2dcIik7XG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsIFwiYWNkLWRpYWxvZy10aXRsZS1lbGVtZW50XCIpO1xuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50LnRhYkluZGV4ID0gLTE7XG5cbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIGNsaWNrIGJ1YmJsaW5nIGZyb20gdGhlIGZyYW1lIGVsZW1lbnQgLS0gb3RoZXJ3aXNlIGl0J2xsIGdldCB0byB0aGUgb3ZlcmxheSwgY2xvc2luZyB0aGVcbiAgICAgICAgICAgICAgICAvLyBkaWFsb2cgdW5leHBlY3RlZGx5XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZXZlbnRMaWdodERpc21pc3NhbCkge1xuICAgICAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGtleWJvYXJkIG5hdmlnYXRpb24gc3VwcG9ydFxuICAgICAgICAgICAgZGlhbG9nRnJhbWVFbGVtZW50Lm9ua2V5ZG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIENvbnN0YW50cy5rZXlzLnRhYjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuX2ZpcnN0Rm9jdXNhYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2t3YXJkcyB0YWIgb24gZmlyc3QgZWxlbWVudC4gc2V0IGZvY3VzIG9uIGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdEZvY3VzYWJsZUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFlLnNoaWZ0S2V5ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuX2xhc3RGb2N1c2FibGVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yd2FyZCB0YWIgb24gbGFzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpcnN0Rm9jdXNhYmxlRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMua2V5cy5lc2NhcGU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gIWUuY2FuY2VsQnViYmxlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IHRpdGxlQmFyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aXRsZUJhckVsZW1lbnQuY2xhc3NOYW1lPVwiYWNkLWRpYWxvZy10aXRsZS1ob3N0XCI7XG5cbiAgICAgICAgICAgIGxldCB0aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy10aXRsZVwiO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmlkID0gXCJhY2QtZGlhbG9nLXRpdGxlLWVsZW1lbnRcIjtcbiAgICAgICAgICAgIHRpdGxlRWxlbWVudC5pbm5lclRleHQgPSB0aGlzLnRpdGxlO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJoZWFkaW5nXCIpO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGV2ZWxcIixcIjFcIik7XG4gICAgICAgICAgICB0aXRsZUVsZW1lbnQudGFiSW5kZXggPSAtMTtcblxuICAgICAgICAgICAgbGV0IHhCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgeEJ1dHRvbi5jbGFzc05hbWUgPSBcImFjZC1pY29uIGFjZC1kaWFsb2ctdGl0bGVCYXItYnV0dG9uIGFjZC1pY29uLXJlbW92ZVwiO1xuICAgICAgICAgICAgeEJ1dHRvbi50aXRsZSA9IFwiQ2xvc2VcIjtcbiAgICAgICAgICAgIHhCdXR0b24ub25jbGljayA9IChlKSA9PiB7IHRoaXMuY2xvc2UoKTsgfVxuXG4gICAgICAgICAgICB0aXRsZUJhckVsZW1lbnQuYXBwZW5kQ2hpbGQodGl0bGVFbGVtZW50KTtcbiAgICAgICAgICAgIHRpdGxlQmFyRWxlbWVudC5hcHBlbmRDaGlsZCh4QnV0dG9uKTtcblxuICAgICAgICAgICAgbGV0IGNvbnRlbnRFbGVtZW50ID0gdGhpcy5yZW5kZXJDb250ZW50KCk7XG4gICAgICAgICAgICBjb250ZW50RWxlbWVudC5zdHlsZS5mbGV4ID0gXCIxIDEgYXV0b1wiO1xuXG4gICAgICAgICAgICBsZXQgYnV0dG9uQmFyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBidXR0b25CYXJFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy1idXR0b25CYXJcIjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuYnV0dG9ucz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRoaXMuYnV0dG9ucykge1xuICAgICAgICAgICAgICAgICAgICBidXR0b25CYXJFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbi5yZW5kZXIoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidXR0b25CYXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2xvc2VCdXR0b24ucmVuZGVyKCkpO1xuXG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQuYXBwZW5kQ2hpbGQodGl0bGVCYXJFbGVtZW50KTtcbiAgICAgICAgICAgIGRpYWxvZ0ZyYW1lRWxlbWVudC5hcHBlbmRDaGlsZChjb250ZW50RWxlbWVudCk7XG4gICAgICAgICAgICBkaWFsb2dGcmFtZUVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uQmFyRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXlFbGVtZW50LmFwcGVuZENoaWxkKGRpYWxvZ0ZyYW1lRWxlbWVudCk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fb3ZlcmxheUVsZW1lbnQpO1xuXG4gICAgICAgICAgICBsZXQgZm9jdXNhYmxlRWxlbWVudHMgPSBkaWFsb2dGcmFtZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmXSwgYXJlYVtocmVmXSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIFt0YWJpbmRleD1cIjBcIl0nKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0Rm9jdXNhYmxlRWxlbWVudCA9IGZvY3VzYWJsZUVsZW1lbnRzWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fbGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGgtMV0gYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0Rm9jdXNhYmxlRWxlbWVudC5mb2N1cygpO1xuXG4gICAgICAgICAgICB0aGlzLl9pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc09wZW4pIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5fb3ZlcmxheUVsZW1lbnQpO1xuXG4gICAgICAgICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25DbG9zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25DbG9zZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92aW5nIHRoZSBmb2N1cyBhY3Rpb24gb24gY2xvc2UsIGl0IGhhcyBiZWVuIGhhbmRsZWQgdmlhIG9uQ2xvc2UgbWV0aG9kIG9mIERpYWxvZyBjb25zdW1lIHBsYWNlLlxuICAgICAgICAgICAgLy8gdGhpcy5fb3JpZ2luYWxGb2N1c2VkRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxGb2N1c2VkRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRG93bmxvYWRlciB7XG4gICAgcHJpdmF0ZSBfZGF0YTogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSBlcnJvcigpIHtcbiAgICAgICAgaWYgKHRoaXMub25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5vbkVycm9yKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWNjZXNzKCkge1xuICAgICAgICBpZiAodGhpcy5vblN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMub25TdWNjZXNzKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25FcnJvcjogKHNlbmRlcjogRG93bmxvYWRlcikgPT4gdm9pZCA9IG51bGw7XG4gICAgb25TdWNjZXNzOiAoc2VuZGVyOiBEb3dubG9hZGVyKSA9PiB2b2lkID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHVybDogc3RyaW5nKSB7fVxuXG4gICAgZG93bmxvYWQoKSB7XG4gICAgICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSByZXF1ZXN0LnJlc3BvbnNlVGV4dDtcblxuICAgICAgICAgICAgdGhpcy5zdWNjZXNzKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbihcIkdFVFwiLCB0aGlzLnVybCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGRhdGEoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxufSIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IElQb2ludCB9IGZyb20gXCIuL21pc2NlbGxhbmVvdXNcIjtcblxuZXhwb3J0IGNvbnN0IERSQUdfVEhSRVNIT0xEID0gMTA7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEcmFnZ2FibGVFbGVtZW50IHtcbiAgICBwcml2YXRlIF9yZW5kZXJlZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2lzUG9pbnRlck92ZXI6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfaXNQb2ludGVyRG93bjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9sYXN0Q2xpY2tlZFBvaW50OiBJUG9pbnQ7XG4gICAgcHJpdmF0ZSBfZHJhZ2dpbmc6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIHJlbGVhc2VQb2ludGVyQ2FwdHVyZShwb2ludGVySWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmdldERyYWdTb3VyY2VFbGVtZW50KCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHBvaW50ZXJJZCk7XG5cbiAgICAgICAgdGhpcy5faXNQb2ludGVyRG93biA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXQgaXNQb2ludGVyT3ZlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUG9pbnRlck92ZXI7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNldCBpc1BvaW50ZXJPdmVyKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSB0aGlzLl9pc1BvaW50ZXJPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1BvaW50ZXJPdmVyID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgc3RhcnREcmFnKCkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnYWJsZSgpICYmICF0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub25TdGFydERyYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RhcnREcmFnKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBvaW50ZXJEb3duKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzUG9pbnRlckRvd24pIHtcbiAgICAgICAgICAgIHRoaXMuX2lzUG9pbnRlckRvd24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENsaWNrZWRQb2ludCA9IHsgeDogZS5vZmZzZXRYLCB5OiBlLm9mZnNldFkgfTtcblxuICAgICAgICAgICAgdGhpcy5nZXREcmFnU291cmNlRWxlbWVudCgpLnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBwb2ludGVyVXAoZTogUG9pbnRlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1BvaW50ZXJEb3duKSB7XG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHBvaW50ZXJNb3ZlKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5faXNQb2ludGVyRG93bikge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGUub2Zmc2V0WCAtIHRoaXMuX2xhc3RDbGlja2VkUG9pbnQueCkgPj0gRFJBR19USFJFU0hPTEQgfHwgTWF0aC5hYnMoZS5vZmZzZXRZIC0gdGhpcy5fbGFzdENsaWNrZWRQb2ludC55KSA+PSBEUkFHX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREcmFnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgY2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5vbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZG91YmxlQ2xpY2soZTogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5vbkRvdWJsZUNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLm9uRG91YmxlQ2xpY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxVcGRhdGVDc3NTdHlsZXMoKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgaW4gYmFzZSBpbXBsZW1lbnRhdGlvblxuICAgIH1cblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFVwZGF0ZUxheW91dCgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldERyYWdTb3VyY2VFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgaW50ZXJuYWxSZW5kZXIoKTogSFRNTEVsZW1lbnQ7XG5cbiAgICBvblN0YXJ0RHJhZzogKHNlbmRlcjogRHJhZ2dhYmxlRWxlbWVudCkgPT4gdm9pZDtcbiAgICBvbkVuZERyYWc6IChzZW5kZXI6IERyYWdnYWJsZUVsZW1lbnQpID0+IHZvaWQ7XG4gICAgb25DbGljazogKHNlbmRlcjogRHJhZ2dhYmxlRWxlbWVudCkgPT4gdm9pZDtcbiAgICBvbkRvdWJsZUNsaWNrOiAoc2VuZGVyOiBEcmFnZ2FibGVFbGVtZW50KSA9PiB2b2lkO1xuXG4gICAgaXNEcmFnZ2FibGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGVuZERyYWcoKSB7XG4gICAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uRW5kRHJhZykge1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlTGF5b3V0KCkge1xuICAgICAgICB0aGlzLmludGVybmFsVXBkYXRlQ3NzU3R5bGVzKCk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxVcGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQgPSB0aGlzLmludGVybmFsUmVuZGVyKCk7XG5cbiAgICAgICAgbGV0IGRyYWdTb3VyY2VFbGVtZW50ID0gdGhpcy5nZXREcmFnU291cmNlRWxlbWVudCgpO1xuICAgICAgICBkcmFnU291cmNlRWxlbWVudC5vbmNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHsgdGhpcy5jbGljayhlKTsgfTtcbiAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25rZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gQ29uc3RhbnRzLmtleXMuZW50ZXIgfHwgZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLnNwYWNlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWNrKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9uRG91YmxlQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3VibGVDbGljayhudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGRyYWdTb3VyY2VFbGVtZW50Lm9uZGJsY2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4geyB0aGlzLmRvdWJsZUNsaWNrKGUpOyB9O1xuXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dhYmxlKCkpIHtcbiAgICAgICAgICAgIGRyYWdTb3VyY2VFbGVtZW50Lm9ubW91c2Vkb3duID0gKGU6IE1vdXNlRXZlbnQpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9O1xuICAgICAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25wb2ludGVyZW50ZXIgPSAoKSA9PiB7IHRoaXMuaXNQb2ludGVyT3ZlciA9IHRydWU7IH07XG4gICAgICAgICAgICBkcmFnU291cmNlRWxlbWVudC5vbnBvaW50ZXJsZWF2ZSA9ICgpID0+IHsgdGhpcy5pc1BvaW50ZXJPdmVyID0gZmFsc2U7IH07XG4gICAgICAgICAgICBkcmFnU291cmNlRWxlbWVudC5vbnBvaW50ZXJkb3duID0gKGU6IFBvaW50ZXJFdmVudCkgPT4geyB0aGlzLnBvaW50ZXJEb3duKGUpOyB9O1xuICAgICAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25wb2ludGVydXAgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7IHRoaXMucG9pbnRlclVwKGUpOyB9O1xuICAgICAgICAgICAgZHJhZ1NvdXJjZUVsZW1lbnQub25wb2ludGVybW92ZSA9IChlOiBQb2ludGVyRXZlbnQpID0+IHsgdGhpcy5wb2ludGVyTW92ZShlKTsgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHJlbmRlcmVkRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IGRyYWdnaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJhZ2dpbmc7XG4gICAgfVxuXG4gICAgc2V0IGRyYWdnaW5nKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2RyYWdnaW5nID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy5pbnRlcm5hbFVwZGF0ZUNzc1N0eWxlcygpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0ICogYXMgQ29udHJvbHMgZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IEZpZWxkRGVmaW5pdGlvbiB9IGZyb20gXCIuL2RhdGFcIjtcbmltcG9ydCB7IFRyZWVWaWV3IH0gZnJvbSBcIi4vdHJlZS12aWV3XCI7XG5pbXBvcnQgeyBEYXRhVHJlZUl0ZW0gfSBmcm9tIFwiLi9kYXRhLXRyZWVpdGVtXCI7XG5cbmV4cG9ydCBjbGFzcyBGaWVsZFBpY2tlciBleHRlbmRzIENvbnRyb2xzLlBvcHVwQ29udHJvbCB7XG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWRGaWVsZDogRmllbGREZWZpbml0aW9uO1xuICAgIHByaXZhdGUgX3RyZWVWaWV3OiBUcmVlVmlldztcblxuICAgIHByb3RlY3RlZCByZW5kZXJDb250ZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWZpZWxkUGlja2VyLWhvc3RcIjtcblxuICAgICAgICBsZXQgdHJlZUl0ZW0gPSBuZXcgRGF0YVRyZWVJdGVtKHRoaXMuZGF0YVN0cnVjdHVyZSk7XG5cbiAgICAgICAgdGhpcy5fdHJlZVZpZXcgPSBuZXcgVHJlZVZpZXcodHJlZUl0ZW0pO1xuXG4gICAgICAgIHRoaXMuX3RyZWVWaWV3Lm9uU2VsZWN0ZWRJdGVtQ2hhbmdlZCA9IChzZW5kZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkRmllbGQgPSAodGhpcy5fdHJlZVZpZXcuc2VsZWN0ZWRJdGVtIGFzIERhdGFUcmVlSXRlbSkuZmllbGQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3RlZEZpZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3RyZWVWaWV3LnJlbmRlcigpKTtcblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdGRvY1xuICAgICAqL1xuICAgIHJlbmRlcihyb290RWxlbWVudEJvdW5kczogQ2xpZW50UmVjdCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgcm9vdEVsZW1lbnQgPSBzdXBlci5yZW5kZXIocm9vdEVsZW1lbnRCb3VuZHMpO1xuICAgICAgICByb290RWxlbWVudC50YWJJbmRleCA9IC0xO1xuXG4gICAgICAgIHJldHVybiByb290RWxlbWVudDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBkYXRhU3RydWN0dXJlOiBGaWVsZERlZmluaXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdGRvY1xuICAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJlZVZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyZWVWaWV3LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBrZXlEb3duKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgc3VwZXIua2V5RG93bihlKTtcblxuICAgICAgICAvLyBUT0RPXG4gICAgfVxuXG4gICAgZ2V0IHNlbGVjdGVkRmllbGQoKTogRmllbGREZWZpbml0aW9uIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkRmllbGQ7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5leHBvcnQgY2xhc3MgRnVsbFNjcmVlbkhhbmRsZXIge1xuICAgIHByaXZhdGUgZnVsbFNjcmVyZW5DaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5vbkZ1bGxTY3JlZW5DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uRnVsbFNjcmVlbkNoYW5nZWQodGhpcy5pc0Z1bGxTY3JlZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25GdWxsU2NyZWVuQ2hhbmdlZDogKGlzRnVsbFNjcmVlbjogYm9vbGVhbikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBsZXQgdW50eXBlZEJvZHkgPSA8YW55PmRvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1bnR5cGVkQm9keS5vbmZ1bGxzY3JlZW5jaGFuZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHVudHlwZWRCb2R5Lm9uZnVsbHNjcmVlbmNoYW5nZSA9ICgpID0+IHRoaXMuZnVsbFNjcmVyZW5DaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHVudHlwZWRCb2R5Lm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdW50eXBlZEJvZHkub253ZWJraXRmdWxsc2NyZWVuY2hhbmdlID0gKCkgPT4gdGhpcy5mdWxsU2NyZXJlbkNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdW50eXBlZEJvZHkub253ZWJraXRmdWxsc2NyZWVuY2hhbmdlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB1bnR5cGVkQm9keS5vbm1vemZ1bGxzY3JlZW5jaGFuZ2UgPSAoKSA9PiB0aGlzLmZ1bGxTY3JlcmVuQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1bnR5cGVkQm9keS5vbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHVudHlwZWRCb2R5Lk1TRnVsbHNjcmVlbkNoYW5nZSA9ICgpID0+IHRoaXMuZnVsbFNjcmVyZW5DaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbnRlckZ1bGxTY3JlZW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Z1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgIGxldCB1bnR5cGVkQm9keSA9IDxhbnk+ZG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgICAgaWYgKHVudHlwZWRCb2R5LnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdW50eXBlZEJvZHkucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVudHlwZWRCb2R5LndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdW50eXBlZEJvZHkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVudHlwZWRCb2R5Lm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdW50eXBlZEJvZHkubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVudHlwZWRCb2R5Lm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB1bnR5cGVkQm9keS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZnVsbHNjcmVlbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGl0RnVsbFNjcmVlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICBsZXQgdW50eXBlZERvY3VtZW50ID0gPGFueT5kb2N1bWVudDtcblxuICAgICAgICAgICAgaWYgKHVudHlwZWREb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWREb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW50eXBlZERvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdW50eXBlZERvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bnR5cGVkRG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWREb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bnR5cGVkRG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHVudHlwZWREb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGVGdWxsU2NyZWVuKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Z1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW50ZXJGdWxsU2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaXNGdWxsU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgdW50eXBlZERvY3VtZW50ID0gPGFueT5kb2N1bWVudDtcblxuICAgICAgICByZXR1cm4gdW50eXBlZERvY3VtZW50LmZ1bGxzY3JlZW4gfHwgdW50eXBlZERvY3VtZW50LndlYmtpdElzRnVsbFNjcmVlbiB8fCB1bnR5cGVkRG9jdW1lbnQubW96RnVsbFNjcmVlbjtcbiAgICB9XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmltcG9ydCAqIGFzIEFkYXB0aXZlIGZyb20gXCJhZGFwdGl2ZWNhcmRzXCI7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tIFwiLi9kaWFsb2dcIjtcblxuZXhwb3J0IGNsYXNzIEhlbHBEaWFsb2cgZXh0ZW5kcyBEaWFsb2cge1xuICAgIHByaXZhdGUgX3JlbmRlcmVkRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIF9nZXRTaG9ydGN1dFJvdyhzaG9ydGN1dDogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBpc0hlYWRlcjogYm9vbGVhbj1mYWxzZSkgOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBzaG9ydGN1dFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYlwiKTtcbiAgICAgICAgc2hvcnRjdXRUZXh0LmlubmVyVGV4dCA9IHNob3J0Y3V0O1xuICAgICAgICBsZXQgc2hvcnRjdXRDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpc0hlYWRlciA/IFwidGhcIiA6IFwidGRcIik7XG4gICAgICAgIHNob3J0Y3V0Q2VsbC5zdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgc2hvcnRjdXRDZWxsLmFwcGVuZENoaWxkKHNob3J0Y3V0VGV4dCk7XG5cbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXNIZWFkZXIgPyBcInRoXCIgOiBcInRkXCIpO1xuICAgICAgICBkZXNjcmlwdGlvbkNlbGwuc3R5bGUudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgIGRlc2NyaXB0aW9uQ2VsbC5pbm5lclRleHQgPSBkZXNjcmlwdGlvbjtcblxuICAgICAgICBsZXQgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoc2hvcnRjdXRDZWxsKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uQ2VsbCk7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlbmRlckNvbnRlbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgIGxldCBjYXJkSGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICAgICAgY2FyZEhlYWRpbmcuaW5uZXJUZXh0ID0gXCJDYXJkIFBheWxvYWQgYW5kIFNhbXBsZSBEYXRhIEVkaXRvcnNcIjtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGNhcmRIZWFkaW5nKTtcblxuICAgICAgICBsZXQga2V5Ym9hcmRIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICBrZXlib2FyZEhlYWRpbmcuaW5uZXJUZXh0ID0gXCJLZXlib2FyZCBTaG9ydGN1dHNcIjtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGtleWJvYXJkSGVhZGluZyk7XG5cbiAgICAgICAgbGV0IGtleWJvYXJkVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGtleWJvYXJkVGV4dC5pbm5lclRleHQgPSBcIlRoZXNlIGtleWJvYXJkIHNob3J0Y3V0cyBvbmx5IHdvcmsgd2hlbiB0aGUga2V5Ym9hcmQgZm9jdXMgaXMgd2l0aGluIGVpdGhlciB0aGUgY2FyZCBwYXlsb2FkIG9yIHNhbXBsZSBkYXRhIGVkaXRvcnNcIjtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGtleWJvYXJkVGV4dCk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuXG4gICAgICAgIGxldCBzaG9ydGN1dFRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xuICAgICAgICBzaG9ydGN1dFRhYmxlLmFwcGVuZENoaWxkKHRoaXMuX2dldFNob3J0Y3V0Um93KFwiU2hvcnRjdXRcIiwgXCJEZXNjcmlwdGlvblwiLCB0cnVlKSk7XG4gICAgICAgIHNob3J0Y3V0VGFibGUuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0U2hvcnRjdXRSb3coXCJBbHQtRjFcIiwgXCJTaG93IGhlbHAgZGlhbG9nIGZvciBlZGl0b3JcIikpO1xuICAgICAgICBzaG9ydGN1dFRhYmxlLmFwcGVuZENoaWxkKHRoaXMuX2dldFNob3J0Y3V0Um93KFwiQ3RybC1NXCIsIFwiVG9nZ2xlIGJlaGF2aW9yIG9mIFRBQiBrZXkuIEJ5IGRlZmF1bHQsIHByZXNzaW5nIFRBQiB3aWxsIGluc2VydCBhIFRBQiBjaGFyYWN0ZXIuIFdoZW4gdG9nZ2xlZCwgcHJlc3NpbmcgVEFCIHdpbGwgbmF2aWdhdGUgdG8gdGhlIG5leHQgZm9jdXNhYmxlIGl0ZW0uXCIpKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2hvcnRjdXRUYWJsZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQb2ludCB7XG5cdHg6IG51bWJlcjtcblx0eTogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgUmVjdCB7XG5cdHRvcDogbnVtYmVyO1xuXHRyaWdodDogbnVtYmVyO1xuXHRib3R0b206IG51bWJlcjtcblx0bGVmdDogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKHRvcDogbnVtYmVyID0gMCwgcmlnaHQ6IG51bWJlciA9IDAsIGJvdHRvbTogbnVtYmVyID0gMCwgbGVmdDogbnVtYmVyID0gMCkge1xuXHRcdHRoaXMudG9wID0gdG9wO1xuXHRcdHRoaXMucmlnaHQgPSByaWdodDtcblx0XHR0aGlzLmJvdHRvbSA9IGJvdHRvbTtcblx0XHR0aGlzLmxlZnQgPSBsZWZ0O1xuXHR9XG5cblx0dW5pb24ob3RoZXJSZWN0OiBSZWN0KSB7XG5cdFx0dGhpcy50b3AgPSBNYXRoLm1pbih0aGlzLnRvcCwgb3RoZXJSZWN0LnRvcCk7XG5cdFx0dGhpcy5sZWZ0ID0gTWF0aC5taW4odGhpcy5sZWZ0LCBvdGhlclJlY3QubGVmdCk7XG5cdFx0dGhpcy5ib3R0b20gPSBNYXRoLm1heCh0aGlzLmJvdHRvbSwgb3RoZXJSZWN0LmJvdHRvbSk7XG5cdFx0dGhpcy5yaWdodCA9IE1hdGgubWF4KHRoaXMucmlnaHQsIG90aGVyUmVjdC5yaWdodCk7XG5cdH1cblxuXHRpc0luc2lkZShwb2ludDogSVBvaW50KTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHBvaW50LnggPj0gdGhpcy5sZWZ0ICYmIHBvaW50LnggPD0gdGhpcy5yaWdodCAmJiBwb2ludC55ID49IHRoaXMudG9wICYmIHBvaW50LnkgPD0gdGhpcy5ib3R0b207XG5cdH1cblxuXHRnZXQgd2lkdGgoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5yaWdodCAtIHRoaXMubGVmdDtcblx0fVxuXG5cdGdldCBoZWlnaHQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5ib3R0b20gLSB0aGlzLnRvcDtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVXRpbHMge1xuXHRwdWJsaWMgc3RhdGljIGlzQWJzb2x1dGVVcmwodXJsU3RyaW5nOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdXJsU3RyaW5nLmluZGV4T2YoJ2h0dHA6Ly8nKSA9PT0gMFxuXHRcdHx8IHVybFN0cmluZy5pbmRleE9mKCdodHRwczovLycpID09PSAwO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBqb2luUGF0aHMoLi4uYXJnczogc3RyaW5nW10pIHtcblx0XHRyZXR1cm4gYXJncy5tYXAoXG5cdFx0XHQocGFydCwgaSkgPT4ge1xuXHRcdFx0XHRpZiAoIXBhcnQpIHtcblx0XHRcdFx0XHRwYXJ0ID0gXCJcIjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnQudHJpbSgpLnJlcGxhY2UoL1tcXC9dKiQvZywgJycpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnQudHJpbSgpLnJlcGxhY2UoLyheW1xcL10qfFtcXC9dKiQpL2csICcnKVxuXHRcdFx0XHR9XG5cdFx0XHR9KS5maWx0ZXIoeCA9PiB4Lmxlbmd0aCkuam9pbignLycpXG5cdH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYWRqdXN0UG9pbnRGb3JTY3JvbGwocG9zaXRpb246IElQb2ludCk6IElQb2ludCB7XG4gICAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSBkb2N1bWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHBvc2l0aW9uLnggKyBmaXJzdENoaWxkLnNjcm9sbExlZnQsXG4gICAgICAgICAgICB5OiBwb3NpdGlvbi55ICsgZmlyc3RDaGlsZC5zY3JvbGxUb3BcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCB2YXIgZGVmYXVsdEhvc3RDb25maWcgPSBuZXcgQWRhcHRpdmUuSG9zdENvbmZpZyhcbiAgICB7XG4gICAgICAgIHByZUV4cGFuZFNpbmdsZVNob3dDYXJkQWN0aW9uOiB0cnVlLFxuICAgICAgICBzdXBwb3J0c0ludGVyYWN0aXZpdHk6IHRydWUsXG4gICAgICAgIHNwYWNpbmc6IHtcbiAgICAgICAgICAgIHNtYWxsOiAxMCxcbiAgICAgICAgICAgIGRlZmF1bHQ6IDIwLFxuICAgICAgICAgICAgbWVkaXVtOiAzMCxcbiAgICAgICAgICAgIGxhcmdlOiA0MCxcbiAgICAgICAgICAgIGV4dHJhTGFyZ2U6IDUwLFxuICAgICAgICAgICAgcGFkZGluZzogMjBcbiAgICAgICAgfSxcbiAgICAgICAgc2VwYXJhdG9yOiB7XG4gICAgICAgICAgICBsaW5lVGhpY2tuZXNzOiAxLFxuICAgICAgICAgICAgbGluZUNvbG9yOiBcIiNFRUVFRUVcIlxuICAgICAgICB9LFxuICAgICAgICB0ZXh0QWxpZ246IHtcbiAgICAgICAgICAgIHJpZ2h0OiBcInJpZ2h0XCJcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VTaXplczoge1xuICAgICAgICAgICAgc21hbGw6IDQwLFxuICAgICAgICAgICAgbWVkaXVtOiA4MCxcbiAgICAgICAgICAgIGxhcmdlOiAxNjBcbiAgICAgICAgfSxcbiAgICAgICAgZm9udFN0eWxlczoge1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGw6IDEyLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAxNCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaXVtOiAxNyxcbiAgICAgICAgICAgICAgICAgICAgbGFyZ2U6IDIxLFxuICAgICAgICAgICAgICAgICAgICBleHRyYUxhcmdlOiAyNlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRlcjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiA0MDAsXG4gICAgICAgICAgICAgICAgICAgIGJvbGRlcjogNjAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vbm9zcGFjZToge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IFwiJ0NvdXJpZXIgTmV3JywgQ291cmllciwgbW9ub3NwYWNlXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNtYWxsOiAxMixcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogMTQsXG4gICAgICAgICAgICAgICAgICAgIG1lZGl1bTogMTcsXG4gICAgICAgICAgICAgICAgICAgIGxhcmdlOiAyMSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFMYXJnZTogMjZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0ZXI6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogNDAwLFxuICAgICAgICAgICAgICAgICAgICBib2xkZXI6IDYwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbmVyU3R5bGVzOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOWY5ZjlcIixcbiAgICAgICAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzMzMzMzM1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNFRTMzMzMzM1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMkU4OUZDXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzg4MkU4OUZDXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW50aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNjYzMzMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERjYzMzMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnb29kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMjhBMDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjREQwMjc1MDJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNlNjk1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERlNjk1MDBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtcGhhc2lzOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMwODAwMDAwMFwiLFxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0VFMzMzMzMzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMyRTg5RkNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjODgyRTg5RkNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhdHRlbnRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2NjMzMwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGNjMzMwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdvb2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzAyOEEwMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERDAyNzUwMlwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI2U2OTUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNERGU2OTUwMFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWNjZW50OiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNDN0RFRjlcIixcbiAgICAgICAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzMzMzMzM1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNFRTMzMzMzM1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzAwMDAwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiM2NjAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNGRkZGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjMzMwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzJFODlGQ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiM4ODJFODlGQ1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dGVudGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjY2MzMzAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REY2MzMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ29vZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDI4QTAyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REMDI3NTAyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjZTY5NTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REZTY5NTAwXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnb29kOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNDQ0ZGQ0NcIixcbiAgICAgICAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzMzMzMzM1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiNFRTMzMzMzM1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhcms6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzAwMDAwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiM2NjAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNGRkZGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjMzMwMDAwMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhY2NlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiIzJFODlGQ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiM4ODJFODlGQ1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGF0dGVudGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjY2MzMzAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REY2MzMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ29vZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDI4QTAyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REMDI3NTAyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjZTY5NTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0REZTY5NTAwXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdHRlbnRpb246IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGQzVCMlwiLFxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0VFMzMzMzMzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGFyazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzY2MDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiMzMzAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMkU4OUZDXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzg4MkU4OUZDXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW50aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNjYzMzMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERjYzMzMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnb29kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMjhBMDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjREQwMjc1MDJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNlNjk1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERlNjk1MDBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdhcm5pbmc6IHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0ZGRTJCMlwiLFxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMzMzMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiI0VFMzMzMzMzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGFyazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzY2MDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbGlnaHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGxlOiBcIiMzMzAwMDAwMFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFjY2VudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCIjMkU4OUZDXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0bGU6IFwiIzg4MkU4OUZDXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW50aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNjYzMzMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERjYzMzMDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnb29kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiMwMjhBMDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjREQwMjc1MDJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcIiNlNjk1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRsZTogXCIjRERlNjk1MDBcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgICBtYXhBY3Rpb25zOiA1LFxuICAgICAgICAgICAgc3BhY2luZzogQWRhcHRpdmUuU3BhY2luZy5EZWZhdWx0LFxuICAgICAgICAgICAgYnV0dG9uU3BhY2luZzogMTAsXG4gICAgICAgICAgICBzaG93Q2FyZDoge1xuICAgICAgICAgICAgICAgIGFjdGlvbk1vZGU6IEFkYXB0aXZlLlNob3dDYXJkQWN0aW9uTW9kZS5JbmxpbmUsXG4gICAgICAgICAgICAgICAgaW5saW5lVG9wTWFyZ2luOiAxNlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFjdGlvbnNPcmllbnRhdGlvbjogQWRhcHRpdmUuT3JpZW50YXRpb24uSG9yaXpvbnRhbCxcbiAgICAgICAgICAgIGFjdGlvbkFsaWdubWVudDogQWRhcHRpdmUuQWN0aW9uQWxpZ25tZW50LkxlZnRcbiAgICAgICAgfSxcbiAgICAgICAgYWRhcHRpdmVDYXJkOiB7XG4gICAgICAgICAgICBhbGxvd0N1c3RvbVN0eWxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGltYWdlU2V0OiB7XG4gICAgICAgICAgICBpbWFnZVNpemU6IEFkYXB0aXZlLlNpemUuTWVkaXVtLFxuICAgICAgICAgICAgbWF4SW1hZ2VIZWlnaHQ6IDEwMFxuICAgICAgICB9LFxuICAgICAgICBmYWN0U2V0OiB7XG4gICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBBZGFwdGl2ZS5UZXh0Q29sb3IuRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBzaXplOiBBZGFwdGl2ZS5UZXh0U2l6ZS5EZWZhdWx0LFxuICAgICAgICAgICAgICAgIGlzU3VidGxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IEFkYXB0aXZlLlRleHRXZWlnaHQuQm9sZGVyLFxuICAgICAgICAgICAgICAgIHdyYXA6IHRydWUsXG4gICAgICAgICAgICAgICAgbWF4V2lkdGg6IDE1MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBBZGFwdGl2ZS5UZXh0Q29sb3IuRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBzaXplOiBBZGFwdGl2ZS5UZXh0U2l6ZS5EZWZhdWx0LFxuICAgICAgICAgICAgICAgIGlzU3VidGxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IEFkYXB0aXZlLlRleHRXZWlnaHQuRGVmYXVsdCxcbiAgICAgICAgICAgICAgICB3cmFwOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwYWNpbmc6IDEwXG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5kZWZhdWx0SG9zdENvbmZpZy5jc3NDbGFzc05hbWVQcmVmaXggPSBcImRlZmF1bHRcIjtcbiIsImltcG9ydCB7IERpYWxvZyB9IGZyb20gXCIuL2RpYWxvZ1wiO1xuaW1wb3J0IHsgUGljMkNhcmRcdCB9IGZyb20gXCIuL3BpYzJjYXJkXCI7XG5leHBvcnQgY2xhc3MgRmV0Y2hNYW5hZ2VyIHtcbiAgICBwcml2YXRlIHBpYzJjYXJkU2VydmljZSA9IFBpYzJDYXJkLnBpYzJjYXJkU2VydmljZSAhPT0gJycgPyBQaWMyQ2FyZC5waWMyY2FyZFNlcnZpY2UgOiBwcm9jZXNzLmVudi5QSUNfVE9fQ0FSRF9QUkVESUNUSU9OX0FQSTtcbiAgICBwcml2YXRlIGhlYWRlcnMgPSB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiOiBcIipcIixcbiAgICB9O1xuXG4gICAgYXN5bmMgZ2V0U2FtcGxlSW1hZ2VzKCkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVJbWFnZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgICB0aGlzLnBpYzJjYXJkU2VydmljZSArIFwiL2dldF9jYXJkX3RlbXBsYXRlc1wiLFxuICAgICAgICAgICAgICAgIG9wdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBzYW1wbGVJbWFnZXMuanNvbigpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGdldFByZWRpY3RlZERhdGEoaW1hZ2VDb250ZW50LCBpc1RlbXBsYXRlQmluZGluZ0VuYWJsZWQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlQ29udGVudC5zcGxpdChcIixcIilbMV0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGVuZFBvaW50ID0gaXNUZW1wbGF0ZUJpbmRpbmdFbmFibGVkXG4gICAgICAgICAgICAgICAgPyBcIi9wcmVkaWN0X2pzb24/Zm9ybWF0PXRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICA6IFwiL3ByZWRpY3RfanNvblwiO1xuICAgICAgICAgICAgY29uc3QgcGljUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgICB0aGlzLnBpYzJjYXJkU2VydmljZSArIGVuZFBvaW50LFxuICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgcGljUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9wZW5JbWFnZURpYWxvZyBleHRlbmRzIERpYWxvZyB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyZWRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9pbWFnZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2J1dHRvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfaW5wdXRUZW1wbGF0ZTogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfdXBsb2FkZWRJbWFnZTogc3RyaW5nID1cbiAgICAgICAgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUdZQUFBQmFDQVlBQUFCS1p5TzBBQUFBQVhOU1IwSUFyczRjNlFBQUFFUmxXRWxtVFUwQUtnQUFBQWdBQVlkcEFBUUFBQUFCQUFBQUdnQUFBQUFBQTZBQkFBTUFBQUFCQUFFQUFLQUNBQVFBQUFBQkFBQUFacUFEQUFRQUFBQUJBQUFBV2dBQUFBRGxsa2hoQUFBTFJFbEVRVlI0QWUyYzZaZlZSQkRGQndkeEZ3V1ZSVmxtUUhIWDR4Yy8rdi9yMGFPb3VMQTV1SUFLaUlJYnVOM2ZZeXJtZGFvN25ieGtYc2hMblhOSjB1bTFibmRWZGVjTnU5YnE1VDVsZVZMWUx6d3E3Tm5HTGwzSExIOXBjTGVGUDRTZmhHdkM3OEtPU0VxNTYrckJzOEpSZ2Z0SjF0WnVTQWtYaEp0OUt5Tkd6RDQxZkVwZ2RVeFMxY0FWSlowVi9xbSs2aWJGV3dsSFZQV0xndmV1bTFidi9Wb3c2VXplNjhMZmZRd25WRDVtYTdPUGhrWlk1d01hRStSOEwvemI5ZmpLcHV3cFZmNUtvZ0djNEZVQis0cFQ3THd6cW5OSWNyODY4NkNBOGdsK1lvSk96Z2lkNnNPSTJhMkszeGE0aG5KSENUaThYbVpHMk5oQW54OVd2MDRLTVlJKzF6djAwNW1ZS1R1bUdyMUdmMVA2UndMUnlDb0xrL01IZ2EzRFhrY1IrSnpMUW1lckJtSUFKc3hXajI1bjhxZitoUlN1azl6VkFQc1pmTXRqZ1VLd05KajZXMEY2NjBmYlBISU5oWEJ3SWlYVXl0cmF1WWhlbnE1bWJaOENJZXpvUThIQnM5T2RwS29COWk1YjFlU1pLekRYNEx4dWxnUXgyTWRRZmd3VHB1YzVEUkNKaFlJcklFam9SQ0RHMjkzM2Z1VFFTZStYVnduQkFJRlJLUGlmVGdSaWlOZERZWjh5U1ZvRG5vNDhYYVpyaWJ5Rm1EQWFJMnRuWVYrazNURWtlK2RrNkxNVDZheWlUbm96VlZKb1lDS21VTVd3YmlaaWhzVkgwWnVKbUVJVnc3cVppQmtXSDBWdkptSUtWUXpyWmlKbVdId1V2ZkcrdnhRdmwzRHpoTnA4Um5oRVlOSndpTXFKTHQvWWUvbUVxM29IS1VNaGhuNmNFQTRHV3VJY2owUFc1NFF2aEpYNUxqUUVVOGFKN0Z0Q1NJcVNDdUVUN3hzQ3Eya2xaQWpFYkVyVEQyVnErM25sNit5Z01MUE5wV1JiTmpGOENUemNZT1NZUElnY3ZTeWJHSDZaMDFRb3MreCtOKzF6NC96TEhtQ2JEMHYwZVZGemhsL3I3SWkrc2RZekNpdzdLbXM3TWJ4UEZSbkRuWDNpT0s2TS9MQVI0Zk01UHozaUIrU0RrcmFLNldvUS9MS2tqYlQ1a1Foa0Vqd1lLYlJMS1A2NnNPd0pTbC9tWk5uRThOdmZwdkt6Q3JUWmJKNVV1VU5PWXdRZ2d5Tm5DTVEwM1RSZWNKUmJsOFJLU1VWL2d5Tm4yY1R3Q1pzZHZmZVoxbFAyMTByOHhYdVJTS3NqeFlvT2lweGxFNE5TOERNZkN0NnZUbmlQUU9DV2NKR0hCcEpMaWxVNUdITDZJb1p3bEdPVVhPSG5VdThMS0wvODUzU3NwR3ZDQjhKWFFwTWZpYVJJNFdEMGt1REpJTWpwSXhyaHdIRlRJQXJpdDd4bmhMS3k5ZWdLSkh5MURTWU1hQnZHNHVoalBnVlNQaEhNZkI3VmZTaEd6bW05YU51SHNNNUd6d3krU3ptbXlrNElrSUp3T3N6aFkrNVpHR1VRbE5aV0laRHlMSlU0UXFEeHFXQ2tZQm92T2ZsSU1uTDZtTHlSSnY5UDdwSVladDd4LzZzdTd0aWxRMDRUMDFZVWJuaFRSd29ySlF5MUIwbE9WOFJBeWtaQ2laRHpwdEFuT2F6VTFFcnhTTEV1UXc0Um55ZExXVGxkRUhORW8wbVJZb1B0YytWQUNyN05FOHhYaWhRcmMwRTNneUZuVVdKUXhxYU5MT05xSDd5NlhEbGRrR0pkaDV4djdDRzQ3dWpLV1lRWVNFRXBuaENGYlhrdmxHYmtzSUlXbFJRcEhOM2tySlN3RCtlVnNIUnkxdFdKNDJIUDlQeXRrSXFLc09VNFdrOGdoVDhSdkNiZ2FQbXIzMUIySytFcGdiOHpDWjF4bURmMnpFckZqSG9DS1I4TGJlc21wTDVmZUZ3SWhRbjFwTUNrRGljWFozL3N5UmFXTml1Ry9VR01GSGJ4a0dLbnY4eTg4NEluckJ3Q2duQndYdDR3clU5U3JLMXp1bUdDZW9KWjgwano4clpLYTBvTXA3UHNxRDJ4b3hVanhmTFVrVU1vM1lTY25TREYrcDRpeC9MMGNtMUNES1M4RU9sRmpCVExuaUtIeldjdU9VUi9mWmt2NjJ0NGhaenZ3c1MrbjNPSk9haU9wRWdwbTY5WW54Y2xCMUxZTDNuQ2lmTWlQc1dyczV4MlZnODdTazRPTVFmVXFWUGxYcGJ1emFkd3paRWNjdlk0RmRXUndwbFdXMGZ2Tk9jbVFjNWw5MDBQaVhWUkdUK3dleW5TYmxOU3JCcG1OMHIwb2pVaW9mMUNPVnFySTZYUGxhS3VGTUtFMlMwUWtlMHFVdWR2Q0FpZUVQaVJDWk1lZi91djBGaG9LQ1lwVW1nUTg1VzdVc0kyV0RtSXR3OWlVUGdjNmljQ3JETmZxYkJleFJjU0NPQS9WcUFmZXpOcVFwOU1PSnQwOU8xN2daWDJxNUF0c1JXRDRtTStoWGNmQ20xSnNjN1ZyWnlEeW1nRHRESjJwU3dycFU5U2FQdFZBVkxhbmxTd2FsaEYxTUZKKzAwaHE4OHhZbGl1bm5SRml0V2RJb2UrZWNMZytpU0YwQjJmaWduRnRIWWxXQUkyNXBERnVKTW1Ma2FNeWxWa1VmTlZxWEE3SVVWT1dBWlNUZ3Rac3k0c25QSE03R2JUeXdheUQ4RTBZaEx4UTllRmFNQ1M4akVxVjRpUmt2TWxzaWpVNENibGM2eWF2a25oaUloQXB5NVMvVmw1VUNxNnVMME55aEFjc05vZ2w3cFNxdzF5M2hJNHk3c2xWQVFHMzZta3ppZlFPRDZsTDFMS3JUMm5oeFBsaE8zN3ZrbkJkTC91dEd0SnJOQXRBVWQreHhJVFYvUUtRUVF1K3hMNXFPdDlnWWsvSjNXbWJDZEpvV09lV2V1YmxJZlVMcVRFVnNvbHZlTjNDemVFZjRSY1Fkay9DS3d3SEwrM1AwUC9tRFh5emZtY0ZERTdUWXI2TmhQSXVTNHdzQ3ZDZWFHSlFwUTlXekRsaE9hWW9GQ3cvL3crNExLd1NQdEVyNncwSWpzSUNnWENtQnh6LytOVmpCaEkrVWpZQ2ZPbFppcEMrOHkwUnJGL3BaYjZoQlBLNHBrYVRBem1tMGtTRTh6VllZRkQzZjNDYndMOTlvVFZjRldBWU14bUtQek5LYjZtMEhmTStUTlRhR2pNd2l3OTVBd1FKVEwrMUtTQUZBZ3BsMGZoSHd1WXZKaDhyUmVzVHNMbVVEYVZnS1dZbWJTWVhjMXhjR0hGOTlyemhqcU1na001cXdSV2EwdzhVc2lMTGw4VDhCa3B3VFI3NUxIUE9XQUZZOFRZKzdGZXNmVlBPNFBEZE9GVFloSWp4Zkxua01PSytGS1lyUXdydUgwOVpzK3JTb3hIQ2pxNVlJcHhybldrV0pFY2N2QWwzZ1FvQW9SVkpRWm5IY3BQU29pWnNGeFNyTTRjY3JZc2MzQ2Q5VzBWaWNIcEV3V0ZNaGV1bGw0MkpjV0sxcEZqa2FmbHR5dW5CdEZObFdVYTR6WG1uSzlGQnNzcGR6bjZpbVJ6a3lIbkZTRVcvUkpDaDRML1cxL0ZGVU80R2dxaGNXd1BNcHZCWVlFR3o1QVNtd3d4MDdsbkl1YXVoamxsaUlsSEdQN0kyK2V4dy9kT2pHUGJqMWk3RDZ3aU1kNlpsYWQ4SStxU2JzcnZNVCtmQ040eHpVMmxudzd5MjNtWmtpc1NJMnhQelBaVmFoaFJnbmNjbi9xK1Eyajduc0JwTVlwRStTbGhMNVNibjcwTWJZYzhySWNKcVFiSDhzNHpOUjVaNWZHaVBJNUxjaVUzUHhiTDQrQjJ6SlFSSW81VnZOVlJSMHhmdXZETUttM05pQ25iVCt0QXJJQzl2NWV2eFFsdWFSQnRmMnhScXFMVkxYc3FULzVreFhpUndTTmU3cEdrZWFmR0hDQXVneHp2QklLZzRnN0VlQjFkTkhZZk1vZXh2WU9ucEw3SDRiVTVPL3FIR0cvSHk0YUlLR1NNd2hmRlc4N0FZZ2ViVHRaT2t0Q3h0MHBucHdFUXcyYkppOG41RU1UN01jcVB6cUQyS3MyYndVN1dUcEkySTdYTW9qOFVUL2o0alpPSk01c1hoVEdTNHhHREN2alV2TWg0dlc4czFCc0txL094TUZIUFdLL1pwdE02d1NkUGJ4ZEtCVzhJWXdzR2lNeXdGS0VRSlowTUV5UFBubS8yam1uQzRwaXZGOExFN2VlTGxyNitmWU1wdy9aNmRwWkR2OE1DSzhpSVpHWjQ1ay9KOTR5Z1dNWVZDak9aZmR5TjhFWHdUSG1DSk5zZ2NrN21XWjV5TWZUTlJQZDh5eFdsRngvUHdvM2tobDRlRmVvRTgrZXRzTHB5UTN2UHBBdDFZSDNjMGcxSW1TY1VEWkZzV3IyQVFzbUZzSWw5V2ZCT21wbms3d3JGMWlYc0ZNOGJ3aEZoa3JzL09mcENpdkJPQzVyb0IxZndxdUN0Rk9vNUk4ejVQVE5sdkRUQjltTFc5Z2toY1pablZhNXNQQThJRU9QNWxEbzlZT2FPQzZlRTJMSFBsdDU5Sjh4SlN2RWN5eHdURGdtcGZITVZqdmdCeDQ0Q2laeVl1REZCVi9oai9BOCt6SHlRYml2Q0t2bE1xSmpMSElWREVLdUhHSjhHZWJZZ1FMY3JLYXdlaU1JbmNOYUlQdEFMWUdQT3RVNitWWWJ6UW9VVUN1WVFRNzVRTUlGdHk0WjFEZTBaQzdIUjQvZ2c0cXhRUkdDNnI4aFlsVnNaYU1NRW5QVkxBdGN1NWFZcU95ZndNUzBwRXpGeDlhQWJIRC9iaDlqeGZMejAvQnMydEJlRnVjaHJQc3Y4MDBUTXZENjhKM1NFSTRjazlpQmVKS3ZraWhESkVTaUFxNExyUzVUdXlrU01xNVpvSWs0ZTU3NVhNR2ZQRmFWYklNQ1Z6U2FmRnhxUm9meUYvQWVLbWdnT2k3T1V0QUFBQUFCSlJVNUVya0pnZ2c9PVwiO1xuICAgIHByaXZhdGUgX3ByZWRpY3RlZENhcmRKU09OOiBwcmVkaWN0ZWRDYXJkSlNPTjtcbiAgICBwcml2YXRlIGZldGNoTWFuYWdlcjogRmV0Y2hNYW5hZ2VyO1xuICAgIHByaXZhdGUgaXNUZW1wbGF0ZU9wdGlvbkNoZWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGFsbG93ZWRJbWFnZVNpemUgPSAyOyAvLyBJbiBNQlxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZmV0Y2hNYW5hZ2VyID0gbmV3IEZldGNoTWFuYWdlcigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0Q29udGVudChlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVDb250ZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclRpdGxlKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aXRsZS5jbGFzc05hbWUgPSBcImFjZC1pbWFnZS10aXRsZVwiO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSBcIlVwbG9hZCB5b3VyIG93biBjYXJkIGRlc2lnblwiO1xuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJUaXRsZUNvbnRlbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGVudC5jbGFzc05hbWUgPSBcImFjZC1pbWFnZS10aXRsZS1jb250ZW50XCI7XG4gICAgICAgIGNvbnRlbnQuaW5uZXJUZXh0ID1cbiAgICAgICAgICAgIFwiRGVzaWduIHlvdXIgY2FyZCBhbmQgdXBsb2FkIGl0IGFzIGEgcG5nIG9yIGpwZWcsIGFuZCB3YXRjaCBpdCBtYWdpY2FsbHkgY29udmVydCB0byBhIGZ1bmN0aW9uaW5nIEFkYXB0aXZlIENhcmRcIjtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJVcGxvYWRlZEltYWdlKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLXBsYWNlaG9sZGVyXCI7XG4gICAgICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgdGhpcy5fdXBsb2FkZWRJbWFnZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbWFnZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJVcGxvYWRCdXR0b24odHlwZTogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBwcml2YWN5TGluayA9IFBpYzJDYXJkLnByaXZhY3lMaW5rO1xuICAgICAgICB0aGlzLl9idXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9idXR0b25Db250YWluZXIuY2xhc3NOYW1lID0gXCJhY2QtdXBsb2FkLWJ1dHRvbi1jb250YWluZXJcIjtcbiAgICAgICAgY29uc3QgZmlsZU5vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBmaWxlTm90ZS5jbGFzc05hbWUgPSBcImFjZC1pbWFnZS1maWxlLW5vdGVcIjtcbiAgICAgICAgZmlsZU5vdGUuaW5uZXJIVE1MID1cbiAgICAgICAgICAgIGBCeSB1c2luZyB0aGUgdXBsb2FkIGZlYXR1cmUgeW91IGFncmVlIHRvIG91ciA8YSBocmVmPSR7cHJpdmFjeUxpbmt9IHRhcmdldD0nX2JsYW5rJz48c3BhbiBjbGFzcz0nbGluayc+IGltYWdlIHVzYWdlIHBvbGljeTwvc3Bhbj48L2E+YDtcbiAgICAgICAgdHlwZSAhPT0gXCJmaWxlXCIgJiZcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlckNoZWNrYm94KCkpO1xuICAgICAgICB0aGlzLl9idXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICB0eXBlID09PSBcImZpbGVcIlxuICAgICAgICAgICAgICAgID8gdGhpcy5jcmVhdGVGaWxlQnV0dG9uKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuY3JlYXRlQWN0aW9uQnV0dG9uKClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGZpbGVOb3RlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1dHRvbkNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckNoZWNrYm94KCkge1xuICAgICAgICBjb25zdCBjaGVja2JveENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNoZWNrYm94Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLWNoZWNrYm94LWNvbnRhaW5lclwiO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1jaGVja2JveC1lbGVtZW50XCI7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInRlbXBsYXRlLW9wdGlvblwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50Lm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgIFwidGVtcGxhdGUtb3B0aW9uXCJcbiAgICAgICAgICAgICkgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuaXNUZW1wbGF0ZU9wdGlvbkNoZWNrZWQgPSBjaGVja2JveC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQub25mb2N1cyA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJhY2QtY3VzdG9tLWNoZWNrYm94LWl0ZW1cIlxuICAgICAgICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgY3VzdG9tQ2hlY2tib3guY2xhc3NOYW1lID0gXCJhY2QtY3VzdG9tLWNoZWNrYm94IGFjZC1jdXN0b20tY2hlY2tib3gtZm91Y3NcIlxuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbUNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJhY2QtY3VzdG9tLWNoZWNrYm94LWl0ZW1cIlxuICAgICAgICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgY3VzdG9tQ2hlY2tib3guY2xhc3NOYW1lID0gXCJhY2QtY3VzdG9tLWNoZWNrYm94XCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGN1c3RvbUNoZWNrYm94RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PihcbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTUEFOXCIpXG4gICAgICAgICk7XG4gICAgICAgIGN1c3RvbUNoZWNrYm94RWxlbWVudC5pZCA9IFwiYWNkLWN1c3RvbS1jaGVja2JveC1pdGVtXCI7XG4gICAgICAgIGN1c3RvbUNoZWNrYm94RWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1jdXN0b20tY2hlY2tib3hcIjtcbiAgICAgICAgY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQoY3VzdG9tQ2hlY2tib3hFbGVtZW50KTtcbiAgICAgICAgY2hlY2tib3hDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJMYWJlbFRleHQoKSk7XG4gICAgICAgIHJldHVybiBjaGVja2JveENvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckxhYmVsVGV4dCgpIHtcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkxBQkVMXCIpO1xuICAgICAgICBsYWJlbEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtbGFiZWwtZWxlbWVudFwiO1xuICAgICAgICBsYWJlbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwidGVtcGxhdGUtb3B0aW9uXCIpO1xuICAgICAgICBsYWJlbEVsZW1lbnQuaW5uZXJIVE1MID1cbiAgICAgICAgICAgIFwiQ3JlYXRlIEFkYXB0aXZlIENhcmQgd2l0aCA8YSBocmVmPSdodHRwczovL2FrYS5tcy9BQ1RlbXBsYXRpbmcnIHRhcmdldD0nX2JsYW5rJz48c3BhbiBjbGFzcz0nbGluayc+dGVtcGxhdGUgYmluZGluZ3M8L3NwYW4+PC9hPiBhbmQgc2FtcGxlIGRhdGFcIjtcbiAgICAgICAgcmV0dXJuIGxhYmVsRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrRmlsZVNpemUoZmlsZTogRmlsZSkge1xuICAgICAgICBjb25zdCBmaWxlc2l6ZSA9IHBhcnNlSW50KChmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCg0KSk7IC8vIE1CXG4gICAgICAgIHJldHVybiBmaWxlc2l6ZSA8IHRoaXMuYWxsb3dlZEltYWdlU2l6ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUZpbGVCdXR0b24oKSB7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTlBVVFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWZpbGUtdHlwZVwiO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImZpbGVcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJidXR0b24tbmFtZVwiLCBcIkJyb3dzZSBGaWxlXCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYWNjZXB0XCIsIFwiaW1hZ2UvKlwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJCcm93c2UgRmlsZVwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50Lm9uY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tGaWxlU2l6ZShpbnB1dEVsZW1lbnQuZmlsZXNbMF0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dEVsZW1lbnQuZmlsZXNbMF0pO1xuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB0aGlzLnJlbmRlckltYWdlKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nLCBpbnB1dEVsZW1lbnQuZmlsZXNbMF0ubmFtZSk7XG4gICAgICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZS5yZW1vdmVDaGlsZCh0aGlzLl9idXR0b25Db250YWluZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVXBsb2FkQnV0dG9uKFwiZmlsZVwiKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZUVycm9yVGV4dChcbiAgICAgICAgICAgICAgICAgICAgXCJJbnZhbGlkIGZpbGUgc2l6ZS4gVHJ5IGltYWdlIHVuZGVyIDIgTUJcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBsb2FkZWRJbWFnZSA9XG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFHWUFBQUJhQ0FZQUFBQktaeU8wQUFBQUFYTlNSMElBcnM0YzZRQUFBRVJsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUE2QUJBQU1BQUFBQkFBRUFBS0FDQUFRQUFBQUJBQUFBWnFBREFBUUFBQUFCQUFBQVdnQUFBQURsbGtoaEFBQUxSRWxFUVZSNEFlMmM2WmZWUkJERkJ3ZHhGd1dWUlZsbVFISFg0eGMvK3YvcjBhT291TEE1dUlBS2lJSWJ1TjNmWXlybWRhbzduYnhrWHNoTG5YTkowdW0xYm5kVmRlY051OWJxNVQ1bGVWTFlMendxN05uR0xsM0hMSDlwY0xlRlA0U2ZoR3ZDNzhLT1NFcTU2K3JCczhKUmdmdEoxdFp1U0FrWGhKdDlLeU5HekQ0MWZFcGdkVXhTMWNBVkpaMFYvcW0rNmliRld3bEhWUFdMZ3ZldW0xYnYvVm93NlV6ZTY4TGZmUXduVkQ1bWE3T1Boa1pZNXdNYUUrUjhML3piOWZqS3B1d3BWZjVLb2dHYzRGVUIrNHBUN0x3enFuTkljcjg2ODZDQThnbCtZb0pPemdpZDZzT0kyYTJLM3hhNGhuSkhDVGk4WG1aRzJOaEFueDlXdjA0S01ZSSsxenYwMDVtWUtUdW1HcjFHZjFQNlJ3TFJ5Q29May9NSGdhM0RYa2NSK0p6TFFtZXJCbUlBSnN4V2oyNW44cWYraFJTdWs5elZBUHNaZk10amdVS3dOSmo2VzBGNjYwZmJQSElOaFhCd0lpWFV5dHJhdVloZW5xNW1iWjhDSWV6b1E4SEJzOU9kcEtvQjlpNWIxZVNaS3pEWDRMeHVsZ1F4Mk1kUWZnd1RwdWM1RFJDSmhZSXJJRWpvUkNERzI5MzNmdVRRU2UrWFZ3bkJBSUZSS1BpZlRnUmlpTmREWVo4eVNWb0RubzQ4WGFacmlieUZtREFhSTJ0bllWK2szVEVrZStkazZMTVQ2YXlpVG5velZWSm9ZQ0ttVU1Xd2JpWmloc1ZIMFp1Sm1FSVZ3N3FaaUJrV0gwVnZKbUlLVlF6clppSm1XSHdVdmZHK3Z4UXZsM0R6aE5wOFJuaEVZTkp3aU1xSkx0L1llL21FcTNvSEtVTWhobjZjRUE0R1d1SWNqMFBXNTRRdmhKWDVMalFFVThhSjdGdENTSXFTQ3VFVDd4c0NxMmtsWkFqRWJFclREMlZxKzNubDYreWdNTFBOcFdSYk5qRjhDVHpjWU9TWVBJZ2N2U3liR0g2WjAxUW9zK3grTisxejQvekxIbUNiRDB2MGVWRnpobC9yN0lpK3NkWXpDaXc3S21zN01ieFBGUm5EblgzaU9LNk0vTEFSNGZNNVB6M2lCK1NEa3JhSzZXb1EvTEtramJUNWtRaGtFandZS2JSTEtQNjZzT3dKU2wvbVpObkU4TnZmcHZLekNyVFpiSjVVdVVOT1l3UWdneU5uQ01RMDNUUmVjSlJibDhSS1NVVi9neU5uMmNUd0Nac2R2ZmVaMWxQMjEwcjh4WHVSU0tzanhZb09pcHhsRTROUzhETWZDdDZ2VG5pUFFPQ1djSkdIQnBKTGlsVTVHSEw2SW9ad2xHT1VYT0huVXU4TEtMLzg1M1NzcEd2Q0I4SlhRcE1maWFSSTRXRDBrdURKSU1qcEl4cmh3SEZUSUFyaXQ3eG5oTEt5OWVnS0pIeTFEU1lNYUJ2RzR1aGpQZ1ZTUGhITWZCN1ZmU2hHem1tOWFOdUhzTTVHend5K1N6bW15azRJa0lKd09zemhZKzVaR0dVUWxOWldJWkR5TEpVNFFxRHhxV0NrWUJvdk9mbElNbkw2bUx5Ukp2OVA3cElZWnQ3eC82c3U3dGlsUTA0VDAxWVVibmhUUndvckpReTFCMGxPVjhSQXlrWkNpWkR6cHRBbk9helUxRXJ4U0xFdVF3NFJueWRMV1RsZEVITkVvMG1SWW9QdGMrVkFDcjdORTh4WGloUXJjMEUzZ3lGblVXSlF4cWFOTE9OcUg3eTZYRGxka0dKZGg1eHY3Q0c0N3VqS1dZUVlTRUVwbmhDRmJYa3ZsR2Jrc0lJV2xSUXBITjNrckpTd0QrZVZzSFJ5MXRXSjQySFA5UHl0a0lxS3NPVTRXazhnaFQ4UnZDYmdhUG1yMzFCMksrRXBnYjh6Q1oxeG1EZjJ6RXJGakhvQ0tSOExiZXNtcEw1ZmVGd0loUW4xcE1Da0RpY1haMy9zeVJhV05pdUcvVUdNRkhieGtHS252OHk4ODRJbnJCd0NnbkJ3WHQ0d3JVOVNySzF6dW1HQ2VvSlo4MGp6OHJaS2Ewb01wN1BzcUQyeG94VWp4ZkxVa1VNbzNZU2NuU0RGK3A0aXgvTDBjbTFDREtTOEVPbEZqQlRMbmlLSHpXY3VPVVIvZlprdjYydDRoWnp2d3NTK24zT0pPYWlPcEVncG02OVlueGNsQjFMWUwzbkNpZk1pUHNXcnM1eDJWZzg3U2s0T01RZlVxVlBsWHBidXphZHd6WkVjY3ZZNEZkV1J3cGxXVzBmdk5PY21RYzVsOTAwUGlYVlJHVCt3ZXluU2JsTlNyQnBtTjByMG9qVWlvZjFDT1Zxckk2WFBsYUt1Rk1LRTJTMFFrZTBxVXVkdkNBaWVFUGlSQ1pNZWYvdXYwRmhvS0NZcFVtZ1E4NVc3VXNJMldEbUl0dzlpVVBnYzZpY0NyRE5mcWJCZXhSY1NDT0EvVnFBZmV6TnFRcDlNT0p0MDlPMTdnWlgycTVBdHNSV0Q0bU0raFhjZkNtMUpzYzdWclp5RHltZ0R0REoycFN3cnBVOVNhUHRWQVZMYW5sU3dhbGhGMU1GSiswMGhxODh4WWxpdW5uUkZpdFdkSW9lK2VjTGcraVNGMEIyZmlnbkZ0SFlsV0FJMjVwREZ1Sk1tTGthTXlsVmtVZk5WcVhBN0lVVk9XQVpTVGd0WnN5NHNuUEhNN0diVHl3YXlEOEUwWWhMeFE5ZUZhTUNTOGpFcVY0aVJrdk1sc2lqVTRDYmxjNnlhdmtuaGlJaEFweTVTL1ZsNVVDcTZ1TDBOeWhBY3NOb2dsN3BTcXcxeTNoSTR5N3NsVkFRRzM2bWt6aWZRT0Q2bEwxTEtyVDJuaHhQbGhPMzd2a25CZEwvdXRHdEpyTkF0QVVkK3h4SVRWL1FLUVFRdSt4TDVxT3Q5Z1lrL0ozV21iQ2RKb1dPZVdldWJsSWZVTHFURVZzb2x2ZU4zQ3plRWY0UmNRZGsvQ0t3d0hMKzNQMFAvbURYeXpmbWNGREU3VFlyNk5oUEl1UzR3c0N2Q2VhR0pRcFE5V3pEbGhPYVlvRkN3Ly93KzRMS3dTUHRFcjZ3MElqc0lDZ1hDbUJ4ei8rTlZqQmhJK1VqWUNmT2xaaXBDKzh5MFJyRi9wWmI2aEJQSzRwa2FUQXptbTBrU0U4elZZWUZEM2YzQ2J3TDk5b1RWY0ZXQVlNeG1LUHpOS2I2bTBIZk0rVE5UYUdqTXdpdzk1QXdRSlRMKzFLU0FGQWdwbDBmaEh3dVl2Smg4clJlc1RzTG1VRGFWZ0tXWW1iU1lYYzF4Y0dIRjk5cnpoanFNZ2tNNXF3UldhMHc4VXNpTExsOFQ4Qmtwd1RSNzVMSFBPV0FGWThUWSs3RmVzZlZQTzRQRGRPRlRZaElqeGZMbmtNT0srRktZclF3cnVIMDlacytyU294SENqcTVZSXB4cm5Xa1dKRWNjdkFsM2dRb0FvUlZKUVpuSGNwUFNvaVpzRnhTck00Y2NyWXNjM0NkOVcwVmljSHBFd1dGTWhldWxsNDJKY1dLMXBGamthZmx0eXVuQnRGTmxXVWE0elhtbks5RkJzc3Bkem42aW1Semt5SG5GU0VXL1JKQ2g0TC9XMS9GRlVPNEdncWhjV3dQTXB2QllZRUd6NUFTbXd3eDA3bG5JdWF1aGpsbGlJbEhHUDdJMitleHcvZE9qR1BiajFpN0Q2d2lNZDZabGFkOEkrcVNic3J2TVQrZkNONHh6VTJsbnc3eTIzbVpraXNTSTJ4UHpQWlZhaGhSZ25jY24vcStRMmo3bnNCcE1ZcEUrU2xoTDVTYm43ME1iWWM4ckljSnFRYkg4czR6TlI1WjVmR2lQSTVMY2lVM1B4Ykw0K0IyekpRUklvNVZ2TlZSUjB4ZnV2RE1LbTNOaUNuYlQrdEFySUM5djVldnhRbHVhUkJ0ZjJ4UnFxTFZMWHNxVC81a3hYaVJ3U05lN3BHa2VhZkdIQ0F1Z3h6dkJJS2c0ZzdFZUIxZE5IWWZNb2V4dllPbnBMN0g0YlU1Ty9xSEdHL0h5NGFJS0dTTXdoZkZXODdBWWdlYlR0Wk9rdEN4dDBwbnB3RVF3MmJKaThuNUVNVDdNY3FQenFEMktzMmJ3VTdXVHBJMkk3WE1vajhVVC9qNGpaT0pNNXNYaFRHUzR4R0RDdmpVdk1oNHZXOHMxQnNLcS9PeE1GSFBXSy9acHRNNndTZFBieGRLQlc4SVl3c0dpTXl3RktFUUpaME1FeVBQbm0vMmptbkM0cGl2RjhMRTdlZUxscjYrZllNcHcvWjZkcFpEdjhNQ0s4aUlaR1o0NWsvSjk0eWdXTVlWQ2pPWmZkeU44RVh3VEhtQ0pOc2djazdtV1o1eU1mVE5SUGQ4eXhXbEZ4L1B3bzNraGw0ZUZlb0U4K2V0c0xweVEzdlBwQXQxWUgzYzBnMUltU2NVRFpGc1dyMkFRc21Gc0lsOVdmQk9tcG5rN3dyRjFpWHNGTThid2hGaGtycy9PZnBDaXZCT0M1cm9CMWZ3cXVDdEZPbzVJOHo1UFRObHZEVEI5bUxXOWdraGNaWm5WYTVzUEE4SUVPUDVsRG85WU9hT0M2ZUUyTEhQbHQ1OUo4eEpTdkVjeXh3VERnbXBmSE1WanZnQng0NENpWnlZdURGQlYvaGovQTgrekh5UWJpdkNLdmxNcUpqTEhJVkRFS3VIR0o4R2ViWWdRTGNyS2F3ZWlNSW5jTmFJUHRBTFlHUE90VTYrVllielFvVVVDdVlRUTc1UU1JRnR5NFoxRGUwWkM3SFI0L2dnNHF4UVJHQzZyOGhZbFZzWmFNTUVuUFZMQXRjdTVhWXFPeWZ3TVMwcEV6Rng5YUFiSEQvYmg5anhmTHowL0JzMnRCZUZ1Y2hyUHN2ODAwVE12RDY4SjNTRUk0Y2s5aUJlSkt2a2loREpFU2lBcTRMclM1VHV5a1NNcTVab0lrNGU1NzVYTUdmUEZhVmJJTUNWelNhZkZ4cVJvZnlGL0FlS21nZ09pN09VdEFBQUFBQkpSVTVFcmtKZ2dnPT1cIjtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3JjXCIsIHRoaXMuX3VwbG9hZGVkSW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUVycm9yVGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZXJyb3JDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZXJyb3JDb250ZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJzdGF0dXNcIik7XG4gICAgICAgIGVycm9yQ29udGVudC5jbGFzc05hbWUgPSBcImFjZC1lcnJvci10ZXh0XCI7XG4gICAgICAgIGVycm9yQ29udGVudC5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLl9idXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoZXJyb3JDb250ZW50KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ2FyZEZhaWx1cmUoc3Bpbm5lckVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ29udGVudChzcGlubmVyRWxlbWVudCk7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUucmVtb3ZlQ2hpbGQodGhpcy5fYnV0dG9uQ29udGFpbmVyKTtcbiAgICAgICAgbGV0IHVwbG9hZEJ1dHRvbiA9IHRoaXMucmVuZGVyVXBsb2FkQnV0dG9uKFwiZmlsZVwiKTtcbiAgICAgICAgdGhpcy5faW5wdXRUZW1wbGF0ZS5hcHBlbmRDaGlsZCh1cGxvYWRCdXR0b24pO1xuICAgICAgICB0aGlzLmdlbmVyYXRlRXJyb3JUZXh0KFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNhcmQgZm9yIHNlbGVjdGVkIEltYWdlXCIpO1xuICAgICAgICB1cGxvYWRCdXR0b24uZm9jdXMoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBY3Rpb25CdXR0b24oKSB7XG4gICAgICAgIGNvbnN0IHVwbG9hZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTlBVVFwiKTtcbiAgICAgICAgdXBsb2FkQnV0dG9uLmNsYXNzTmFtZSA9IFwiYWNkLWNhcmQtYnV0dG9uXCI7XG4gICAgICAgIHVwbG9hZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiQlVUVE9OXCIpO1xuICAgICAgICB1cGxvYWRCdXR0b24uc2V0QXR0cmlidXRlKFwiYnV0dG9uLW5hbWVcIiwgXCJDb252ZXJ0IHRvIEFkYXB0aXZlIENhcmRcIik7XG4gICAgICAgIHVwbG9hZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIkNvbnZlcnQgdG8gQWRhcHRpdmUgQ2FyZFwiKTtcbiAgICAgICAgdXBsb2FkQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB1cGxvYWRCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIkNvbnZlcnNpb24gdG8gQWRhcHRpdmUgY2FyZCBidXR0b24gcHJlc3NlZC4gQWRhcHRpdmUgQ2FyZCBjb252ZXJzaW9uIGluIFByb2dyZXNzXCIpO1xuICAgICAgICAgICAgbGV0IHNwaW5uZXJFbGVtZW50ID0gdGhpcy5sb2FkU3Bpbm5lcigpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50KHNwaW5uZXJFbGVtZW50KTtcbiAgICAgICAgICAgIHNwaW5uZXJFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLmZldGNoTWFuYWdlclxuICAgICAgICAgICAgICAgIC5nZXRQcmVkaWN0ZWREYXRhKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGxvYWRlZEltYWdlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVGVtcGxhdGVPcHRpb25DaGVja2VkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXMgfHwgcmVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2FyZEZhaWx1cmUoc3Bpbm5lckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJlZGljdGVkQ2FyZEpTT04gPSByZXMuY2FyZF9qc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHVwbG9hZEJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRTcGlubmVyKCkge1xuICAgICAgICBsZXQgc3Bpbm5lckhvc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc3Bpbm5lckhvc3RFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXNwaW5uZXItaG9zdFwiO1xuICAgICAgICBsZXQgc3Bpbm5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzcGlubmVyRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC1zcGlubmVyIGFjZC1pbWFnZS1zcGlubmVyXCI7XG4gICAgICAgIGxldCBzcGlubmVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNwaW5uZXJUZXh0LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJzdGF0dXNcIik7XG4gICAgICAgIHNwaW5uZXJUZXh0LmNsYXNzTmFtZSA9IFwiYWNkLWNvbnZlcnNpb24tdGV4dFwiO1xuICAgICAgICBzcGlubmVyVGV4dC5pbm5lclRleHQgPSBcIkFkYXB0aXZlIENhcmQgY29udmVyc2lvbiBpbiBwcm9ncmVzc1wiO1xuICAgICAgICBzcGlubmVySG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bpbm5lckVsZW1lbnQpO1xuICAgICAgICBzcGlubmVySG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bpbm5lclRleHQpO1xuICAgICAgICByZXR1cm4gc3Bpbm5lckhvc3RFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVySW1hZ2UoaW1hZ2VDb250ZW50OiBzdHJpbmcsIGltYWdlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2ltYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaW1hZ2VDb250ZW50KTtcbiAgICAgICAgdGhpcy5faW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcImFsdFwiLCBpbWFnZU5hbWUpO1xuICAgICAgICB0aGlzLl91cGxvYWRlZEltYWdlID0gaW1hZ2VDb250ZW50O1xuICAgICAgICB0aGlzLl9pbnB1dFRlbXBsYXRlLnJlbW92ZUNoaWxkKHRoaXMuX2J1dHRvbkNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJVcGxvYWRCdXR0b24oXCJhY3Rpb25cIikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyVXBsb2FkQ29udHJvbCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9pbnB1dFRlbXBsYXRlLmNsYXNzTmFtZSA9IFwiYWNkLXVwbG9hZC1jb250cm9sXCI7XG4gICAgICAgIHRoaXMuX2lucHV0VGVtcGxhdGUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJVcGxvYWRlZEltYWdlKCkpO1xuICAgICAgICB0aGlzLl9pbnB1dFRlbXBsYXRlLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyVXBsb2FkQnV0dG9uKFwiZmlsZVwiKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dFRlbXBsYXRlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyVXBsb2FkQ29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgdXBsb2FkVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB1cGxvYWRUZW1wbGF0ZS5jbGFzc05hbWUgPSBcImFjZC1pbWFnZS1maWxlLWNvbnRhaW5lclwiO1xuICAgICAgICB1cGxvYWRUZW1wbGF0ZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclVwbG9hZENvbnRyb2woKSk7XG4gICAgICAgIHJldHVybiB1cGxvYWRUZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckltYWdlQ29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGVtcGxhdGUuY2xhc3NOYW1lID0gXCJhY2QtaW1hZ2UtdXBsb2FkLWNvbnRhaW5lclwiO1xuICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclRpdGxlKCkpO1xuICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlclRpdGxlQ29udGVudCgpKTtcbiAgICAgICAgdGVtcGxhdGUuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJVcGxvYWRDb250YWluZXIoKSk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclNhbXBsZVRlbXBsYXRlKCkge1xuICAgICAgICBsZXQgc2FtcGxlSW1hZ2VUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUuaWQgPSBcImFjZC1zYW1wbGUtaW1hZ2VzXCI7XG4gICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUudGFiSW5kZXggPSAwO1xuICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLmNsYXNzTmFtZSA9IFwiYWNkLXNhbXBsZS1pbWFnZS1jb250YWluZXJcIjtcbiAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcbiAgICAgICAgbGV0IHNwaW5uZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc3Bpbm5lckVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtc3Bpbm5lclwiO1xuICAgICAgICBzcGlubmVyRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMjhweFwiO1xuICAgICAgICBzcGlubmVyRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjI4cHhcIjtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1lc3NhZ2UuY2xhc3NOYW1lID0gXCJhY2QtZGlhbG9nLW1lc3NhZ2VcIjtcbiAgICAgICAgbWVzc2FnZS5pbm5lclRleHQgPSBcIkxvYWRpbmcgU2FtcGxlIEltYWdlcy4uLlwiO1xuICAgICAgICBtZXNzYWdlLnN0eWxlLm1hcmdpblRvcCA9IFwiMTBweFwiO1xuICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLmFwcGVuZENoaWxkKHNwaW5uZXJFbGVtZW50KTtcbiAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5hcHBlbmRDaGlsZChtZXNzYWdlKTtcblxuICAgICAgICB0aGlzLmZldGNoTWFuYWdlci5nZXRTYW1wbGVJbWFnZXMoKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBpbWFnZVRpdGxlLmlubmVyVGV4dCA9IFwiQ2hvb3NlIGZyb20gb3VyIFNhbXBsZSBJbWFnZXNcIjtcbiAgICAgICAgICAgICAgICBpbWFnZVRpdGxlLmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLXRpdGxlIHNhbXBsZS1pbmZvLXRleHRcIjtcbiAgICAgICAgICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcInJvd1wiO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUucmVtb3ZlQ2hpbGQoc3Bpbm5lckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUucmVtb3ZlQ2hpbGQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgc2FtcGxlSW1hZ2VUZW1wbGF0ZS5hcHBlbmRDaGlsZChpbWFnZVRpdGxlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgaW1hZ2VDb250YWluZXIuY2xhc3NOYW1lID0gXCJhY2Qtc2FtcGxlLWxpc3RcIjtcbiAgICAgICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdFwiKTtcbiAgICAgICAgICAgICAgICByZXMudGVtcGxhdGVzLm1hcCgodGVtcGxhdGUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzYW1wbGVJbWFnZSA9IG5ldyBJbWFnZUl0ZW0odGVtcGxhdGUsIGluZGV4KzEpO1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVJbWFnZS5vbkNsaWNrID0gKHNlbGVjdGVkSW1hZ2U6IHN0cmluZywgaW1hZ2VOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVySW1hZ2Uoc2VsZWN0ZWRJbWFnZSwgaW1hZ2VOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc2FtcGxlSW1hZ2UucmVuZGVyKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUuYXBwZW5kQ2hpbGQoaW1hZ2VDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIGxldCBmaXJzdENoaWxkID0gaW1hZ2VDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgZmlyc3RDaGlsZC5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGVycm9yRWxlbWVudC5pbm5lclRleHQgPSBcIkZhaWxlZCB0byByZWFjaCBwaWMyY2FyZCBzZXJ2aWNlXCI7XG4gICAgICAgICAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWltYWdlLXRpdGxlIGVycm9yLWluZm9cIjtcbiAgICAgICAgICAgICAgICBlcnJvckVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInN0YXR1c1wiKTtcbiAgICAgICAgICAgICAgICBzYW1wbGVJbWFnZVRlbXBsYXRlLnJlbW92ZUNoaWxkKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUucmVtb3ZlQ2hpbGQoc3Bpbm5lckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHNhbXBsZUltYWdlVGVtcGxhdGUuYXBwZW5kQ2hpbGQoZXJyb3JFbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzYW1wbGVJbWFnZVRlbXBsYXRlO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCByZW5kZXJDb250ZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXBpYzJjYXJkLWNvbnRhaW5lclwiO1xuICAgICAgICBjb25zdCBwb3dlcmVkQnlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBwb3dlcmVkQnlDb250YWluZXIuY2xhc3NOYW1lID0gXCJhY2QtcG93ZXJlZGJ5LXRpdGxlXCI7XG4gICAgICAgIHBvd2VyZWRCeUNvbnRhaW5lci5pbm5lckhUTUwgPVxuICAgICAgICAgICAgXCJQb3dlcmVkIEJ5IDxhIGNsYXNzPSdwb3dlcmVkYnktbGluaycgaHJlZj0naHR0cHM6Ly93d3cuYmlndGhpbmtjb2RlLmNvbS8nIHRhcmdldD0nX2JsYW5rJz48c3BhbiBjbGFzcz0nbGluayc+QmlnVGhpbmtDb2RlPC9zcGFuPjwvYT5cIjtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLXNhbXBsZS1jb250YWluZXJcIjtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJJbWFnZUNvbnRhaW5lcigpKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyU2FtcGxlVGVtcGxhdGUoKSk7XG4gICAgICAgIHRoaXMuc2V0Q29udGVudChwb3dlcmVkQnlDb250YWluZXIpO1xuICAgICAgICB0aGlzLnNldENvbnRlbnQoY29udGFpbmVyKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIGdldCBwcmVkaWN0ZWRDYXJkSlNPTigpOiBwcmVkaWN0ZWRDYXJkSlNPTiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVkaWN0ZWRDYXJkSlNPTjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbWFnZUl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHRlbXBsYXRlOiBzdHJpbmcsIHJlYWRvbmx5IGl0ZW1JbmRleDogbnVtYmVyKSB7fVxuICAgIG9uQ2xpY2s6ICh0ZW1wbGF0ZTogc3RyaW5nLCBzYW1wbGVJbWFnZU5hbWU6IHN0cmluZykgPT4gdm9pZDtcblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHNhbXBsZUltYWdlTmFtZSA9IGBTYW1wbGUgSW1hZ2UgJHt0aGlzLml0ZW1JbmRleH1gO1xuICAgICAgICBjb25zdCBpbWFnZVBsYWNlaG9sZGVyID0gPEhUTUxJbWFnZUVsZW1lbnQ+KFxuICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKVxuICAgICAgICApO1xuICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLmNsYXNzTmFtZSA9IFwiYWNkLXNhbXBsZS1pbWFnZVwiO1xuICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLnRhYkluZGV4ID0gMDtcbiAgICAgICAgaW1hZ2VQbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdGl0ZW1cIik7XG4gICAgICAgIGltYWdlUGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKFwiYWx0XCIsIHNhbXBsZUltYWdlTmFtZSk7XG4gICAgICAgIGltYWdlUGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgXCJzcmNcIixcbiAgICAgICAgICAgIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFwiICsgdGhpcy50ZW1wbGF0ZVxuICAgICAgICApO1xuICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbGljaygoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYywgc2FtcGxlSW1hZ2VOYW1lKTtcbiAgICAgICAgICAgIGltYWdlUGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGAke3NhbXBsZUltYWdlTmFtZX0gc2VsZWN0ZWRgKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1hZ2VQbGFjZWhvbGRlci5vbmZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgaW1hZ2VQbGFjZWhvbGRlci5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgc2FtcGxlSW1hZ2VOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLm9ua2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgIHRoaXMub25DbGljaygoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNyYywgc2FtcGxlSW1hZ2VOYW1lKTtcbiAgICAgICAgICAgICAgICBpbWFnZVBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZShcImFsdFwiLCBgJHtzYW1wbGVJbWFnZU5hbWV9IHNlbGVjdGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGltYWdlUGxhY2Vob2xkZXI7XG4gICAgfVxufVxuZXhwb3J0IGludGVyZmFjZSBwcmVkaWN0ZWRDYXJkSlNPTiB7XG4gICAgY2FyZDoge307XG4gICAgZGF0YToge307XG59XG4iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cblxuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCAqIGFzIG1vbmFjbyBmcm9tIFwibW9uYWNvLWVkaXRvclwiO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dCdXR0b24gfSBmcm9tIFwiLi9kaWFsb2dcIjtcbmltcG9ydCB7IENhcmREYXRhIH0gZnJvbSBcIi4vb3Blbi1zYW1wbGUtZGlhbG9nXCI7XG5pbXBvcnQgeyBKU09OU2NoZW1hQ2FyZCB9IGZyb20gXCJhZGFwdGl2ZWNhcmRzLXRlbXBsYXRpbmdcIjtcblxuZXhwb3J0IGNsYXNzIE9wZW5Kc29uU2NoZW1hRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgICBwcml2YXRlIF9vdXRwdXQ6IENhcmREYXRhO1xuICAgIHByaXZhdGUgX3ByZXZpZXdDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX3ByZXZpZXdFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9lZGl0b3I6IG1vbmFjby5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yO1xuXG4gICAgcmVhZG9ubHkgc3VibWl0QnV0dG9uOiBEaWFsb2dCdXR0b247XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IG5ldyBEaWFsb2dCdXR0b24oXCJDcmVhdGVcIik7XG4gICAgICAgIHRoaXMuc3VibWl0QnV0dG9uLm9uQ2xpY2sgPSAoc2VuZGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idXR0b25zID0gW3RoaXMuc3VibWl0QnV0dG9uXTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICBzdXBlci5vcGVuKCk7XG4gICAgICAgIHRoaXMuX2VkaXRvci5sYXlvdXQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclByZXZpZXcoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCByZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByZW5kZXJlZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1jb2RlLWRpYWxvZy1wcmV2aWV3XCI7XG5cbiAgICAgICAgY29uc3QgY2FyZCA9IG5ldyBBZGFwdGl2ZS5BZGFwdGl2ZUNhcmQoKTtcblxuICAgICAgICBpZiAodGhpcy5vdXRwdXQ/LmNhcmRQYXlsb2FkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmREYXRhID0gSlNPTi5wYXJzZSh0aGlzLm91dHB1dC5jYXJkUGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgY2FyZC5wYXJzZShjYXJkRGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhcmQucGFyc2Uoe1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkFkYXB0aXZlQ2FyZFwiLFxuICAgICAgICAgICAgICAgIFwiJHNjaGVtYVwiOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gICAgICAgICAgICAgICAgXCJ2ZXJzaW9uXCI6IFwiMS4wXCIsXG4gICAgICAgICAgICAgICAgXCJib2R5XCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiVGV4dEJsb2NrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIjogXCJJbnB1dCBKU09OIFNjaGVtYSB0byBjcmVhdGUgYSBjYXJkIVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ3cmFwXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogXCJMYXJnZVwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY2FyZC5yZW5kZXIoKTtcbiAgICAgICAgY2FyZC5yZW5kZXJlZEVsZW1lbnQuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcblxuICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2FyZC5yZW5kZXJlZEVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnRcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZnJlc2hQcmV2aWV3KCkge1xuICAgICAgICB0aGlzLl9wcmV2aWV3Q29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX3ByZXZpZXdFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcHJldmlld0VsZW1lbnQgPSB0aGlzLnJlbmRlclByZXZpZXcoKTtcbiAgICAgICAgdGhpcy5fcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9wcmV2aWV3RWxlbWVudCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJFZGl0b3IoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCByZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByZW5kZXJlZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1jb2RlLWRpYWxvZy1lZGl0b3JcIjtcblxuICAgICAgICBjb25zdCBtb25hY28gPSB3aW5kb3dbXCJtb25hY29cIl07XG4gICAgICAgIHRoaXMuX2VkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlKFxuICAgICAgICAgICAgcmVuZGVyZWRFbGVtZW50LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvbGRpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IDEzLjUsXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6ICdqc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fZWRpdG9yLmxheW91dCgpO1xuXG4gICAgICAgIHRoaXMuX2VkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudCgoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UobW9kZWwpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IEpTT05TY2hlbWFDYXJkKGpzb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuX291dHB1dCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZFBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGNhcmQpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hQcmV2aWV3KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlbmRlckNvbnRlbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCByZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByZW5kZXJlZEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1jb2RlLWRpYWxvZy1jb250YWluZXJcIjtcblxuICAgICAgICBjb25zdCBlZGl0b3JDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlZGl0b3JDb250YWluZXIuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1jb2RlLWRpYWxvZy1lZGl0b3ItY29udGFpbmVyXCI7XG4gICAgICAgIHJlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChlZGl0b3JDb250YWluZXIpO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvckxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBlZGl0b3JMYWJlbC5pbm5lclRleHQgPSBcIkpTT04gU2NoZW1hXCJcbiAgICAgICAgZWRpdG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKGVkaXRvckxhYmVsKTtcblxuICAgICAgICBjb25zdCBlZGl0b3JFbGVtZW50ID0gdGhpcy5yZW5kZXJFZGl0b3IoKTtcbiAgICAgICAgZWRpdG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKGVkaXRvckVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX3ByZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9wcmV2aWV3Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLW9wZW4tY29kZS1kaWFsb2ctcHJldmlldy1jb250YWluZXJcIjtcbiAgICAgICAgcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3ByZXZpZXdDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuX3ByZXZpZXdFbGVtZW50ID0gdGhpcy5yZW5kZXJQcmV2aWV3KClcbiAgICAgICAgdGhpcy5fcHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9wcmV2aWV3RWxlbWVudClcblxuXG4gICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IG91dHB1dCgpOiBDYXJkRGF0YSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRwdXQ7XG4gICAgfVxufSIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuXG5pbXBvcnQgKiBhcyBBQ0RhdGEgZnJvbSBcImFkYXB0aXZlY2FyZHMtdGVtcGxhdGluZ1wiO1xuaW1wb3J0ICogYXMgQWRhcHRpdmUgZnJvbSBcImFkYXB0aXZlY2FyZHNcIjtcbmltcG9ydCB7IENhdGFsb2d1ZUVudHJ5LCBTYW1wbGVDYXRhbG9ndWUgfSBmcm9tIFwiLi9jYXRhbG9ndWVcIjtcbmltcG9ydCB7IERpYWxvZyB9IGZyb20gXCIuL2RpYWxvZ1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhcmREYXRhIHtcbiAgICBjYXJkUGF5bG9hZD86IHN0cmluZ1xuICAgIHNhbXBsZURhdGE/OiBzdHJpbmdcbiAgICB0aHVtYm5haWw/OiBIVE1MRWxlbWVudCB8ICgoKSA9PiBIVE1MRWxlbWVudClcbn1cblxudHlwZSBDYXJkRGF0YUNhbGxiYWNrID0gKG91dHB1dDogQ2FyZERhdGEpID0+IGFueTtcbnR5cGUgQ2FyZERhdGFQcm92aWRlciA9IChjYWxsYmFjaz86IENhcmREYXRhQ2FsbGJhY2spID0+IENhcmREYXRhIHwgdm9pZDtcblxuaW50ZXJmYWNlIE9wZW5TYW1wbGVJdGVtUHJvcHMge1xuICAgIGxhYmVsOiBzdHJpbmcsXG4gICAgb25DbGljaz86IChldjogTW91c2VFdmVudCkgPT4gYW55XG4gICAgY2FyZERhdGE/OiBDYXJkRGF0YSB8IENhcmREYXRhUHJvdmlkZXIsXG59XG5cbmNsYXNzIE9wZW5TYW1wbGVJdGVtIHtcbiAgICBvbkNvbXBsZXRlOiBDYXJkRGF0YUNhbGxiYWNrXG5cbiAgICBjb25zdHJ1Y3RvcihyZWFkb25seSBwcm9wczogT3BlblNhbXBsZUl0ZW1Qcm9wcykgeyB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfaWQgPSAwO1xuICAgIHByaXZhdGUgc3RhdGljIGdldE5ld0l0ZW1JZChwcmVmaXg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IG5ld0lkID0gcHJlZml4ICsgXCItXCIgKyBPcGVuU2FtcGxlSXRlbS5faWQ7XG5cbiAgICAgICAgT3BlblNhbXBsZUl0ZW0uX2lkKys7XG5cbiAgICAgICAgcmV0dXJuIG5ld0lkO1xuICAgIH1cblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IG5ld0l0ZW1JZCA9IE9wZW5TYW1wbGVJdGVtLmdldE5ld0l0ZW1JZChcImFjZC1vcGVuLXNhbXBsZS1pdGVtLXRpdGxlXCIpO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLW9wZW4tc2FtcGxlLWl0ZW1cIjtcbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZEJ5XCIsIG5ld0l0ZW1JZCk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImxpc3RpdGVtXCIpO1xuICAgICAgICBlbGVtZW50Lm9uY2xpY2sgPSB0aGlzLnByb3BzLm9uQ2xpY2sgPz8gKFxuICAgICAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNhcmREYXRhIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmREYXRhID0gdGhpcy5wcm9wcy5jYXJkRGF0YSh0aGlzLm9uQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKGNhcmREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNhcmREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUodGhpcy5wcm9wcy5jYXJkRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHRodW1ibmFpbEhvc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aHVtYm5haWxIb3N0LmNsYXNzTmFtZSA9IFwiYWNkLW9wZW4tc2FtcGxlLWl0ZW0tdGh1bWJuYWlsXCI7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FyZERhdGEgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwiYWNkLXNwaW5uZXJcIjtcbiAgICAgICAgICAgIHNwaW5uZXIuc3R5bGUud2lkdGggPSBcIjI4cHhcIjtcbiAgICAgICAgICAgIHNwaW5uZXIuc3R5bGUuaGVpZ2h0ID0gXCIyOHB4XCI7XG5cbiAgICAgICAgICAgIHRodW1ibmFpbEhvc3QuYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG5cbiAgICAgICAgICAgIGNvbnN0IGNhcmREYXRhID0gdGhpcy5wcm9wcy5jYXJkRGF0YSgoY2FyZERhdGE6IENhcmREYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsSG9zdC5yZW1vdmVDaGlsZChzcGlubmVyKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FyZERhdGEudGh1bWJuYWlsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsSG9zdC5hcHBlbmRDaGlsZChjYXJkRGF0YS50aHVtYm5haWwoKSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNhcmREYXRhLnRodW1ibmFpbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxIb3N0LmFwcGVuZENoaWxkKGNhcmREYXRhLnRodW1ibmFpbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBpZiAoY2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICB0aHVtYm5haWxIb3N0LnJlbW92ZUNoaWxkKHNwaW5uZXIpO1xuICAgICAgICAgICAgICAgIGlmIChjYXJkRGF0YS50aHVtYm5haWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxIb3N0LmFwcGVuZENoaWxkKGNhcmREYXRhLnRodW1ibmFpbCgpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FyZERhdGEudGh1bWJuYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbEhvc3QuYXBwZW5kQ2hpbGQoY2FyZERhdGEudGh1bWJuYWlsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLmNhcmREYXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXJkRGF0YS50aHVtYm5haWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHRodW1ibmFpbEhvc3QuYXBwZW5kQ2hpbGQodGhpcy5wcm9wcy5jYXJkRGF0YS50aHVtYm5haWwoKSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5jYXJkRGF0YS50aHVtYm5haWwpIHtcbiAgICAgICAgICAgICAgICB0aHVtYm5haWxIb3N0LmFwcGVuZENoaWxkKHRoaXMucHJvcHMuY2FyZERhdGEudGh1bWJuYWlsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGlzcGxheU5hbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZGlzcGxheU5hbWVFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLW9wZW4tc2FtcGxlLWl0ZW0tdGl0bGVcIjtcbiAgICAgICAgZGlzcGxheU5hbWVFbGVtZW50LmlkID0gbmV3SXRlbUlkO1xuICAgICAgICBkaXNwbGF5TmFtZUVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5wcm9wcy5sYWJlbDtcblxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRodW1ibmFpbEhvc3QpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRpc3BsYXlOYW1lRWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlblNhbXBsZURpYWxvZ1Byb3BzIHtcbiAgICBoYW5kbGVycz86IChPcGVuU2FtcGxlSXRlbVByb3BzIHwgbnVsbClbXSxcbiAgICBjYXRhbG9ndWU/OiBTYW1wbGVDYXRhbG9ndWUsXG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuU2FtcGxlRGlhbG9nIGV4dGVuZHMgRGlhbG9nIHtcbiAgICBwcml2YXRlIF9vdXRwdXQ6IENhcmREYXRhO1xuICAgIHByaXZhdGUgc3RhdGljIF9idWlsdGluSXRlbXM6IE9wZW5TYW1wbGVJdGVtUHJvcHNbXSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IFwiQmxhbmsgQ2FyZFwiLFxuICAgICAgICAgICAgY2FyZERhdGE6IHtcbiAgICAgICAgICAgICAgICBjYXJkUGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiQWRhcHRpdmVDYXJkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NoZW1hOiBcImh0dHA6Ly9hZGFwdGl2ZWNhcmRzLmlvL3NjaGVtYXMvYWRhcHRpdmUtY2FyZC5qc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBcIjEuMFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgXTtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHByb3BzOiBPcGVuU2FtcGxlRGlhbG9nUHJvcHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlclNlY3Rpb24odGl0bGU6IHN0cmluZyB8IG51bGwsIGl0ZW1zOiAoT3BlblNhbXBsZUl0ZW1Qcm9wcyB8IG51bGwpW10pOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLWRpYWxvZy10aXRsZVwiO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmlubmVyVGV4dCA9IHRpdGxlO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9IFwiMTBweFwiO1xuXG4gICAgICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGl0bGVFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbGlzdEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Qtb3Blbi1zYW1wbGUtaXRlbS1jb250YWluZXJcIjtcbiAgICAgICAgbGlzdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImxpc3RcIik7XG5cbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0pIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgaXRlbUVsZW1lbnQgPSBuZXcgT3BlblNhbXBsZUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICBpdGVtRWxlbWVudC5vbkNvbXBsZXRlID0gKG91dHB1dDogQ2FyZERhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdXRwdXQgPSBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaXN0RWxlbWVudC5hcHBlbmRDaGlsZChpdGVtRWxlbWVudC5yZW5kZXIoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQobGlzdEVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlbmRlckNvbnRlbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCByZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByZW5kZXJlZEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcblxuICAgICAgICBjb25zdCBmZWF0dXJlZFNlY3Rpb24gPSB0aGlzLnJlbmRlclNlY3Rpb24obnVsbCwgT3BlblNhbXBsZURpYWxvZy5fYnVpbHRpbkl0ZW1zLmNvbmNhdCh0aGlzLnByb3BzLmhhbmRsZXJzKSlcbiAgICAgICAgcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGZlYXR1cmVkU2VjdGlvbik7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2F0YWxvZ3VlKSB7XG4gICAgICAgICAgICBjb25zdCBkaXZpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhyXCIpO1xuICAgICAgICAgICAgcmVuZGVyZWRFbGVtZW50LmFwcGVuZENoaWxkKGRpdmlkZXIpO1xuXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhdGFsb2d1ZS5vbkRvd25sb2FkZWQgPSAoc2VuZGVyOiBTYW1wbGVDYXRhbG9ndWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2VuZGVyLmlzRG93bmxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXRhbG9ndWVTZWN0aW9uID0gdGhpcy5yZW5kZXJTZWN0aW9uKFwiRXhwbG9yZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jYXRhbG9ndWUuZW50cmllcy5tYXAoKGVudHJ5OiBDYXRhbG9ndWVFbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBlbnRyeS5kaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkub25Eb3dubG9hZGVkID0gKHNlbmRlcjogQ2F0YWxvZ3VlRW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2VzczogYm9vbGVhbiA9IHNlbmRlci5jYXJkUGF5bG9hZERvd25sb2FkZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZFBheWxvYWQgPSBKU09OLnBhcnNlKHNlbmRlci5jYXJkUGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IEFkYXB0aXZlLkFkYXB0aXZlQ2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZERhdGEgPSBzZW5kZXIuc2FtcGxlRGF0YSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFDRGF0YS5UZW1wbGF0ZShjYXJkUGF5bG9hZCkuZXhwYW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdDogSlNPTi5wYXJzZShzZW5kZXIuc2FtcGxlRGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhcmRQYXlsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnBhcnNlKGNhcmREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnJlbmRlcmVkRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRQYXlsb2FkOiBlbnRyeS5jYXJkUGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVEYXRhOiBlbnRyeS5zYW1wbGVEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogY2FyZC5yZW5kZXJlZEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3dhbGxvdyB0aGUgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGxvYWQgY2FyZCBzYW1wbGUuIEVycm9yOiBcIiArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuZG93bmxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2F0YWxvZ3VlU2VjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiU2VuZGVyIGlzIG5vdCBkb3dubG9hZGVkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYXRhbG9ndWUuZG93bmxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSBmZWF0dXJlZFNlY3Rpb24uZmlyc3RFbGVtZW50Q2hpbGQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGZpcnN0Q2hpbGQuZm9jdXMoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIGdldCBvdXRwdXQoKTogQ2FyZERhdGEge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0cHV0O1xuICAgIH1cbn0iLCIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbmV4cG9ydCBjbGFzcyBQZWVyQ29tbWFuZCB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyZWRFbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXBlZXJCdXR0b25cIik7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQudHlwZSA9IFwiYnV0dG9uXCI7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQudGl0bGUgPSB0aGlzLnRvb2xUaXAgPyB0aGlzLnRvb2xUaXAgOiB0aGlzLm5hbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuaWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBsZXQgaWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1wZWVyQnV0dG9uLWljb25cIiwgdGhpcy5pY29uQ2xhc3MpO1xuXG4gICAgICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZENoaWxkKGljb25FbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5hbWUgJiYgKCF0aGlzLmljb25DbGFzcyB8fCB0aGlzLmFsd2F5c1Nob3dOYW1lKSkge1xuICAgICAgICAgICAgbGV0IG5hbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIG5hbWVFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtcGVlckJ1dHRvbi10ZXh0XCIpO1xuICAgICAgICAgICAgbmFtZUVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5uYW1lO1xuXG4gICAgICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ2YXJpYWJsZVdpZHRoXCIpO1xuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChuYW1lRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJmaXhlZFdpZHRoXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnV0dG9uRWxlbWVudC5vbmNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV4ZWN1dGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGUodGhpcywgYnV0dG9uRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uRWxlbWVudC5vbnBvaW50ZXJkb3duID0gKGU6IFBvaW50ZXJFdmVudCkgPT4geyBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7IH07XG5cbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGFsd2F5c1Nob3dOYW1lOiBib29sZWFuID0gZmFsc2U7XG4gICAgdG9vbFRpcDogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIGljb25DbGFzczogc3RyaW5nO1xuICAgIGlzUHJvbW90YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNob3dJblByb3BlcnR5U2hlZXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBleGVjdXRlOiAoY29tbWFuZDogUGVlckNvbW1hbmQsIGNsaWNrZWRFbGVtZW50OiBIVE1MRWxlbWVudCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKGluaXQ/OiBQYXJ0aWFsPFBlZXJDb21tYW5kPikge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGluaXQpO1xuICAgIH1cblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudCA9IHRoaXMuaW50ZXJuYWxSZW5kZXIoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cblxuICAgIGdldCByZW5kZXJlZEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRFbGVtZW50O1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQaWMyQ2FyZCB7XG5cdHN0YXRpYyBwaWMyY2FyZFNlcnZpY2UgPSBcIlwiO1xuXHRzdGF0aWMgcHJpdmFjeUxpbmsgPSBcIi4uL3ByaXZhY3lcIjtcbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuZXhwb3J0IGludGVyZmFjZSBJTG9hZFNldHRpbmdSZXN1bHQ8VD4ge1xuICAgIHN1Y2NlZWRlZDogYm9vbGVhbjtcbiAgICB2YWx1ZT86IFQ7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01hbmFnZXIge1xuICAgIHByaXZhdGUgc3RhdGljIF9pc0xvY2FsU3RvcmFnZUF2YWlsYWJsZTogYm9vbGVhbiA9IHVuZGVmaW5lZDtcblxuICAgIHByaXZhdGUgc3RhdGljIGRldGVybWluZUlmU3RvcmFnZUlzQXZhaWxhYmxlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4gICAgICAgICAgICBsZXQgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcblxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xuICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxuICAgICAgICAgICAgICAgIGUuY29kZSA9PT0gMjIgfHxcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94XG4gICAgICAgICAgICAgICAgZS5jb2RlID09PSAxMDE0IHx8XG4gICAgICAgICAgICAgICAgLy8gdGVzdCBuYW1lIGZpZWxkIHRvbywgYmVjYXVzZSBjb2RlIG1pZ2h0IG5vdCBiZSBwcmVzZW50XG4gICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxuICAgICAgICAgICAgICAgIGUubmFtZSA9PT0gJ1F1b3RhRXhjZWVkZWRFcnJvcicgfHxcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94XG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSAmJlxuICAgICAgICAgICAgICAgIC8vIGFja25vd2xlZGdlIFF1b3RhRXhjZWVkZWRFcnJvciBvbmx5IGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGFscmVhZHkgc3RvcmVkXG4gICAgICAgICAgICAgICAgc3RvcmFnZS5sZW5ndGggIT09IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdHJ5U2F2ZVNldHRpbmcobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmIChTZXR0aW5nc01hbmFnZXIuaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB0cnlMb2FkU3RyaW5nU2V0dGluZyhuYW1lOiBzdHJpbmcpOiBJTG9hZFNldHRpbmdSZXN1bHQ8c3RyaW5nPiB7XG4gICAgICAgIGlmIChTZXR0aW5nc01hbmFnZXIuaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJldHVyblZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VlZGVkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHN0YXRpYyB0cnlMb2FkTnVtYmVyU2V0dGluZyhuYW1lOiBzdHJpbmcpOiBJTG9hZFNldHRpbmdSZXN1bHQ8bnVtYmVyPiB7XG4gICAgICAgIGlmIChTZXR0aW5nc01hbmFnZXIuaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIGxldCByZXR1cm5WYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN1Y2NlZWRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmV0dXJuVmFsdWUgPyBwYXJzZUZsb2F0KHJldHVyblZhbHVlKSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2NlZWRlZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB0cnlMb2FkQm9vbGVhblNldHRpbmcobmFtZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IGJvb2xlYW4pOiBJTG9hZFNldHRpbmdSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgICAgICBpZiAoU2V0dGluZ3NNYW5hZ2VyLmlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBsZXQgcmV0dXJuVmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZWVkZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJldHVyblZhbHVlID8gcmV0dXJuVmFsdWUgPT0gXCJ0cnVlXCIgOiBkZWZhdWx0VmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZWVkZWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIVNldHRpbmdzTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIFNldHRpbmdzTWFuYWdlci5faXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUgPSBTZXR0aW5nc01hbmFnZXIuZGV0ZXJtaW5lSWZTdG9yYWdlSXNBdmFpbGFibGUoXCJsb2NhbFN0b3JhZ2VcIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU2V0dGluZ3NNYW5hZ2VyLl9pc0xvY2FsU3RvcmFnZUF2YWlsYWJsZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuXG5leHBvcnQgY2xhc3MgR2xvYmFsU2V0dGluZ3Mge1xuICAgIHN0YXRpYyBlbmFibGVEYXRhQmluZGluZ1N1cHBvcnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBzdGF0aWMgc2hvd0RhdGFTdHJ1Y3R1cmVUb29sYm94OiBib29sZWFuID0gZmFsc2U7XG4gICAgc3RhdGljIHNob3dTYW1wbGVEYXRhRWRpdG9yVG9vbGJveDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBzaG93VmVyc2lvblBpY2tlcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHN0YXRpYyBzZWxlY3RlZEhvc3RDb250YWluZXJDb250cm9sc1RhcmdldFZlcnNpb246IGJvb2xlYW4gPSB0cnVlO1xuICAgIHN0YXRpYyBzaG93VGFyZ2V0VmVyc2lvbk1pc21hdGNoV2FybmluZzogYm9vbGVhbiA9IHRydWU7XG4gICAgc3RhdGljIHN1cHBvcnRlZFRhcmdldFZlcnNpb25zOiBBZGFwdGl2ZS5WZXJzaW9uW10gPSBbXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzAsXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzEsXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzIsXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzMsXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzQsXG4gICAgICAgIEFkYXB0aXZlLlZlcnNpb25zLnYxXzVcbiAgICBdO1xufVxuXG4iLCJpbXBvcnQgeyBTcGxpdHRlciB9IGZyb20gXCIuL3NwbGl0dGVyXCI7XG5pbXBvcnQgeyBUb29sYm94LCBUb29sYm94T3JpZW50YXRpb24gfSBmcm9tIFwiLi90b29sLWJveFwiO1xuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3MtbWFuYWdlclwiO1xuXG5leHBvcnQgZW51bSBTaWRlUGFuZWxBbGlnbm1lbnQge1xuICAgIFRvcCxcbiAgICBSaWdodCxcbiAgICBCb3R0b20sXG4gICAgTGVmdFxufVxuXG5jbGFzcyBUb29sYm94SW5mbyB7XG4gICAgcHJpdmF0ZSBfc3BsaXR0ZXI6IFNwbGl0dGVyO1xuXG4gICAgcHJpdmF0ZSByZXNpemVFbmRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMub25SZXNpemVFbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZUVuZGVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNpemVkKCkge1xuICAgICAgICBpZiAodGhpcy5vblJlc2l6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Ub2dnbGVkOiAoc2VuZGVyOiBUb29sYm94SW5mbykgPT4gdm9pZDtcbiAgICBvblJlc2l6ZUVuZGVkOiAoc2VuZGVyOiBUb29sYm94SW5mbykgPT4gdm9pZDtcbiAgICBvblJlc2l6ZWQ6IChzZW5kZXI6IFRvb2xib3hJbmZvKSA9PiB2b2lkO1xuXG4gICAgc2hvd1NwbGl0dGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgICAgICAgdGhpcy5zcGxpdHRlci5hdHRhY2hlZFRvLmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZVNwbGl0dGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zcGxpdHRlcikge1xuICAgICAgICAgICAgdGhpcy5zcGxpdHRlci5hdHRhY2hlZFRvLmNsYXNzTGlzdC5hZGQoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgdG9vbGJveDogVG9vbGJveCkge1xuICAgICAgICB0b29sYm94Lm9uVG9nZ2xlZCA9IChzZW5kZXI6IFRvb2xib3gpID0+IHtcbiAgICAgICAgICAgIGlmIChzZW5kZXIuaXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1NwbGl0dGVyKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xib3gucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlU3BsaXR0ZXIoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uVG9nZ2xlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25Ub2dnbGVkKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHNwbGl0dGVyKCk6IFNwbGl0dGVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwbGl0dGVyO1xuICAgIH1cblxuICAgIHNldCBzcGxpdHRlcih2YWx1ZTogU3BsaXR0ZXIpIHtcbiAgICAgICAgdGhpcy5fc3BsaXR0ZXIgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLl9zcGxpdHRlci5vblJlc2l6ZUVuZGVkID0gKHNlbmRlcjogU3BsaXR0ZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplRW5kZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NwbGl0dGVyLm9uUmVzaXplZCA9IChzZW5kZXI6IFNwbGl0dGVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpZGVQYW5lbCB7XG4gICAgcHJpdmF0ZSBfYXR0YWNoZWRUbzogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfYWxpZ25tZW50OiBTaWRlUGFuZWxBbGlnbm1lbnQ7XG4gICAgcHJpdmF0ZSBfY29sbGFwc2VkVGFiQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9jb250ZW50SG9zdDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfdG9vbGJveGVzOiBUb29sYm94SW5mb1tdID0gW107XG4gICAgcHJpdmF0ZSBfaXNSZXN0b3Jpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgdXBkYXRlTGF5b3V0KCkge1xuICAgICAgICBsZXQgZXhwYW5kZWRUb29sYm94Q291bnQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IHRvb2xib3hJbmZvIG9mIHRoaXMuX3Rvb2xib3hlcykge1xuICAgICAgICAgICAgaWYgKHRvb2xib3hJbmZvLnRvb2xib3guaXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkVG9vbGJveENvdW50Kys7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhwYW5kZWRUb29sYm94Q291bnQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0b29sYm94SW5mby5oaWRlU3BsaXR0ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJveEluZm8udG9vbGJveC5zdHJldGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLnNob3dTcGxpdHRlcigpO1xuICAgICAgICAgICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnN0cmV0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXhwYW5kZWRUb29sYm94Q291bnQgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtaGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5jbGFzc0xpc3QuYWRkKFwiYWNkLWhpZGRlblwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY29tcHV0ZVRvb2xib3hTaXplKHRvb2xib3g6IFRvb2xib3gpIHtcbiAgICAgICAgbGV0IGJvdW5kaW5nUmVjdCA9IHRoaXMuX2F0dGFjaGVkVG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCB0b29sYm94Qm91bmRpbmdSZWN0ID0gdG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgdG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKDEwMCAvIGJvdW5kaW5nUmVjdC5oZWlnaHQgKiB0b29sYm94Qm91bmRpbmdSZWN0LmhlaWdodCkgKyBcIiVcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRvb2xib3gucmVuZGVyZWRFbGVtZW50LnN0eWxlLndpZHRoID0gKDEwMCAvIGJvdW5kaW5nUmVjdC53aWR0aCAqIHRvb2xib3hCb3VuZGluZ1JlY3Qud2lkdGgpICsgXCIlXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2l6ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uUmVzaXplZCkge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZWQodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdG9vbGJveFJlc2l6ZWQodG9vbGJveDogVG9vbGJveCkge1xuICAgICAgICBpZiAodGhpcy5vblRvb2xib3hSZXNpemVkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVG9vbGJveFJlc2l6ZWQodGhpcywgdG9vbGJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdG9vbGJveEV4cGFuZGVkT3JDb2xsYXBzZWQodG9vbGJveDogVG9vbGJveCkge1xuICAgICAgICBpZiAodGhpcy5vblRvb2xib3hFeHBhbmRlZE9yQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICB0aGlzLm9uVG9vbGJveEV4cGFuZGVkT3JDb2xsYXBzZWQodGhpcywgdG9vbGJveCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RGltZW5zaW9uU2V0dGluZ05hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQgKyAodGhpcy5pc1ZlcnRpY2FsID8gXCJIZWlnaHRcIiA6IFwiV2lkdGhcIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgaXNWZXJ0aWNhbCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWdubWVudCA9PSBTaWRlUGFuZWxBbGlnbm1lbnQuUmlnaHQgfHwgdGhpcy5fYWxpZ25tZW50ID09IFNpZGVQYW5lbEFsaWdubWVudC5MZWZ0O1xuICAgIH1cblxuICAgIG9uUmVzaXplZDogKHNlbmRlcjogU2lkZVBhbmVsKSA9PiB2b2lkO1xuICAgIG9uVG9vbGJveFJlc2l6ZWQ6IChzZW5kZXI6IFNpZGVQYW5lbCwgdG9vbGJveDogVG9vbGJveCkgPT4gdm9pZDtcbiAgICBvblRvb2xib3hFeHBhbmRlZE9yQ29sbGFwc2VkOiAoc2VuZGVyOiBTaWRlUGFuZWwsIHRvb2xib3g6IFRvb2xib3gpID0+IHZvaWQ7XG5cbiAgICByZWFkb25seSBpZDtcblxuICAgIHNpemU/OiBudW1iZXI7XG4gICAgaXNSZXNpemFibGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgYWRkVG9vbGJveCh0b29sYm94OiBUb29sYm94KSB7XG4gICAgICAgIGxldCB0b29sYm94SW5mbyA9IG5ldyBUb29sYm94SW5mbyh0b29sYm94KTtcbiAgICAgICAgdG9vbGJveEluZm8ub25Ub2dnbGVkID0gKHNlbmRlcjogVG9vbGJveEluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICB0aGlzLnRvb2xib3hFeHBhbmRlZE9yQ29sbGFwc2VkKHRvb2xib3hJbmZvLnRvb2xib3gpO1xuICAgICAgICB9XG4gICAgICAgIHRvb2xib3hJbmZvLm9uUmVzaXplRW5kZWQgPSAoc2VuZGVyOiBUb29sYm94SW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlVG9vbGJveFNpemUoc2VuZGVyLnRvb2xib3gpO1xuICAgICAgICAgICAgdGhpcy50b29sYm94UmVzaXplZChzZW5kZXIudG9vbGJveCk7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbGJveEluZm8ub25SZXNpemVkID0gKHNlbmRlcjogVG9vbGJveEluZm8pID0+IHtcbiAgICAgICAgICAgIHRoaXMudG9vbGJveFJlc2l6ZWQoc2VuZGVyLnRvb2xib3gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdG9vbGJveGVzLnB1c2godG9vbGJveEluZm8pO1xuICAgIH1cblxuICAgIGF0dGFjaFRvKGF0dGFjaFRvOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvID0gYXR0YWNoVG87XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uY2xhc3NMaXN0LmFkZChcImFjZC1zaWRlcGFuZWwtcGFyZW50XCIpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY29udGVudEhvc3QuY2xhc3NOYW1lID0gXCJhY2Qtc2lkZXBhbmVsLWhvc3RcIjtcblxuICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50SG9zdC5jbGFzc0xpc3QuYWRkKFwiYWNkLXNpZGVwYW5lbC1ob3N0LXZlcnRpY2FsXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudEhvc3QuY2xhc3NMaXN0LmFkZChcImFjZC1zaWRlcGFuZWwtaG9zdC1ob3Jpem9udGFsXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90b29sYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0b29sYm94SW5mbyA9IHRoaXMuX3Rvb2xib3hlc1tpXTtcbiAgICAgICAgICAgIHRvb2xib3hJbmZvLnRvb2xib3gucmVuZGVyKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNWZXJ0aWNhbCA/IFRvb2xib3hPcmllbnRhdGlvbi5WZXJ0aWNhbCA6IFRvb2xib3hPcmllbnRhdGlvbi5Ib3Jpem9udGFsLFxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlZFRhYkNvbnRhaW5lcik7XG5cbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBzcGxpdHRlckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICBzcGxpdHRlckVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtaG9yaXpvbnRhbC1zcGxpdHRlclwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHRvb2xib3hJbmZvLnRvb2xib3gucmVuZGVyZWRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICgxMDAgLyB0aGlzLl90b29sYm94ZXMubGVuZ3RoKSArIFwiJVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXR0ZXJFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXZlcnRpY2FsLXNwbGl0dGVyXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgdG9vbGJveEluZm8udG9vbGJveC5yZW5kZXJlZEVsZW1lbnQuc3R5bGUud2lkdGggPSAoMTAwIC8gdGhpcy5fdG9vbGJveGVzLmxlbmd0aCkgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnJlbmRlcmVkRWxlbWVudC5hcHBlbmRDaGlsZChzcGxpdHRlckVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgdG9vbGJveEluZm8uc3BsaXR0ZXIgPSBuZXcgU3BsaXR0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0dGVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJveEluZm8udG9vbGJveC5yZW5kZXJlZEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLmlzVmVydGljYWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jb250ZW50SG9zdC5hcHBlbmRDaGlsZCh0b29sYm94SW5mby50b29sYm94LnJlbmRlcmVkRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3BsaXR0ZXJFbGVtZW50OiBIVE1MRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNSZXNpemFibGUpIHtcbiAgICAgICAgICAgIHNwbGl0dGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBzcGxpdHRlckVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy5pc1ZlcnRpY2FsID8gXCJhY2QtdmVydGljYWwtc3BsaXR0ZXJcIiA6IFwiYWNkLWhvcml6b250YWwtc3BsaXR0ZXJcIjtcblxuICAgICAgICAgICAgbGV0IHNwbGl0dGVyID0gbmV3IFNwbGl0dGVyKFxuICAgICAgICAgICAgICAgIHNwbGl0dGVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLFxuICAgICAgICAgICAgICAgIHRoaXMuaXNWZXJ0aWNhbCxcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbm1lbnQgPT0gU2lkZVBhbmVsQWxpZ25tZW50LkxlZnQgfHwgdGhpcy5fYWxpZ25tZW50ID09IFNpZGVQYW5lbEFsaWdubWVudC5Ub3ApO1xuICAgICAgICAgICAgc3BsaXR0ZXIub25SZXNpemVkID0gKHNwbGl0dGVyOiBTcGxpdHRlcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLnN0eWxlLndpZHRoID0gdGhpcy5zaXplICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmNsYXNzTGlzdC5hZGQoXCJhY2Qtc2lkZXBhbmVsLXBhcmVudC12ZXJ0aWNhbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLnN0eWxlLmhlaWdodCA9IHRoaXMuc2l6ZSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5jbGFzc0xpc3QuYWRkKFwiYWNkLXNpZGVwYW5lbC1wYXJlbnQtaG9yaXpvbnRhbFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9hbGlnbm1lbnQgPT0gU2lkZVBhbmVsQWxpZ25tZW50LlJpZ2h0IHx8IHRoaXMuX2FsaWdubWVudCA9PSBTaWRlUGFuZWxBbGlnbm1lbnQuQm90dG9tKSB7XG4gICAgICAgICAgICBpZiAoc3BsaXR0ZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5hcHBlbmRDaGlsZChzcGxpdHRlckVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmFwcGVuZENoaWxkKHRoaXMuX2NvbnRlbnRIb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudEhvc3QpO1xuXG4gICAgICAgICAgICBpZiAoc3BsaXR0ZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5hcHBlbmRDaGlsZChzcGxpdHRlckVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBhbGlnbm1lbnQ6IFNpZGVQYW5lbEFsaWdubWVudCwgY29sbGFwc2VkVGFiQ29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuX2FsaWdubWVudCA9IGFsaWdubWVudDtcbiAgICAgICAgdGhpcy5fY29sbGFwc2VkVGFiQ29udGFpbmVyID0gY29sbGFwc2VkVGFiQ29udGFpbmVyO1xuICAgIH1cblxuICAgIHNhdmVTdGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Jlc3RvcmluZykge1xuICAgICAgICAgICAgU2V0dGluZ3NNYW5hZ2VyLnRyeVNhdmVTZXR0aW5nKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGltZW5zaW9uU2V0dGluZ05hbWUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPyB0aGlzLl9hdHRhY2hlZFRvLnN0eWxlLndpZHRoIDogdGhpcy5fYXR0YWNoZWRUby5zdHlsZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCB0b29sYm94SW5mbyBvZiB0aGlzLl90b29sYm94ZXMpIHtcbiAgICAgICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnNhdmVTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdG9yZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fYXR0YWNoZWRUbyAmJiAhdGhpcy5faXNSZXN0b3JpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzUmVzdG9yaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgZGltZW5zaW9uU2V0dGluZyA9IFNldHRpbmdzTWFuYWdlci50cnlMb2FkU3RyaW5nU2V0dGluZyh0aGlzLmdldERpbWVuc2lvblNldHRpbmdOYW1lKCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpbWVuc2lvblNldHRpbmcuc3VjY2VlZGVkICYmIGRpbWVuc2lvblNldHRpbmcudmFsdWUgIT0gdW5kZWZpbmVkICYmIGRpbWVuc2lvblNldHRpbmcudmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLnN0eWxlLndpZHRoID0gZGltZW5zaW9uU2V0dGluZy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkVG8uc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9uU2V0dGluZy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRvb2xib3hJbmZvIG9mIHRoaXMuX3Rvb2xib3hlcykge1xuICAgICAgICAgICAgICAgICAgICB0b29sYm94SW5mby50b29sYm94LnJlc3RvcmVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNpemVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1Jlc3RvcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGNvbnRlbnRIb3N0KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRIb3N0O1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgSVBvaW50IH0gZnJvbSBcIi4vbWlzY2VsbGFuZW91c1wiO1xuXG5leHBvcnQgY2xhc3MgU3BsaXR0ZXIge1xuICAgIHByaXZhdGUgX2lzVmVydGljYWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9pc0F0dGFjaGVkQWZ0ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zaXplZEVMZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2lzUG9pbnRlckRvd246IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfbGFzdENsaWNrZWRPZmZzZXQ6IElQb2ludDtcblxuICAgIHByaXZhdGUgcmVzaXplRW5kZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uUmVzaXplRW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemVFbmRlZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9pbnRlckRvd24oZTogUG9pbnRlckV2ZW50KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB0aGlzLmF0dGFjaGVkVG8uc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuXG4gICAgICAgIHRoaXMuX2xhc3RDbGlja2VkT2Zmc2V0ID0geyB4OiBlLngsIHk6IGUueSB9O1xuXG4gICAgICAgIHRoaXMuX2lzUG9pbnRlckRvd24gPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgcG9pbnRlck1vdmUoZTogUG9pbnRlckV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1BvaW50ZXJEb3duKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGxldCBzaXplQXBwbGllZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IG5ld1NpemU6IG51bWJlcjtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNBdHRhY2hlZEFmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSB0aGlzLl9zaXplZEVMZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLSAodGhpcy5fbGFzdENsaWNrZWRPZmZzZXQueCAtIGUueCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdTaXplID0gdGhpcy5fc2l6ZWRFTGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC0gKGUueCAtIHRoaXMuX2xhc3RDbGlja2VkT2Zmc2V0LngpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChuZXdTaXplID49IHRoaXMubWluaW11bSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaXplZEVMZW1lbnQuc3R5bGUud2lkdGggPSBuZXdTaXplICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHNpemVBcHBsaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNBdHRhY2hlZEFmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NpemUgPSB0aGlzLl9zaXplZEVMZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gKHRoaXMuX2xhc3RDbGlja2VkT2Zmc2V0LnkgLSBlLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U2l6ZSA9IHRoaXMuX3NpemVkRUxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLSAoZS55IC0gdGhpcy5fbGFzdENsaWNrZWRPZmZzZXQueSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1NpemUgPj0gdGhpcy5taW5pbXVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpemVkRUxlbWVudC5zdHlsZS5oZWlnaHQgPSBuZXdTaXplICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHNpemVBcHBsaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaXplQXBwbGllZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uUmVzaXplZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVzaXplZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q2xpY2tlZE9mZnNldCA9IHsgeDogZS54LCB5OiBlLnkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcG9pbnRlclVwKGU6IFBvaW50ZXJFdmVudCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdGhpcy5hdHRhY2hlZFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG5cbiAgICAgICAgdGhpcy5yZXNpemVFbmRlZCgpO1xuXG4gICAgICAgIHRoaXMuX2lzUG9pbnRlckRvd24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZUVuZGVkOiAoc2VuZGVyOiBTcGxpdHRlcikgPT4gdm9pZDtcbiAgICBvblJlc2l6ZWQ6IChzZW5kZXI6IFNwbGl0dGVyKSA9PiB2b2lkO1xuXG4gICAgcmVhZG9ubHkgYXR0YWNoZWRUbzogSFRNTEVsZW1lbnQ7XG5cbiAgICBtaW5pbXVtOiBudW1iZXIgPSA1MDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBhdHRhY2hlZFRvOiBIVE1MRWxlbWVudCxcbiAgICAgICAgc2l6ZWRFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICAgICAgaXNWZXJ0aWNhbDogYm9vbGVhbiA9IGZhbHNlLFxuICAgICAgICBpc0F0dGFjaGVkQWZ0ZXI6IGJvb2xlYW4gPSBmYWxzZSxcbiAgICAgICAgbWluaW11bVNpemU6IG51bWJlciA9IDE0MCkge1xuICAgICAgICB0aGlzLmF0dGFjaGVkVG8gPSBhdHRhY2hlZFRvO1xuICAgICAgICB0aGlzLl9zaXplZEVMZW1lbnQgPSBzaXplZEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2lzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuICAgICAgICB0aGlzLl9pc0F0dGFjaGVkQWZ0ZXIgPSBpc0F0dGFjaGVkQWZ0ZXI7XG4gICAgICAgIHRoaXMubWluaW11bSA9IG1pbmltdW1TaXplO1xuXG4gICAgICAgIHRoaXMuYXR0YWNoZWRUby5vbm1vdXNlZG93biA9IChlOiBNb3VzZUV2ZW50KSA9PiB7ZS5wcmV2ZW50RGVmYXVsdCgpOyB9O1xuICAgICAgICB0aGlzLmF0dGFjaGVkVG8ub25wb2ludGVyZG93biA9IChlOiBQb2ludGVyRXZlbnQpID0+IHsgdGhpcy5wb2ludGVyRG93bihlKTsgfTtcbiAgICAgICAgdGhpcy5hdHRhY2hlZFRvLm9ucG9pbnRlcm1vdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7IHRoaXMucG9pbnRlck1vdmUoZSk7IH07XG4gICAgICAgIHRoaXMuYXR0YWNoZWRUby5vbnBvaW50ZXJ1cCA9IChlOiBQb2ludGVyRXZlbnQpID0+IHsgdGhpcy5wb2ludGVyVXAoZSk7IH07XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFN0cmluZ3Mge1xuICAgIHN0YXRpYyByZWFkb25seSB0b29sYm94ZXMgPSB7XG4gICAgICAgIHRvb2xQYWxldHRlOiB7XG4gICAgICAgICAgICB0aXRsZTogXCJDQVJEIEVMRU1FTlRTXCJcbiAgICAgICAgfSxcbiAgICAgICAgY2FyZEVkaXRvcjoge1xuICAgICAgICAgICAgdGl0bGU6IFwiQ0FSRCBQQVlMT0FEIEVESVRPUlwiXG4gICAgICAgIH0sXG4gICAgICAgIHNhbXBsZURhdGFFZGl0b3I6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlNBTVBMRSBEQVRBIEVESVRPUlwiXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnR5U2hlZXQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVMRU1FTlQgUFJPUEVSVElFU1wiLFxuICAgICAgICAgICAgY29tbWFuZHM6IHtcbiAgICAgICAgICAgICAgICBiaW5kRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dDogKCkgPT4gXCIuLi5cIixcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzaWJsZVRleHQ6IChwcm9wZXJ0eUxhYmVsOiBzdHJpbmcpID0+IFwiRGF0YSBCaW5kaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNhcmRTdHJ1Y3R1cmU6IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkNBUkQgU1RSVUNUVVJFXCJcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YVN0cnVjdHVyZToge1xuICAgICAgICAgICAgdGl0bGU6IFwiREFUQSBTVFJVQ1RVUkVcIlxuICAgICAgICB9XG4gICAgfTtcbiAgICBzdGF0aWMgbG9hZGluZ0VkaXRvciA9IFwiTG9hZGluZyBlZGl0b3IuLi5cIjtcbn1cbiIsImltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCIuL3NldHRpbmdzLW1hbmFnZXJcIjtcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJhZGFwdGl2ZWNhcmRzLWNvbnRyb2xzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xib3hDb21tYW5kIHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGljb25DbGFzczogc3RyaW5nO1xuICAgIGV4ZWN1dGU6IChzZW5kZXI6IElUb29sYm94Q29tbWFuZCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGVudW0gVG9vbGJveE9yaWVudGF0aW9uIHtcbiAgICBIb3Jpem9udGFsLFxuICAgIFZlcnRpY2FsXG59XG5cbmV4cG9ydCBjbGFzcyBUb29sYm94IHtcbiAgICBwcml2YXRlIF9yZW5kZXJlZEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2hlYWRlclJvb3RFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9oZWFkZXJJY29uRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9jdXN0b21Db21tYW5kc0hvc3Q6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgX2NvbnRlbnRIb3N0OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9pc0V4cGFuZGVkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9jb250ZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIF9zdHJldGNoOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfb3JpZW50YXRpb246IFRvb2xib3hPcmllbnRhdGlvbjtcbiAgICBwcml2YXRlIF9pc1Jlc3RvcmluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NvbGxhcHNlZFRhYkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgICBwcml2YXRlIGdldERpbWVuc2lvblNldHRpbmdOYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlRvb2xib3hcIiArIHRoaXMuaWQgKyAodGhpcy5fb3JpZW50YXRpb24gPT0gVG9vbGJveE9yaWVudGF0aW9uLlZlcnRpY2FsID8gXCJIZWlnaHRcIiA6IFwiV2lkdGhcIik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudEhvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudEhvc3QuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHRvZ2dsZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uVG9nZ2xlZCkge1xuICAgICAgICAgICAgdGhpcy5vblRvZ2dsZWQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblRvZ2dsZWQ6IChzZW5kZXI6IFRvb2xib3gpID0+IHZvaWQ7XG5cbiAgICByZWFkb25seSBpZDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHRpdGxlOiBzdHJpbmc7XG5cbiAgICBjb21tYW5kczogQXJyYXk8SVRvb2xib3hDb21tYW5kPiA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIH1cblxuICAgIHJlbmRlcihvcmllbnRhdGlvbjogVG9vbGJveE9yaWVudGF0aW9uLCBjb2xsYXBzZWRUYWJDb250YWluZXI6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX29yaWVudGF0aW9uID0gb3JpZW50YXRpb247XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlZFRhYkNvbnRhaW5lciA9IGNvbGxhcHNlZFRhYkNvbnRhaW5lcjtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10b29sYm94XCIpO1xuICAgICAgICB0aGlzLnN0cmV0Y2ggPSB0aGlzLnN0cmV0Y2g7IC8vIHRyaWdnZXIgQ1NTIGNsYXNzIHBhaW50aW5nIGJhc2VkIG9uIGRlZmF1bHRzXG5cbiAgICAgICAgdGhpcy5faGVhZGVyUm9vdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLl9oZWFkZXJSb290RWxlbWVudC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB0aGlzLl9oZWFkZXJSb290RWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYm94LWhlYWRlclwiO1xuXG4gICAgICAgIGxldCBoZWFkZXJDb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGhlYWRlckNvbnRlbnRFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xib3gtaGVhZGVyLWNvbnRlbnRcIjtcblxuICAgICAgICBsZXQgaGVhZGVyVGl0bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGhlYWRlclRpdGxlRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYm94LWhlYWRlci10aXRsZVwiO1xuICAgICAgICBoZWFkZXJUaXRsZUVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy50aXRsZTtcblxuICAgICAgICBoZWFkZXJDb250ZW50RWxlbWVudC5hcHBlbmRDaGlsZChoZWFkZXJUaXRsZUVsZW1lbnQpO1xuXG4gICAgICAgIGxldCBoZWFkZXJDb21tYW5kc0hvc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIGhlYWRlckNvbW1hbmRzSG9zdEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdG9vbGJveC1oZWFkZXItY29tbWFuZHNIb3N0XCI7XG5cbiAgICAgICAgdGhpcy5fY3VzdG9tQ29tbWFuZHNIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY3VzdG9tQ29tbWFuZHNIb3N0LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblxuICAgICAgICBpZiAodGhpcy5jb21tYW5kcykge1xuICAgICAgICAgICAgZm9yIChsZXQgY29tbWFuZCBvZiB0aGlzLmNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbW1hbmRCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBjb21tYW5kQnV0dG9uRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYm94LWhlYWRlci1jb21tYW5kQnV0dG9uXCI7XG4gICAgICAgICAgICAgICAgY29tbWFuZEJ1dHRvbkVsZW1lbnQudGl0bGUgPSBjb21tYW5kLnRpdGxlO1xuICAgICAgICAgICAgICAgIGNvbW1hbmRCdXR0b25FbGVtZW50Lm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kLmV4ZWN1dGUoY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGNvbW1hbmRJY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgY29tbWFuZEljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtaWNvblwiLCBjb21tYW5kLmljb25DbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBjb21tYW5kQnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChjb21tYW5kSWNvbkVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VzdG9tQ29tbWFuZHNIb3N0LmFwcGVuZENoaWxkKGNvbW1hbmRCdXR0b25FbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGhlYWRlckNvbW1hbmRzSG9zdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY3VzdG9tQ29tbWFuZHNIb3N0KTtcblxuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xib3gtaGVhZGVyLWNvbW1hbmRCdXR0b25cIjtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnRpdGxlID0gXCJIaWRlIFwiICsgdGhpcy50aXRsZTtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKTtcblxuICAgICAgICB0aGlzLl9oZWFkZXJJY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIHRoaXMuX2hlYWRlckljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtaWNvblwiLCBcImFjZC1pY29uLWhlYWRlci1leHBhbmRlZFwiKTtcblxuICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5faGVhZGVySWNvbkVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5vbmtleWRvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBDb25zdGFudHMua2V5cy5lbnRlciB8fCBlLmtleSA9PT0gQ29uc3RhbnRzLmtleXMuc3BhY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IENvbnN0YW50cy5rZXlzLmVzY2FwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UoKTtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlKCk7XG5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBoZWFkZXJDb21tYW5kc0hvc3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudCk7XG5cbiAgICAgICAgaGVhZGVyQ29udGVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyQ29tbWFuZHNIb3N0RWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5faGVhZGVyUm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyQ29udGVudEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX2NvbnRlbnRIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5fY29udGVudEhvc3Quc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudEhvc3QpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlQ29udGVudCgpO1xuICAgIH1cblxuICAgIGNvbGxhcHNlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNFeHBhbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZGVySWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC1pY29uLWhlYWRlci1jb2xsYXBzZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJJY29uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWNkLWljb24taGVhZGVyLWV4cGFuZGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fY3VzdG9tQ29tbWFuZHNIb3N0LmNsYXNzTGlzdC5hZGQoXCJhY2QtaGlkZGVuXCIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fY29sbGFwc2VkVGFiQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX2hlYWRlclJvb3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9leHBhbmRDb2xsYXBzZUJ1dHRvbkVsZW1lbnQudGl0bGUgPSBcIlNob3cgXCIgKyB0aGlzLnRpdGxlO1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcblxuICAgICAgICAgICAgdGhpcy5faXNFeHBhbmRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cGFuZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJJY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWljb24taGVhZGVyLWV4cGFuZGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5faGVhZGVySWNvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1pY29uLWhlYWRlci1jb2xsYXBzZWRcIik7XG4gICAgICAgICAgICB0aGlzLl9jdXN0b21Db21tYW5kc0hvc3QuY2xhc3NMaXN0LnJlbW92ZShcImFjZC1oaWRkZW5cIik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsYXBzZWRUYWJDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5faGVhZGVyUm9vdEVsZW1lbnQsIHRoaXMuX3JlbmRlcmVkRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kQ29sbGFwc2VCdXR0b25FbGVtZW50LnRpdGxlID0gXCJIaWRlIFwiICsgdGhpcy50aXRsZTtcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZENvbGxhcHNlQnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKTtcblxuICAgICAgICAgICAgdGhpcy5faXNFeHBhbmRlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMudG9nZ2xlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlKCkge1xuICAgICAgICBpZiAodGhpcy5pc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxhcHNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SGVhZGVyQm91bmRpbmdSZWN0KCk6IENsaWVudFJlY3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVyUm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuXG4gICAgc2F2ZVN0YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2lzUmVzdG9yaW5nKSB7XG4gICAgICAgICAgICBTZXR0aW5nc01hbmFnZXIudHJ5U2F2ZVNldHRpbmcoXCJUb29sYm94XCIgKyB0aGlzLmlkICsgXCJJc0V4cGFuZGVkXCIsIHRoaXMuaXNFeHBhbmRlZC50b1N0cmluZygpKTtcblxuICAgICAgICAgICAgU2V0dGluZ3NNYW5hZ2VyLnRyeVNhdmVTZXR0aW5nKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGltZW5zaW9uU2V0dGluZ05hbWUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uID09IFRvb2xib3hPcmllbnRhdGlvbi5WZXJ0aWNhbCA/IHRoaXMucmVuZGVyZWRFbGVtZW50LnN0eWxlLmhlaWdodCA6IHRoaXMucmVuZGVyZWRFbGVtZW50LnN0eWxlLndpZHRoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3RvcmVTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZWRFbGVtZW50ICYmICF0aGlzLl9pc1Jlc3RvcmluZykge1xuICAgICAgICAgICAgdGhpcy5faXNSZXN0b3JpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBkaW1lbnNpb25TZXR0aW5nID0gU2V0dGluZ3NNYW5hZ2VyLnRyeUxvYWRTdHJpbmdTZXR0aW5nKHRoaXMuZ2V0RGltZW5zaW9uU2V0dGluZ05hbWUoKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGltZW5zaW9uU2V0dGluZy5zdWNjZWVkZWQgJiYgZGltZW5zaW9uU2V0dGluZy52YWx1ZSAhPSB1bmRlZmluZWQgJiYgZGltZW5zaW9uU2V0dGluZy52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09IFRvb2xib3hPcmllbnRhdGlvbi5WZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9uU2V0dGluZy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnN0eWxlLndpZHRoID0gZGltZW5zaW9uU2V0dGluZy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBpc0V4cGFuZGVkU2V0dGluZyA9IFNldHRpbmdzTWFuYWdlci50cnlMb2FkQm9vbGVhblNldHRpbmcoXCJUb29sYm94XCIgKyB0aGlzLmlkICsgXCJJc0V4cGFuZGVkXCIsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRXhwYW5kZWRTZXR0aW5nLnN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFeHBhbmRlZFNldHRpbmcudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc1Jlc3RvcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IG9yaWVudGF0aW9uKCk6IFRvb2xib3hPcmllbnRhdGlvbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgcmVuZGVyZWRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZXQgY29udGVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICAgIH1cblxuICAgIHNldCBjb250ZW50KHZhbHVlOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDb250ZW50KCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzRXhwYW5kZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0V4cGFuZGVkO1xuICAgIH1cblxuICAgIGdldCBzdHJldGNoKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyZXRjaDtcbiAgICB9XG5cbiAgICBzZXQgc3RyZXRjaCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9zdHJldGNoID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0cmV0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdG9vbGJveC1zdHJldGNoXCIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC10b29sYm94LW5vLXN0cmV0Y2hcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXRvb2xib3gtbm8tc3RyZXRjaFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtdG9vbGJveC1zdHJldGNoXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZSBmcm9tIFwiYWRhcHRpdmVjYXJkc1wiO1xuaW1wb3J0IHsgRHJhZ2dhYmxlRWxlbWVudCB9IGZyb20gXCIuL2RyYWdnYWJsZS1lbGVtZW50XCI7XG5pbXBvcnQgeyBGaWVsZERlZmluaXRpb24gfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgeyBEZXNpZ25Db250ZXh0LCBDYXJkRGVzaWduZXJTdXJmYWNlIH0gZnJvbSBcIi4vY2FyZC1kZXNpZ25lci1zdXJmYWNlXCI7XG5pbXBvcnQgeyBDYXJkRWxlbWVudFBlZXIsIERlc2lnbmVyUGVlclJlZ2lzdHJhdGlvbkJhc2UgfSBmcm9tIFwiLi9kZXNpZ25lci1wZWVyc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZVBhbGV0dGVJdGVtIGV4dGVuZHMgRHJhZ2dhYmxlRWxlbWVudCB7XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGdldFRleHQoKTogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBnZXRJY29uQ2xhc3MoKTogc3RyaW5nO1xuXG4gICAgcHJvdGVjdGVkIGludGVybmFsUmVuZGVyKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXBhbGV0dGUtaXRlbVwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICBlbGVtZW50LnRhYkluZGV4ID0gMDtcblxuICAgICAgICBsZXQgaWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLWljb25cIiwgXCJhY2QtdG9vbFBhbGV0dGUtaWNvblwiLCB0aGlzLmdldEljb25DbGFzcygpKTtcbiAgICAgICAgaWNvbkVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMCAwIGF1dG9cIjtcblxuICAgICAgICBsZXQgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbGFiZWxFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXBhbGV0dGUtaXRlbS1sYWJlbFwiO1xuICAgICAgICBsYWJlbEVsZW1lbnQuc3R5bGUuZmxleCA9IFwiMSAxIDEwMCVcIjtcbiAgICAgICAgbGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMuZ2V0VGV4dCgpO1xuXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaWNvbkVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsRWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmVuZGVyRHJhZ1Zpc3VhbCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsUmVuZGVyKCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgY3JlYXRlUGVlcihjb250ZXh0OiBEZXNpZ25Db250ZXh0LCBkZXNpZ25lcjogQ2FyZERlc2lnbmVyU3VyZmFjZSk6IENhcmRFbGVtZW50UGVlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRQYWxldHRlSXRlbSBleHRlbmRzIEJhc2VQYWxldHRlSXRlbSB7XG4gICAgcHJvdGVjdGVkIGdldFRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZVJlZ2lzdHJhdGlvbi50eXBlTmFtZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SWNvbkNsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlZXJSZWdpc3RyYXRpb24uaWNvbkNsYXNzO1xuICAgIH1cblxuICAgIHJlYWRvbmx5IHR5cGVSZWdpc3RyYXRpb246IEFkYXB0aXZlLklUeXBlUmVnaXN0cmF0aW9uPEFkYXB0aXZlLkNhcmRFbGVtZW50PjtcbiAgICByZWFkb25seSBwZWVyUmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlO1xuXG4gICAgY29uc3RydWN0b3IodHlwZVJlZ2lzdHJhdGlvbjogQWRhcHRpdmUuSVR5cGVSZWdpc3RyYXRpb248QWRhcHRpdmUuQ2FyZEVsZW1lbnQ+LCBwZWVyUmVnaXN0cmF0aW9uOiBEZXNpZ25lclBlZXJSZWdpc3RyYXRpb25CYXNlKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy50eXBlUmVnaXN0cmF0aW9uID0gdHlwZVJlZ2lzdHJhdGlvbjtcbiAgICAgICAgdGhpcy5wZWVyUmVnaXN0cmF0aW9uID0gcGVlclJlZ2lzdHJhdGlvbjtcbiAgICB9XG5cbiAgICBjcmVhdGVQZWVyKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGRlc2lnbmVyOiBDYXJkRGVzaWduZXJTdXJmYWNlKTogQ2FyZEVsZW1lbnRQZWVyIHtcbiAgICAgICAgcmV0dXJuIENhcmREZXNpZ25lclN1cmZhY2UuY2FyZEVsZW1lbnRQZWVyUmVnaXN0cnkuY3JlYXRlUGVlckluc3RhbmNlKGRlc2lnbmVyLCBudWxsLCBuZXcgdGhpcy50eXBlUmVnaXN0cmF0aW9uLm9iamVjdFR5cGUoKSwgdHJ1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0YVBhbGV0dGVJdGVtIGV4dGVuZHMgQmFzZVBhbGV0dGVJdGVtIHtcbiAgICBwcm90ZWN0ZWQgZ2V0VGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5uYW1lO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRJY29uQ2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocmVhZG9ubHkgZmllbGQ6IEZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBlZXIoY29udGV4dDogRGVzaWduQ29udGV4dCwgZGVzaWduZXI6IENhcmREZXNpZ25lclN1cmZhY2UpOiBDYXJkRWxlbWVudFBlZXIge1xuICAgICAgICBsZXQgZWxlbWVudDogQWRhcHRpdmUuQ2FyZEVsZW1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZmllbGQuaXNDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gbmV3IEFkYXB0aXZlLkNvbnRhaW5lcigpO1xuICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21Qcm9wZXJ0eShcIiRkYXRhXCIsIFwie1wiICsgdGhpcy5maWVsZC5nZXRQYXRoKCkgKyBcIn1cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGV4dEJsb2NrID0gbmV3IEFkYXB0aXZlLlRleHRCbG9jaygpO1xuICAgICAgICAgICAgdGV4dEJsb2NrLnRleHQgPSBcIntcIiArIHRoaXMuZmllbGQuZ2V0UGF0aCgpICsgXCJ9XCI7XG5cbiAgICAgICAgICAgIGVsZW1lbnQgPSB0ZXh0QmxvY2s7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UoZGVzaWduZXIsIG51bGwsIGVsZW1lbnQsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEN1c3RvbVBhbGV0dGVJdGVtIGV4dGVuZHMgQmFzZVBhbGV0dGVJdGVtIHtcbiAgICByZWFkb25seSBjYXRlZ29yeTogc3RyaW5nO1xuXG4gICAgcHJvdGVjdGVkIGdldEljb25DbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJhY2QtaWNvbi1jdXN0b21QYWxldHRlSXRlbVwiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGNhdGVnb3J5OiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU25pcHBldFBhbGV0dGVJdGVtIGV4dGVuZHMgQ3VzdG9tUGFsZXR0ZUl0ZW0ge1xuICAgIHByb3RlY3RlZCBnZXRUZXh0KCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIHNuaXBwZXQ6IG9iamVjdDtcblxuICAgIGNvbnN0cnVjdG9yKGNhdGVnb3J5OiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICBzdXBlcihjYXRlZ29yeSk7XG5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBjcmVhdGVQZWVyKGNvbnRleHQ6IERlc2lnbkNvbnRleHQsIGRlc2lnbmVyOiBDYXJkRGVzaWduZXJTdXJmYWNlKTogQ2FyZEVsZW1lbnRQZWVyIHtcbiAgICAgICAgaWYgKHRoaXMuc25pcHBldCkge1xuICAgICAgICAgICAgbGV0IHJvb3RFbGVtZW50VHlwZU5hbWUgPSB0aGlzLnNuaXBwZXRbXCJ0eXBlXCJdO1xuXG4gICAgICAgICAgICBpZiAocm9vdEVsZW1lbnRUeXBlTmFtZSkge1xuICAgICAgICAgICAgICAgIGxldCBhZGFwdGl2ZUVsZW1lbnQgPSBjb250ZXh0Lmhvc3RDb250YWluZXIuZWxlbWVudHNSZWdpc3RyeS5jcmVhdGVJbnN0YW5jZShyb290RWxlbWVudFR5cGVOYW1lLCBjb250ZXh0LnRhcmdldFZlcnNpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFkYXB0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBhZGFwdGl2ZUVsZW1lbnQucGFyc2UodGhpcy5zbmlwcGV0KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ2FyZERlc2lnbmVyU3VyZmFjZS5jYXJkRWxlbWVudFBlZXJSZWdpc3RyeS5jcmVhdGVQZWVySW5zdGFuY2UoZGVzaWduZXIsIG51bGwsIGFkYXB0aXZlRWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG5pbXBvcnQgeyBEcm9wRG93biwgRHJvcERvd25JdGVtIH0gZnJvbSBcImFkYXB0aXZlY2FyZHMtY29udHJvbHNcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCI7XG5cbmV4cG9ydCBlbnVtIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50IHtcbiAgICBMZWZ0LFxuICAgIFJpZ2h0XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUb29sYmFyRWxlbWVudCB7XG4gICAgcHJpdmF0ZSBfcmVuZGVyZWRFbGVtZW50OiBIVE1MRWxlbWVudCA9IHVuZGVmaW5lZDtcblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudDtcblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFVwZGF0ZUxheW91dCgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZyBpbiBiYXNlIGltcGxlbWVudGF0aW9uXG4gICAgfVxuXG4gICAgcmVhZG9ubHkgaWQ6IHN0cmluZztcblxuICAgIGlzVmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG4gICAgc2VwYXJhdG9yOiBib29sZWFuID0gZmFsc2U7XG4gICAgbGFiZWw6IHN0cmluZyA9IG51bGw7XG4gICAgYWxpZ25tZW50OiBUb29sYmFyRWxlbWVudEFsaWdubWVudCA9IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XG4gICAgICAgIGlmICghaWQgfHwgaWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRvb2xiYXIgZWxlbWVudHMgbXVzdCBoYXZlIGFuIElkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG5cbiAgICB1cGRhdGVMYXlvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxVcGRhdGVMYXlvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudCA9IHRoaXMuaW50ZXJuYWxSZW5kZXIoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgZ2V0IHJlbmRlcmVkRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZEVsZW1lbnQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJhckJ1dHRvbiBleHRlbmRzIFRvb2xiYXJFbGVtZW50IHtcbiAgICBwcml2YXRlIF9jYXB0aW9uOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfZGlzcGxheUNhcHRpb246IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2ljb25DbGFzczogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX3Rvb2xUaXA6IHN0cmluZyA9IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIF9pc0VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2FsbG93VG9nZ2xlOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfaXNUb2dnbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcm90ZWN0ZWQgY2xpY2tlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkICYmIHRoaXMub25DbGljaykge1xuICAgICAgICAgICAgdGhpcy5vbkNsaWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGludGVybmFsVXBkYXRlTGF5b3V0KCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc05hbWUgPSBcImFjZC10b29sYmFyLWJ1dHRvblwiO1xuXG4gICAgICAgIGlmKCF0aGlzLmlzRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImFjZC10b29sYmFyLWJ1dHRvbi1kaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImFjZC10b29sYmFyLWJ1dHRvbi1kaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1RvZ2dsZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY2QtdG9vbGJhci1idXR0b24tdG9nZ2xlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJhY2QtdG9vbGJhci1idXR0b24tdG9nZ2xlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmFsbG93VG9nZ2xlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwgdGhpcy5pc1RvZ2dsZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5pY29uQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXlDYXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVkRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYWNkLXRvb2xiYXItYnV0dG9uLWljb25Pbmx5XCIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEVsZW1lbnQuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMuY2FwdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZWRFbGVtZW50LnRpdGxlID0gdGhpcy50b29sVGlwID8gdGhpcy50b29sVGlwIDogXCJcIjtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW50ZXJuYWxSZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGVsZW1lbnQudHlwZSA9IFwiYnV0dG9uXCI7XG5cbiAgICAgICAgZWxlbWVudC5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93VG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1RvZ2dsZWQgPSAhdGhpcy5pc1RvZ2dsZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2xpY2tlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgb25DbGljazogKHNlbmRlcjogVG9vbGJhckJ1dHRvbikgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBpZDogc3RyaW5nLFxuICAgICAgICBjYXB0aW9uOiBzdHJpbmcsXG4gICAgICAgIGljb25DbGFzczogc3RyaW5nLFxuICAgICAgICBvbkNsaWNrOiAoc2VuZGVyOiBUb29sYmFyQnV0dG9uKSA9PiB2b2lkID0gbnVsbCkge1xuICAgICAgICBzdXBlcihpZCk7XG5cbiAgICAgICAgdGhpcy5jYXB0aW9uID0gY2FwdGlvbjtcbiAgICAgICAgdGhpcy5pY29uQ2xhc3MgPSBpY29uQ2xhc3M7XG4gICAgICAgIHRoaXMub25DbGljayA9IG9uQ2xpY2s7XG4gICAgfVxuXG4gICAgZ2V0IGFsbG93VG9nZ2xlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsb3dUb2dnbGU7XG4gICAgfVxuXG4gICAgc2V0IGFsbG93VG9nZ2xlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2FsbG93VG9nZ2xlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9hbGxvd1RvZ2dsZSkge1xuICAgICAgICAgICAgdGhpcy5pc1RvZ2dsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpc1RvZ2dsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1RvZ2dsZWQ7XG4gICAgfVxuXG4gICAgc2V0IGlzVG9nZ2xlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9pc1RvZ2dsZWQgPSB2YWx1ZTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuICAgIH1cblxuICAgIGdldCBjYXB0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXB0aW9uO1xuICAgIH1cblxuICAgIHNldCBjYXB0aW9uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY2FwdGlvbiA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGRpc3BsYXlDYXB0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGxheUNhcHRpb247XG4gICAgfVxuXG4gICAgc2V0IGRpc3BsYXlDYXB0aW9uKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BsYXlDYXB0aW9uID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICBnZXQgaWNvbkNsYXNzKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pY29uQ2xhc3M7XG4gICAgfVxuXG4gICAgc2V0IGljb25DbGFzcyh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2ljb25DbGFzcyA9IHZhbHVlO1xuXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KCk7XG4gICAgfVxuXG4gICAgZ2V0IHRvb2xUaXAoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rvb2xUaXA7XG4gICAgfVxuXG4gICAgc2V0IHRvb2xUaXAodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl90b29sVGlwID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG5cbiAgICBnZXQgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNFbmFibGVkO1xuICAgIH1cblxuICAgIHNldCBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5faXNFbmFibGVkID0gdmFsdWU7XG5cbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNob2ljZVBpY2tlckl0ZW0ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJhckNob2ljZVBpY2tlciBleHRlbmRzIFRvb2xiYXJFbGVtZW50IHtcbiAgICBwcml2YXRlIF9kcm9wRG93bjogRHJvcERvd247XG4gICAgcHJpdmF0ZSBfbGFiZWxsZWRCeUlkOiBzdHJpbmc7IC8vIGlkIHRvIHVzZSBmb3Igb3VyIGxhYmVsIGVsZW1lbnRcblxuICAgIHByb3RlY3RlZCBpbnRlcm5hbFJlbmRlcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuX2Ryb3BEb3duID0gbmV3IERyb3BEb3duKCk7XG5cbiAgICAgICAgZm9yIChsZXQgY2hvaWNlIG9mIHRoaXMuY2hvaWNlcykge1xuICAgICAgICAgICAgbGV0IGRyb3BEb3duSXRlbSA9IG5ldyBEcm9wRG93bkl0ZW0oY2hvaWNlLnZhbHVlLCBjaG9pY2UubmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Ryb3BEb3duLml0ZW1zLmFkZChkcm9wRG93bkl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZHJvcERvd24uc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2Ryb3BEb3duLm9uVmFsdWVDaGFuZ2VkID0gKHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub25DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZWQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGlja2VyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICAgICAgaWYgKHRoaXMud2lkdGggJiYgdGhpcy53aWR0aCA+IDApIHtcbiAgICAgICAgICAgIHBpY2tlckVsZW1lbnQuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIGxhYmVsIGlkcyBzbyB3ZSBjYW4gZ2VuZXJhdGUgY29ycmVjdCBhcmlhXG4gICAgICAgIGlmICh0aGlzLmxhYmVsICYmICF0aGlzLl9sYWJlbGxlZEJ5SWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsbGVkQnlJZCA9IHV1aWR2NCgpO1xuICAgICAgICAgICAgdGhpcy5fZHJvcERvd24ucGFyZW50TGFiZWxJZCA9IHRoaXMuX2xhYmVsbGVkQnlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Ryb3BEb3duLmF0dGFjaChwaWNrZXJFbGVtZW50KTtcblxuICAgICAgICBsZXQgcGlja2VyQ29udGFpbmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHBpY2tlckNvbnRhaW5lckVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdG9vbGJhci1jaG9pY2VQaWNrZXJcIjtcblxuICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgICAgICAgbGV0IGxhYmVsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2QtdG9vbGJhci1sYWJlbFwiO1xuICAgICAgICAgICAgbGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMubGFiZWw7XG4gICAgICAgICAgICBsYWJlbEVsZW1lbnQuaWQgPSB0aGlzLl9sYWJlbGxlZEJ5SWQ7XG5cbiAgICAgICAgICAgIHBpY2tlckNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBpY2tlckNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQocGlja2VyRWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tlckNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgb25DaGFuZ2VkOiAoc2VuZGVyOiBUb29sYmFyQ2hvaWNlUGlja2VyKSA9PiB2b2lkO1xuXG4gICAgbGFiZWw6IHN0cmluZyA9IG51bGw7XG4gICAgY2hvaWNlczogQXJyYXk8SUNob2ljZVBpY2tlckl0ZW0+ID0gW107XG4gICAgd2lkdGg/OiBudW1iZXIgPSBudWxsO1xuXG4gICAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wRG93bi52YWx1ZS5rZXk7XG4gICAgfVxuXG4gICAgZ2V0IHNlbGVjdGVkSW5kZXgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BEb3duLnNlbGVjdGVkSW5kZXg7XG4gICAgfVxuXG4gICAgc2V0IHNlbGVjdGVkSW5kZXgodmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLl9kcm9wRG93bi5zZWxlY3RlZEluZGV4ID0gdmFsdWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG9vbGJhciB7XG4gICAgcHJpdmF0ZSBfZWxlbWVudHM6IEFycmF5PFRvb2xiYXJFbGVtZW50PiA9IFtdO1xuICAgIHByaXZhdGUgX2F0dGFjaGVkVG86IEhUTUxFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBjcmVhdGVTZXBhcmF0b3JFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgbGV0IHNlcGFyYXRvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzZXBhcmF0b3JFbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXItc2VwYXJhdG9yXCI7XG5cbiAgICAgICAgcmV0dXJuIHNlcGFyYXRvckVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW5kZXJFbGVtZW50c0ludG8oXG4gICAgICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgICAgIGVsZW1lbnRzOiBBcnJheTxUb29sYmFyRWxlbWVudD4sXG4gICAgICAgIHNlcGFyYXRvclBvc2l0aW9uOiBUb29sYmFyRWxlbWVudEFsaWdubWVudCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uc2VwYXJhdG9yICYmIHNlcGFyYXRvclBvc2l0aW9uID09IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQgJiYgaSA+IDApIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTZXBhcmF0b3JFbGVtZW50KCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudHNbaV0ucmVuZGVyKCkpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uc2VwYXJhdG9yICYmIHNlcGFyYXRvclBvc2l0aW9uID09IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LlJpZ2h0ICYmIGkgPCBlbGVtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2VwYXJhdG9yRWxlbWVudCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF0dGFjaFRvKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkVG8gPSBlbGVtZW50O1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXJcIjtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRUby5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIGxldCBsZWZ0RWxlbWVudHM6IEFycmF5PFRvb2xiYXJFbGVtZW50PiA9IFtdO1xuICAgICAgICBsZXQgcmlnaHRFbGVtZW50czogQXJyYXk8VG9vbGJhckVsZW1lbnQ+ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgZWxlbWVudCBvZiB0aGlzLl9lbGVtZW50cykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWxpZ25tZW50ID09IFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByaWdodEVsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlZnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsZWZ0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXItY29udGVudFwiO1xuXG4gICAgICAgIGxldCByaWdodENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJpZ2h0Q29udGFpbmVyLmNsYXNzTmFtZSA9IFwiYWNkLXRvb2xiYXItY29udGVudFwiO1xuXG4gICAgICAgIHRoaXMucmVuZGVyRWxlbWVudHNJbnRvKFxuICAgICAgICAgICAgbGVmdENvbnRhaW5lcixcbiAgICAgICAgICAgIGxlZnRFbGVtZW50cyxcbiAgICAgICAgICAgIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LkxlZnQpO1xuICAgICAgICB0aGlzLnJlbmRlckVsZW1lbnRzSW50byhcbiAgICAgICAgICAgIHJpZ2h0Q29udGFpbmVyLFxuICAgICAgICAgICAgcmlnaHRFbGVtZW50cyxcbiAgICAgICAgICAgIFRvb2xiYXJFbGVtZW50QWxpZ25tZW50LlJpZ2h0KTtcblxuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmFwcGVuZENoaWxkKGxlZnRDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFRvLmFwcGVuZENoaWxkKHJpZ2h0Q29udGFpbmVyKTtcbiAgICB9XG5cbiAgICBhZGRFbGVtZW50KGVsZW1lbnQ6IFRvb2xiYXJFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRzLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkOiBzdHJpbmcpOiBUb29sYmFyRWxlbWVudCB7XG4gICAgICAgIGZvciAobGV0IGVsZW1lbnQgb2YgdGhpcy5fZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmlkID09IGVsZW1lbnRJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaW5zZXJ0RWxlbWVudEFmdGVyKGVsZW1lbnQ6IFRvb2xiYXJFbGVtZW50LCBhZnRlckVsZW1lbnRJZDogc3RyaW5nKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50c1tpXS5pZCA9PSBhZnRlckVsZW1lbnRJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRzLnNwbGljZShpICsgMSwgMCwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgYXMgdGhlIGxhc3QgZWxlbWVudCBpZiBubyBlbGVtZW50IHdhcyBmb3VuZCB3aXRoIHRoZVxuICAgICAgICAvLyBzcGVjaWZpZWQgaWRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBpbnNlcnRFbGVtZW50QmVmb3JlKGVsZW1lbnQ6IFRvb2xiYXJFbGVtZW50LCBiZWZvcmVFbGVtZW50SWQ6IHN0cmluZykge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fZWxlbWVudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGVtZW50c1tpXS5pZCA9PSBiZWZvcmVFbGVtZW50SWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5zcGxpY2UoaSwgMCwgZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnNlcnQgYXMgZmlyc3QgZWxlbWVudCBpZiBubyBlbGVtZW50IHdhcyBmb3VuZCB3aXRoIHRoZVxuICAgICAgICAvLyBzcGVjaWZpZWQgaWRcbiAgICAgICAgdGhpcy5fZWxlbWVudHMuc3BsaWNlKDAsIDAsIGVsZW1lbnQpO1xuICAgIH1cbn1cbiIsIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuaW1wb3J0IHsgQmFzZVRyZWVJdGVtIH0gZnJvbSBcIi4vYmFzZS10cmVlLWl0ZW1cIjtcblxuZXhwb3J0IGNsYXNzIFRyZWVWaWV3IHtcbiAgICBwcml2YXRlIF9zZWxlY3RlZEl0ZW06IEJhc2VUcmVlSXRlbSA9IHVuZGVmaW5lZDtcblxuICAgIHByaXZhdGUgc2V0dXBUcmVlSXRlbUV2ZW50cyh0cmVlSXRlbTogQmFzZVRyZWVJdGVtKSB7XG4gICAgICAgIHRyZWVJdGVtLm9uU2VsZWN0ZWRDaGFuZ2UgPSAoc2VuZGVyOiBCYXNlVHJlZUl0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gc2VuZGVyO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUl0ZW0uZ2V0Q2hpbGRDb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBUcmVlSXRlbUV2ZW50cyh0cmVlSXRlbS5nZXRDaGlsZEF0KGkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBzZWxlY3RlZEl0ZW1DaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5vblNlbGVjdGVkSXRlbUNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3RlZEl0ZW1DaGFuZ2VkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGlmICh0aGlzLnJvb3RJdGVtKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3RJdGVtLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBsZXQgdHJlZVJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgICAgIHRyZWVSb290LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIwXCI7XG4gICAgICAgIHRyZWVSb290LnN0eWxlLmxpc3RTdHlsZVR5cGUgPSBcIm5vbmVcIjtcbiAgICAgICAgdHJlZVJvb3QuY2xhc3NOYW1lID0gXCJhY2QtdHJlZVZpZXdcIjtcbiAgICAgICAgdHJlZVJvb3Quc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRyZWVcIik7XG4gICAgICAgIHRyZWVSb290LmFwcGVuZENoaWxkKHRoaXMucm9vdEl0ZW0ucmVuZGVyKCkpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBUcmVlSXRlbUV2ZW50cyh0aGlzLnJvb3RJdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJlZVJvb3Q7XG4gICAgfVxuXG4gICAgb25TZWxlY3RlZEl0ZW1DaGFuZ2VkOiAoc2VuZGVyOiBUcmVlVmlldykgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHJvb3RJdGVtOiBCYXNlVHJlZUl0ZW0pIHsgfVxuXG4gICAgZ2V0IHNlbGVjdGVkSXRlbSgpOiBCYXNlVHJlZUl0ZW0ge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJdGVtO1xuICAgIH1cblxuICAgIHNldCBzZWxlY3RlZEl0ZW0odmFsdWU6IEJhc2VUcmVlSXRlbSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3NlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbS5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkSXRlbSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRJdGVtLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbUNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9hZGFwdGl2ZWNhcmRzX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2FkYXB0aXZlY2FyZHNfdGVtcGxhdGluZ19fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvYWRhcHRpdmVjYXJkcy1kZXNpZ25lci1zdGFuZGFsb25lLnRzXCIpO1xuIiwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9